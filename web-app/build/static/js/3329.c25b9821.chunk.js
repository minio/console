"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[3329],{53329:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(65043),s=t(89923),r=t(73216),c=t(99161),l=t(21383),i=t(77403),o=t(38375),x=t(56629),d=t(64159),p=t(53518),j=t(70579);const h=()=>{const e=(0,l.jL)(),n=(0,r.Zp)(),[t,h]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),y=""!==t.trim()&&-1===t.indexOf(" ");return(0,j.jsx)(s.Mxu,{children:(0,j.jsx)(s.Hbc,{title:"Create Key",icon:(0,j.jsx)(s.No_,{}),helpBox:(0,j.jsx)(o.A,{helpText:"Encryption Key",contents:["Create a new cryptographic key in the Key Management Service server connected to MINIO."]}),children:(0,j.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:a=>{a.preventDefault(),u(!0),x.F.kms.kmsCreateKey({key:t}).then((e=>{n("".concat(c.zZ.KMS_KEYS))})).catch((async n=>{const t=await n.json();e((0,d.C9)((0,p.S)(t)))})).finally((()=>u(!1)))},children:(0,j.jsxs)(s.xA9,{container:!0,children:[(0,j.jsx)(s.xA9,{item:!0,xs:12,children:(0,j.jsx)(s.cl_,{id:"key-name",name:"key-name",label:"Key Name",autoFocus:!0,value:t,error:(e=>-1!==e.indexOf(" ")?"Key name cannot contain spaces":"")(t),onChange:e=>{h(e.target.value)}})}),(0,j.jsxs)(s.xA9,{item:!0,xs:12,sx:i.Uz.modalButtonBar,children:[(0,j.jsx)(s.$nd,{id:"clear",type:"button",variant:"regular",onClick:()=>{h("")},label:"Clear"}),(0,j.jsx)(s.$nd,{id:"save-key",type:"submit",variant:"callAction",color:"primary",disabled:m||!y,label:"Save"})]})]})})})})};var m=t(48793),u=t(55968);const y=()=>{const e=(0,l.jL)(),n=(0,r.Zp)();return(0,a.useEffect)((()=>{e((0,d.ph)("add_key"))}),[]),(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(s.xA9,{item:!0,xs:12,children:[(0,j.jsx)(m.A,{label:(0,j.jsx)(s.EGL,{label:"Keys",onClick:()=>n(c.zZ.KMS_KEYS)}),actions:(0,j.jsx)(u.A,{})}),(0,j.jsx)(h,{})]})})}},38375:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(65043),s=t(89923),r=t(70579);const c=e=>{let{helpText:n,contents:t}=e;return(0,r.jsx)(s.lVp,{iconComponent:(0,r.jsx)(s.nag,{}),title:n,help:(0,r.jsx)(a.Fragment,{children:t.map((e=>(0,r.jsx)(s.azJ,{sx:{paddingBottom:"20px"},children:e})))})})}}}]);
//# sourceMappingURL=3329.c25b9821.chunk.js.map