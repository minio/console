"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9807,7664,1140],{29316:function(e,n,t){t(50390);var r=t(6369),o=t(86509),i=t(4285),s=t(85615),a=t(62559);n.Z=(0,i.Z)((function(e){return(0,o.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center","& svg.min-icon":{width:12}}})}))((function(e){var n=e.to,t=e.label,o=e.classes,i=e.className,c=e.executeOnClick;return(0,a.jsxs)(r.rU,{to:n,className:"".concat(o.link," ").concat(i||""),onClick:function(){c&&c()},children:[(0,a.jsx)("div",{className:o.icon,children:(0,a.jsx)(s.xN,{})}),(0,a.jsx)("div",{className:o.label,children:t})]})}))},47664:function(e,n,t){t.r(n);var r=t(23430),o=(t(50390),t(34424)),i=t(86509),s=t(4285),a=t(23473),c=t(44149),l=t(21639),u=t(60656),d=t(85615),h=t(62559),m={setErrorSnackMessage:c.Ih},f=(0,o.$j)(null,m);n.default=(0,s.Z)((function(e){return(0,i.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}})}))(f((function(e){var n=e.classes,t=e.closeDeleteModalAndRefresh,o=e.deleteOpen,i=e.selectedServiceAccount,s=e.setErrorSnackMessage,c=(0,l.Z)((function(){return t(!0)}),(function(e){return s(e)})),m=(0,r.Z)(c,2),f=m[0],p=m[1];if(!i)return null;return(0,h.jsx)(u.Z,{title:"Delete Service Account",confirmText:"Delete",isOpen:o,titleIcon:(0,h.jsx)(d.Nv,{}),isLoading:f,onConfirm:function(){p("DELETE","/api/v1/service-accounts/".concat(i))},onClose:function(){return t(!1)},confirmationContent:(0,h.jsxs)(a.Z,{children:["Are you sure you want to delete service account"," ",(0,h.jsx)("b",{className:n.wrapText,children:i}),"?"]})})})))},11835:function(e,n,t){var r=t(18489),o=t(83738),i=(t(50390),t(86509)),s=t(4285),a=t(62559),c=["classes","children"];n.Z=(0,s.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,i=(0,o.Z)(e,c);return(0,a.jsx)("button",(0,r.Z)((0,r.Z)({},i),{},{className:n.root,children:t}))}))},39080:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(18489),o=t(35531),i=t(50390),s=t(38342),a=t.n(s),c=t(86509),l=t(4285),u=t(66946),d=t(76352),h=t(25594),m=t(58217),f=t(65771),p=t(70758),x=t(33034),Z=t.n(x),g=t(85615),v=t(72462),j=t(62559),b=(0,l.Z)((function(e){return(0,c.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,r.Z)((0,r.Z)({},v.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,t=void 0===n?"":n,r=e.value,o=void 0===r?"":r,i=e.classes,s=void 0===i?{}:i;return(0,j.jsxs)("div",{className:s.container,children:[(0,j.jsxs)("div",{className:s.inputLabel,children:[t,":"]}),(0,j.jsx)("div",{className:s.inputWithCopy,children:(0,j.jsx)(m.Z,{value:o,readOnly:!0,endAdornment:(0,j.jsx)(f.Z,{position:"end",children:(0,j.jsx)(Z(),{text:o,children:(0,j.jsx)(p.Z,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:(0,j.jsx)(g.TI,{})})})})})})]})})),y=t(47424),S=(0,l.Z)((function(e){return(0,c.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"},promptIcon:{marginRight:".1rem",display:"flex",alignItems:"center",height:"2rem",width:"2rem"}})}))((function(e){var n=e.classes,t=e.newServiceAccount,s=e.open,c=e.closeModal,l=e.entity;if(!t)return null;var m=a()(t,"console",null),f=a()(t,"idp",!1);return(0,j.jsx)(d.Z,{modalOpen:s,onClose:function(){c()},title:(0,j.jsx)("div",{className:n.promptTitle,children:(0,j.jsxs)("div",{children:["New ",l," Created"]})}),titleIcon:(0,j.jsx)(g.tV,{}),children:(0,j.jsxs)(h.ZP,{container:!0,children:[(0,j.jsxs)(h.ZP,{item:!0,xs:12,className:n.formScrollable,children:["A new ",l," has been created with the following details:",!f&&m&&(0,j.jsx)(i.Fragment,{children:(0,j.jsxs)(h.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,j.jsx)("div",{className:n.credentialTitle,children:"Console Credentials"}),Array.isArray(m)&&m.map((function(e,n){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b,{label:"Access Key",value:e.accessKey}),(0,j.jsx)(b,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(m)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b,{label:"Access Key",value:m.accessKey}),(0,j.jsx)(b,{label:"Secret Key",value:m.secretKey})]})]})}),f?(0,j.jsx)("div",{className:n.warningBlock,children:"Please Login via the configured external identity provider."}):(0,j.jsxs)("div",{className:n.warningBlock,children:[(0,j.jsx)(y.Z,{}),(0,j.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,j.jsx)(u.Z,{id:"done-button",variant:"outlined",className:n.buttonSpacer,onClick:function(){c()},color:"primary",children:"Done"}),!f&&(0,j.jsx)(u.Z,{id:"download-button",onClick:function(){var e={};if(m)if(Array.isArray(m)){var n=m.map((function(e){return{url:e.url,access_key:e.accessKey,secret_key:e.secretKey,api:"s3v4",path:"auto"}}));e={console:(0,o.Z)(n)}}else e={console:[{url:m.url,access_key:m.accessKey,secret_key:m.secretKey,api:"s3v4",path:"auto"}]};!function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}("credentials.json",JSON.stringify((0,r.Z)({},e)))},endIcon:(0,j.jsx)(g._8,{}),variant:"contained",color:"primary",children:"Download"})]})]})})}))},92440:function(e,n,t){var r=t(36222),o=t(18489),i=t(50390),s=t(86509),a=t(4285),c=t(49056),l=t(36554),u=t(94187),d=t(35477),h=t(25594),m=t(72462),f=t(97538),p=t(44977),x=t(62559),Z=(0,a.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(c.Z);n.Z=(0,a.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},m.OR),m.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,s=e.onChange,a=e.value,c=e.id,m=e.name,g=e.checked,v=void 0!==g&&g,j=e.disabled,b=void 0!==j&&j,y=e.switchOnly,S=void 0!==y&&y,C=e.tooltip,k=void 0===C?"":C,w=e.description,A=void 0===w?"":w,N=e.classes,P=e.indicatorLabels,E=e.extraInputProps,M=void 0===E?{}:E,F=(0,x.jsxs)(i.Fragment,{children:[!S&&(0,x.jsx)("span",{className:(0,p.Z)(N.indicatorLabel,(0,r.Z)({},N.indicatorLabelOn,!v)),children:P&&P.length>1?P[1]:"OFF"}),(0,x.jsx)(Z,{checked:v,onChange:s,color:"primary",name:m,inputProps:(0,o.Z)({"aria-label":"primary checkbox"},M),disabled:b,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:a}),!S&&(0,x.jsx)("span",{className:(0,p.Z)(N.indicatorLabel,(0,r.Z)({},N.indicatorLabelOn,v)),children:P?P[0]:"ON"})]});return S?F:(0,x.jsx)("div",{className:N.divContainer,children:(0,x.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,x.jsx)(h.ZP,{item:!0,xs:!0,children:(0,x.jsxs)(h.ZP,{container:!0,children:[(0,x.jsx)(h.ZP,{item:!0,xs:12,sm:10,md:9,children:""!==t&&(0,x.jsxs)(l.Z,{htmlFor:c,className:N.inputLabel,children:[(0,x.jsx)("span",{children:t}),""!==k&&(0,x.jsx)("div",{className:N.tooltipContainer,children:(0,x.jsx)(u.Z,{title:k,placement:"top-start",children:(0,x.jsx)("div",{className:N.tooltip,children:(0,x.jsx)(f.Z,{})})})})]})}),(0,x.jsx)(h.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==A&&(0,x.jsx)(d.Z,{component:"p",className:N.fieldDescription,children:A})})]})}),(0,x.jsx)(h.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:N.switchContainer,children:F})]})})}))},48122:function(e,n,t){t(50390);var r=t(86509),o=t(4285),i=t(62559);n.Z=(0,o.Z)((function(e){return(0,r.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,i.jsx)("h1",{className:n.root,children:t})}))},62702:function(e,n,t){t(50390);var r=t(25594),o=t(86509),i=t(4285),s=t(62559);n.Z=(0,i.Z)((function(e){return(0,o.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,o=e.title,i=e.subTitle,a=e.actions,c=e.className;return(0,s.jsx)(r.ZP,{container:!0,children:(0,s.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(c||""),children:[(0,s.jsxs)("div",{className:n.leftItems,children:[t?(0,s.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,s.jsxs)("div",{className:n.titleColumn,children:[(0,s.jsx)("h1",{style:{margin:0},children:o}),(0,s.jsx)("span",{className:n.headerBarSubheader,children:i})]})]}),(0,s.jsx)("div",{className:n.rightItems,children:a})]})})}))},57647:function(e,n,t){var r=t(18489),o=t(23430),i=t(50390),s=t(56805),a=t(49044),c=t(97227),l=t(74564),u=t(669),d=t(4285),h=t(88669),m=t(86509),f=t(13512),p=t(62559),x={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,m.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,m=void 0===d?"0":d,Z=e.routes,g=e.isRouteTabs,v=i.useState(m),j=(0,o.Z)(v,2),b=j[0],y=j[1],S=(0,h.Z)(),C=(0,f.Z)(S.breakpoints.down("md")),k=[],w=[];return n?(n.forEach((function(e){k.push(e.tabConfig),w.push(e.content)})),(0,p.jsx)(c.ZP,{value:"".concat(b),children:(0,p.jsxs)(s.Z,{className:t.tabsContainer,children:[(0,p.jsx)(s.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(l.Z,{onChange:function(e,n){y(n)},orientation:C?"horizontal":"vertical",variant:C?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:k.map((function(e,n){return e?(0,p.jsx)(a.Z,(0,r.Z)((0,r.Z)({className:t.tabHeader,value:"".concat(n),style:x},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(s.Z,{className:t.tabContentContainer,children:[g?null:w.map((function(e,n){return(0,p.jsx)(u.Z,{classes:(0,r.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,p.jsx)("div",{className:t.tabPanel,children:Z}):null]})]})})):null}))},59176:function(e,n,t){var r=t(35531),o=t(23430),i=t(18489),s=t(50390),a=t(34424),c=t(86509),l=t(4285),u=t(81378),d=t(25594),h=t(25233),m=t(72462),f=t(44149),p=t(30324),x=t(8174),Z=t(23165),g=t(62559),v=(0,a.$j)(null,{setModalErrorSnackMessage:f.zb});n.Z=(0,l.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,i.Z)({},m.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},m.qg),m.VX),m.OR),m.jY))}))(v((function(e){var n=e.classes,t=e.selectedPolicy,i=void 0===t?[]:t,a=e.setSelectedPolicy,c=e.setModalErrorSnackMessage,l=(0,s.useState)([]),m=(0,o.Z)(l,2),f=m[0],v=m[1],j=(0,s.useState)(!1),b=(0,o.Z)(j,2),y=b[0],S=b[1],C=(0,s.useState)(""),k=(0,o.Z)(C,2),w=k[0],A=k[1],N=(0,s.useCallback)((function(){S(!0),p.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;S(!1),v(n.sort(h.g4))})).catch((function(e){S(!1),c(e)}))}),[c]);(0,s.useEffect)((function(){S(!0)}),[]),(0,s.useEffect)((function(){y&&N()}),[y,N]);var P=f.filter((function(e){return e.name.includes(w)}));return(0,g.jsx)(s.Fragment,{children:(0,g.jsxs)(d.ZP,{item:!0,xs:12,children:[y&&(0,g.jsx)(u.Z,{}),f.length>0?(0,g.jsxs)(s.Fragment,{children:[(0,g.jsxs)(d.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(Z.Z,{placeholder:"Filter Policy",onChange:function(e){A(e)},value:w})})]}),(0,g.jsx)(d.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(x.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,o=n.checked,s=(0,r.Z)(i);o?s.push(t):s=s.filter((function(e){return e!==t})),s=s.filter((function(e){return""!==e})),a(s)},selectedItems:i,isLoading:y,records:P,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},92620:function(e,n,t){var r=t(35531),o=t(23430),i=t(18489),s=t(50390),a=t(34424),c=t(86509),l=t(4285),u=t(81378),d=t(38342),h=t.n(d),m=t(25594),f=t(25233),p=t(72462),x=t(44149),Z=t(30324),g=t(8174),v=t(23165),j=t(62559),b={setModalErrorSnackMessage:x.zb},y=(0,a.$j)(null,b);n.Z=(0,l.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},actionsTitle:{fontWeight:400,color:"#000",fontSize:14,alignSelf:"center",marginRight:48,"@media (max-width: 900px)":{marginRight:0}},searchBox:{flex:1,marginLeft:"2rem"}},p.VX),p.OR),p.jY))}))(y((function(e){var n=e.classes,t=e.selectedGroups,i=e.setSelectedGroups,a=e.setModalErrorSnackMessage,c=(0,s.useState)([]),l=(0,o.Z)(c,2),d=l[0],p=l[1],x=(0,s.useState)(!1),b=(0,o.Z)(x,2),y=b[0],S=b[1],C=(0,s.useState)(""),k=(0,o.Z)(C,2),w=k[0],A=k[1],N=(0,s.useCallback)((function(){Z.Z.invoke("GET","/api/v1/groups").then((function(e){var n=h()(e,"groups",[]);n||(n=[]),p(n.sort(f.V2)),S(!1)})).catch((function(e){a(e),S(!1)}))}),[a]);(0,s.useEffect)((function(){S(!0)}),[]),(0,s.useEffect)((function(){y&&N()}),[y,N]);var P=t||[],E=d.filter((function(e){return e.includes(w)}));return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)(m.ZP,{item:!0,xs:12,children:[y&&(0,j.jsx)(u.Z,{}),null!==d&&d.length>0?(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)("label",{className:n.actionsTitle,children:"Assign Groups"}),(0,j.jsx)("div",{className:n.searchBox,children:(0,j.jsx)(v.Z,{placeholder:"Filter Groups",adornmentPosition:"end",onChange:A,value:w})})]}),(0,j.jsx)(m.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(g.Z,{columns:[{label:"Group",elementKey:""}],onSelect:function(e){var n=e.target,t=n.value,o=n.checked,s=(0,r.Z)(P);return o?s.push(t):s=s.filter((function(e){return e!==t})),i(s),s},selectedItems:P,isLoading:y,records:E,entityName:"Groups",idField:"",customPaperHeight:n.multiSelectTable})})]}):(0,j.jsx)("div",{className:n.noFound,children:"No Groups Available"})]})})})))},48951:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ae}});var r=t(50390),o=t(24442),i=t(70971),s=t(34424),a=t(44149),c=t(36176),l=t(35531),u=t(23430),d=t(18489),h=t(86509),m=t(4285),f=t(30324),p=t(25594),x=t(81378),Z=t(25233),g=t(85615),v=t(72462),j=t(8174),b=t(35721),y=t(28948),S=t(8235),C=t(11835),k=t(25534),w=t(23165),A=t(37882),N=t(49495),P=t(53224),E=t(30140),M=t(62559),F=(0,A.Z)(r.lazy((function(){return t.e(5961).then(t.bind(t,35961))}))),R=(0,A.Z)(r.lazy((function(){return t.e(6549).then(t.bind(t,16549))}))),I=(0,A.Z)(r.lazy((function(){return t.e(7498).then(t.bind(t,57498))}))),T=(0,A.Z)(r.lazy((function(){return t.e(9421).then(t.bind(t,69421))}))),B={setErrorSnackMessage:a.Ih},D=(0,s.$j)(null,B),U=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},v.OR),v.qg),{},{searchField:(0,d.Z)((0,d.Z)({},v.qg.searchField),{},{marginRight:"auto",maxWidth:380})},v.VX),(0,v.Bz)(e.spacing(4))))}))(D((function(e){var n=e.classes,t=e.setErrorSnackMessage,o=e.history,i=(0,r.useState)([]),s=(0,u.Z)(i,2),a=s[0],c=s[1],d=(0,r.useState)(!0),h=(0,u.Z)(d,2),m=h[0],v=h[1],A=(0,r.useState)(!1),B=(0,u.Z)(A,2),D=B[0],U=B[1],O=(0,r.useState)(!1),L=(0,u.Z)(O,2),z=L[0],_=L[1],K=(0,r.useState)(null),G=(0,u.Z)(K,2),V=G[0],W=G[1],$=(0,r.useState)(!1),H=(0,u.Z)($,2),q=H[0],X=H[1],Y=(0,r.useState)(""),Q=(0,u.Z)(Y,2),J=Q[0],ee=Q[1],ne=(0,r.useState)([]),te=(0,u.Z)(ne,2),re=te[0],oe=te[1],ie=(0,r.useState)(!1),se=(0,u.Z)(ie,2),ae=se[0],ce=se[1],le=(0,E.F)(N.C3,[N.Ft.ADMIN_LIST_USERS]),ue=(0,E.F)(N.C3,[N.Ft.ADMIN_DELETE_USER]),de=(0,E.F)(N.C3,[N.Ft.ADMIN_GET_USER]),he=(0,E.F)(N.C3,[N.Ft.ADMIN_ADD_USER_TO_GROUP]);(0,r.useEffect)((function(){m&&(le?f.Z.invoke("GET","/api/v1/users").then((function(e){var n=null===e.users?[]:e.users;v(!1),c(n.sort(Z.LQ))})).catch((function(e){v(!1),t(e)})):v(!1))}),[m,t,le]);var me=a.filter((function(e){return e.accessKey.includes(J)})),fe=(0,y.le)(localStorage.getItem("userLoggedIn")||""),pe=[{type:"view",onClick:function(e){o.push("".concat(N.gA.USERS,"/").concat(encodeURI(e.accessKey)))},disableButtonFunction:function(){return!de}},{type:"delete",onClick:function(e){_(!0),W(e)},disableButtonFunction:function(e){return e===fe||!ue}}];return(0,M.jsxs)(r.Fragment,{children:[D&&(0,M.jsx)(F,{open:D,selectedUser:V,closeModalAndRefresh:function(){U(!1),v(!0)}}),ae&&(0,M.jsx)(R,{open:ae,selectedUser:V,selectedGroup:null,closeModalAndRefresh:function(){ce(!1),v(!0)}}),z&&(0,M.jsx)(I,{deleteOpen:z,selectedUser:V,closeDeleteModalAndRefresh:function(e){!function(e){_(!1),e&&v(!0)}(e)}}),q&&(0,M.jsx)(T,{open:q,checkedUsers:re,closeModalAndRefresh:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];X(!1),e&&oe([])}(e)}}),(0,M.jsx)(b.Z,{label:"Users"}),(0,M.jsxs)(k.Z,{children:[(0,M.jsxs)(p.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,M.jsx)(w.Z,{placeholder:"Search Users",onChange:ee,overrideClass:n.searchField,value:J}),(0,M.jsx)(E.s,{scopes:[N.Ft.ADMIN_ADD_USER_TO_GROUP],resource:N.C3,errorProps:{disabled:!0},children:(0,M.jsx)(P.Z,{tooltip:"Add to Group",text:"Add to Group",icon:(0,M.jsx)(g.ww,{}),color:"primary",disabled:re.length<=0,onClick:function(){re.length>0&&X(!0)},variant:"outlined"})}),(0,M.jsx)(E.s,{scopes:[N.Ft.ADMIN_CREATE_USER,N.Ft.ADMIN_LIST_USER_POLICIES,N.Ft.ADMIN_LIST_GROUPS],resource:N.HQ,matchAll:!0,errorProps:{disabled:!0},children:(0,M.jsx)(P.Z,{tooltip:"Create User",text:"Create User",icon:(0,M.jsx)(g.dt,{}),color:"primary",onClick:function(){U(!0),W(null)},variant:"contained"})})]}),(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)("br",{})}),m&&(0,M.jsx)(x.Z,{}),!m&&(0,M.jsxs)(r.Fragment,{children:[a.length>0&&(0,M.jsxs)(r.Fragment,{children:[(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,M.jsx)(E.s,{scopes:[N.Ft.ADMIN_LIST_USERS],resource:N.C3,errorProps:{disabled:!0},children:(0,M.jsx)(j.Z,{itemActions:pe,columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:he?function(e){var n=e.target,t=n.value,r=n.checked,o=(0,l.Z)(re);return r?o.push(t):o=o.filter((function(e){return e!==t})),oe(o),o}:void 0,selectedItems:re,isLoading:m,records:me,entityName:"Users",idField:"accessKey"})})}),(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(S.Z,{title:"Users",iconComponent:(0,M.jsx)(g.oy,{}),help:(0,M.jsxs)(r.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),"Each user can have one or more assigned policies that explicitly list the actions and resources to which that user has access. Users can also inherit policies from the groups in which they have membership.",(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),"You can learn more at our"," ",(0,M.jsx)("a",{href:"https://docs.min.io/minio/baremetal/monitoring/bucket-notifications/bucket-notifications.html?ref=con",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})})})]}),0===a.length&&(0,M.jsx)(p.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,M.jsx)(p.ZP,{item:!0,xs:8,children:(0,M.jsx)(S.Z,{title:"Users",iconComponent:(0,M.jsx)(g.oy,{}),help:(0,M.jsxs)(r.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),"Each user can have one or more assigned policies that explicitly list the actions and resources to which that user has access. Users can also inherit policies from the groups in which they have membership.",(0,M.jsx)(E.s,{scopes:[N.Ft.ADMIN_CREATE_USER,N.Ft.ADMIN_LIST_USER_POLICIES,N.Ft.ADMIN_LIST_GROUPS],matchAll:!0,resource:N.C3,children:(0,M.jsxs)(r.Fragment,{children:[(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),"To get started,"," ",(0,M.jsx)(C.Z,{onClick:function(){U(!0),W(null)},children:"Create a User"}),"."]})})]})})})})]})]})]})}))),O=t(89472),L=t(6369),z=t(66946),_=t(92620),K=t(76352),G=t(33447),V={setModalErrorSnackMessage:a.zb},W=(0,s.$j)(null,V),$=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)({buttonContainer:{textAlign:"right"}},v.bK),v.oO))}))(W((function(e){var n=e.classes,t=e.closeModalAndRefresh,o=e.selectedUser,i=e.open,s=e.setModalErrorSnackMessage,a=(0,r.useState)(!1),c=(0,u.Z)(a,2),l=c[0],d=c[1],h=(0,r.useState)(""),m=(0,u.Z)(h,2),Z=m[0],g=m[1],v=(0,r.useState)(""),j=(0,u.Z)(v,2),b=j[0],y=j[1],S=(0,r.useState)(!1),C=(0,u.Z)(S,2),k=C[0],w=C[1],A=(0,r.useState)([]),N=(0,u.Z)(A,2),P=N[0],E=N[1],F=(0,r.useCallback)((function(){if(!o)return null;f.Z.invoke("GET","/api/v1/user?name=".concat(encodeURI(o))).then((function(e){d(!1),g(e.accessKey),E(e.memberOf||[]),w("enabled"===e.status)})).catch((function(e){d(!1),s(e)}))}),[o,s]);(0,r.useEffect)((function(){null===o?(g(""),y(""),E([])):F()}),[o,F]);var R=""!==Z.trim()&&(""!==b.trim()&&null===o||null!==o);return(0,M.jsx)(K.Z,{onClose:function(){t()},modalOpen:i,title:"Set Groups",titleIcon:(0,M.jsx)(G.Z,{}),children:(0,M.jsx)(r.Fragment,{children:(0,M.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),l||(d(!0),null!==o?f.Z.invoke("PUT","/api/v1/user?name=".concat(encodeURI(o)),{status:k?"enabled":"disabled",groups:P}).then((function(e){d(!1),t()})).catch((function(e){d(!1),s(e)})):f.Z.invoke("POST","/api/v1/users",{accessKey:Z,secretKey:b,groups:P}).then((function(e){d(!1),t()})).catch((function(e){d(!1),s(e)})))},children:(0,M.jsxs)(p.ZP,{container:!0,children:[(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,M.jsx)(_.Z,{selectedGroups:P,setSelectedGroups:function(e){E(e)}})}),(0,M.jsxs)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,M.jsx)(z.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){null===o?(g(""),y(""),E([])):E([])},children:"Clear"}),(0,M.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:l||!R,children:"Save"})]}),l&&(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(x.Z,{})})]})})})})}))),H=t(59176),q={setModalErrorSnackMessage:a.zb},X=(0,s.$j)(null,q),Y=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)({},v.oO),{},{buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(X((function(e){var n=e.classes,t=e.closeModalAndRefresh,o=e.selectedUser,i=e.currentPolicies,s=e.setModalErrorSnackMessage,a=e.open,c=(0,r.useState)(!1),l=(0,u.Z)(c,2),d=l[0],h=l[1],m=(0,r.useState)([]),Z=(0,u.Z)(m,2),g=Z[0],v=Z[1],j=(0,r.useState)([]),b=(0,u.Z)(j,2),y=b[0],S=b[1];return(0,r.useEffect)((function(){if(a){var e,n=[],t=(0,O.Z)(i);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(r.policy)}}catch(o){t.e(o)}finally{t.f()}v(n),S(n)}}),[a,o]),(0,M.jsxs)(K.Z,{onClose:function(){t()},modalOpen:a,title:"Set Policies",children:[(0,M.jsx)(H.Z,{selectedPolicy:y,setSelectedPolicy:S}),(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)("br",{})}),(0,M.jsxs)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,M.jsx)("button",{type:"button",color:"primary",className:n.clearButton,onClick:function(){S(g)},children:"Reset"}),(0,M.jsx)(z.Z,{type:"button",variant:"contained",color:"primary",disabled:d,onClick:function(){var e=o;h(!0),f.Z.invoke("PUT","/api/v1/set-policy",{name:y,entityName:e,entityType:"user"}).then((function(){h(!1),t()})).catch((function(e){h(!1),s(e)}))},children:"Save"})]}),d&&(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(x.Z,{})})]})}))),Q=t(56805),J=t(70014),ee=t(92440),ne=t(66964),te={setModalErrorSnackMessage:a.zb},re=(0,s.$j)(null,te),oe=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)({},v.bl),v.ID))}))(re((function(e){var n=e.classes,t=e.open,o=e.closeModalAndRefresh,i=e.setModalErrorSnackMessage,s=e.user,a=(0,r.useState)(!1),c=(0,u.Z)(a,2),l=c[0],d=c[1],h=(0,r.useState)(""),m=(0,u.Z)(h,2),Z=m[0],g=m[1],v=(0,r.useState)(""),j=(0,u.Z)(v,2),b=j[0],y=j[1],S=(0,r.useState)(""),C=(0,u.Z)(S,2),k=C[0],w=C[1],A=(0,r.useState)(!1),N=(0,u.Z)(A,2),P=N[0],E=N[1],F=(0,r.useState)(!1),R=(0,u.Z)(F,2),I=R[0],T=R[1];(0,r.useEffect)((function(){l&&(I?f.Z.invoke("POST","/api/v1/user/".concat(s,"/service-account-credentials"),{policy:Z,accessKey:b,secretKey:k}).then((function(e){d(!1),o(e)})).catch((function(e){d(!1),i(e)})):f.Z.invoke("POST","/api/v1/user/".concat(s,"/service-accounts"),{policy:Z}).then((function(e){d(!1),o(e)})).catch((function(e){d(!1),i(e)})))}),[l,d,i,Z,o,s,I,b,k]);return(0,M.jsx)(K.Z,{modalOpen:t,onClose:function(){o(null)},title:"Create Service Account",children:(0,M.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),d(!0)}(e)},children:[(0,M.jsxs)(p.ZP,{container:!0,className:n.modalFormScrollable,children:[(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsxs)("div",{className:n.infoDetails,children:["Service Accounts inherit the policy explicitly attached to the parent user and the policy attached to each group in which the parent user has membership. You can specify an optional JSON-formatted policy below to restrict the Service Account access to a subset of actions and resources explicitly allowed for the parent user.",(0,M.jsx)(Q.Z,{sx:{paddingTop:"15px",paddingBottom:"15px"},children:"You cannot modify the Service Account optional policy after saving."})]})}),(0,M.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,M.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,M.jsx)(ee.Z,{value:"locking",id:"locking",name:"locking",checked:I,onChange:function(e){T(e.target.checked)},label:"Customize Credentials"}),I&&(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsxs)("div",{className:n.stackedInputs,children:[(0,M.jsx)(ne.Z,{value:b,label:"Access Key",id:"accessKey",name:"accessKey",placeholder:"Enter Access Key",onChange:function(e){y(e.target.value)}}),(0,M.jsx)(ne.Z,{value:k,label:"Secret Key",id:"secretKey",name:"secretKey",placeholder:"Enter Secret Key",onChange:function(e){w(e.target.value)}})]})})]}),(0,M.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,M.jsx)(ee.Z,{value:"locking",id:"locking",name:"locking",checked:P,onChange:function(e){E(e.target.checked)},label:"Restrict with policy"}),P&&(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,M.jsx)(J.Z,{label:"Policy ",value:Z,onBeforeChange:function(e,n,t){g(t)}})})]})]})]}),(0,M.jsxs)(p.ZP,{container:!0,children:[(0,M.jsxs)(p.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,M.jsx)(z.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){g("")},children:"Clear"}),(0,M.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:l,children:"Create"})]}),l&&(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(x.Z,{})})]})]})})}))),ie=t(47664),se=t(39080),ae=t(48122),ce=t(31529),le=t(73726),ue=t(94198),de=(0,s.$j)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:a.Ih}),he=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},v.qg),v.OR),{},{actionsTray:(0,d.Z)({},v.OR.actionsTray)},v.VX))}))(de((function(e){var n=e.classes,t=e.user,o=e.setErrorSnackMessage,i=e.hasPolicy,s=(0,r.useState)([]),c=(0,u.Z)(s,2),l=c[0],d=c[1],h=(0,r.useState)(!1),m=(0,u.Z)(h,2),p=m[0],x=m[1],v=(0,r.useState)(!1),b=(0,u.Z)(v,2),y=b[0],S=b[1],C=(0,r.useState)(!1),k=(0,u.Z)(C,2),w=k[0],A=k[1],N=(0,r.useState)(null),E=(0,u.Z)(N,2),F=E[0],R=E[1],I=(0,r.useState)(!1),T=(0,u.Z)(I,2),B=T[0],D=T[1],U=(0,r.useState)(null),O=(0,u.Z)(U,2),L=O[0],z=O[1],_=(0,r.useState)([]),K=(0,u.Z)(_,2),G=K[0],V=K[1],W=(0,r.useState)(!1),$=(0,u.Z)(W,2),H=$[0],q=$[1],X=(0,r.useState)(!1),Y=(0,u.Z)(X,2),J=Y[0],ee=Y[1];(0,r.useEffect)((function(){ne()}),[]),(0,r.useEffect)((function(){p&&f.Z.invoke("GET","/api/v1/user/".concat(t,"/service-accounts")).then((function(e){var n=e.sort(Z.V2);x(!1),d(n)})).catch((function(e){o(e),x(!1)}))}),[p,x,d,o,t]);var ne=function(){x(!0)},te=[{type:"view",onClick:function(e){R(e),ee(!0)}},{type:"delete",onClick:function(e){R(e),A(!0)}}];return(0,M.jsxs)(r.Fragment,{children:[y&&(0,M.jsx)(oe,{open:y,closeModalAndRefresh:function(e){!function(e){if(S(!1),ne(),null!==e){var n={console:{accessKey:"".concat(e.accessKey),secretKey:"".concat(e.secretKey),url:"".concat(e.url)}};z(n),D(!0)}}(e)},user:t}),w&&(0,M.jsx)(ie.default,{deleteOpen:w,selectedServiceAccount:F,closeDeleteModalAndRefresh:function(e){!function(e){A(!1),e&&ne()}(e)}}),H&&(0,M.jsx)(ce.Z,{deleteOpen:H,selectedSAs:G,closeDeleteModalAndRefresh:function(e){q(!1),e&&((0,a.y1)("Service accounts deleted successfully."),V([]),x(!0))}}),B&&(0,M.jsx)(se.default,{newServiceAccount:L,open:B,closeModal:function(){D(!1),z(null)},entity:"Service Account"}),J&&(0,M.jsx)(ue.Z,{open:J,selectedAccessKey:F,closeModalAndRefresh:function(){ee(!1),x(!0)}}),(0,M.jsxs)("div",{className:n.actionsTray,children:[(0,M.jsx)(ae.Z,{children:"Service Accounts"}),(0,M.jsxs)(Q.Z,{children:[(0,M.jsx)(P.Z,{tooltip:"Delete Selected",onClick:function(){q(!0)},text:"Delete Selected",icon:(0,M.jsx)(g.pJ,{}),color:"secondary",disabled:0===G.length,variant:"outlined"}),(0,M.jsx)(P.Z,{tooltip:"Create service account",text:"Create service account",variant:"contained",color:"primary",icon:(0,M.jsx)(g.dt,{}),onClick:function(){S(!0),S(!0),R(null)},disabled:!i})]})]}),(0,M.jsx)("div",{className:n.tableBlock,children:(0,M.jsx)(j.Z,{isLoading:p,records:l,entityName:"Service Accounts",idField:"",columns:[{label:"Service Account",elementKey:""}],itemActions:te,selectedItems:G,onSelect:function(e){return(0,le._0)(e,V,G)},onSelectAll:function(){G.length!==l.length?V(l):V([])}})})]})}))),me=(0,s.$j)(null,{setModalErrorSnackMessage:a.zb}),fe=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({buttonContainer:{textAlign:"right"}},v.ID),v.DF),v.bK),(0,v.Bz)(e.spacing(4))))}))(me((function(e){var n=e.classes,t=e.open,o=e.userName,i=e.closeModal,s=e.setModalErrorSnackMessage,a=(0,r.useState)(""),c=(0,u.Z)(a,2),l=c[0],d=c[1],h=(0,r.useState)(""),m=(0,u.Z)(h,2),Z=m[0],v=m[1],j=(0,r.useState)(!1),b=(0,u.Z)(j,2),y=b[0],S=b[1];return t?(0,M.jsx)(K.Z,{title:"Change User Password",modalOpen:t,onClose:function(){d(""),v(""),i()},titleIcon:(0,M.jsx)(g.I,{}),children:(0,M.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!y){if(S(!0),l.length<8)return s({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void S(!1);var n={selectedUser:o,newSecretKey:l};f.Z.invoke("POST","/api/v1/account/change-user-password",n).then((function(e){S(!1),d(""),v(""),i()})).catch((function(e){S(!1),d(""),v(""),s(e)}))}}(e)},children:(0,M.jsxs)(p.ZP,{container:!0,children:[(0,M.jsxs)(p.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,M.jsxs)("div",{className:n.spacerBottom,children:["Change password for: ",o]}),(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,M.jsx)(ne.Z,{id:"new-password",name:"new-password",onChange:function(e){d(e.target.value)},label:"New Password",type:"password",value:l})}),(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,M.jsx)(ne.Z,{id:"re-new-password",name:"re-new-password",onChange:function(e){v(e.target.value)},label:"Type New Password Again",type:"password",value:Z})})]}),(0,M.jsx)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:(0,M.jsx)(z.Z,{type:"submit",variant:"contained",color:"primary",disabled:y||!(Z.length>0&&l===Z),children:"Save"})}),y&&(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(x.Z,{})})]})})}):null}))),pe=t(23473),xe=t(21639),Ze=t(60656),ge={setErrorSnackMessage:a.Ih},ve=(0,s.$j)(null,ge)((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,r=e.userName,i=e.setErrorSnackMessage,s=(0,xe.Z)((function(){o.Z.push(N.gA.USERS)}),(function(e){return i(e)})),a=(0,u.Z)(s,2),c=a[0],l=a[1];if(!r)return null;return(0,M.jsx)(Ze.Z,{title:"Delete User",confirmText:"Delete",isOpen:t,isLoading:c,onConfirm:function(){l("DELETE","/api/v1/user?name=".concat(encodeURI(r)),{id:r})},onClose:function(){return n(!1)},titleIcon:(0,M.jsx)(g.Nv,{}),confirmationContent:(0,M.jsxs)(pe.Z,{children:["Are you sure you want to delete user ",(0,M.jsx)("br",{}),(0,M.jsx)("b",{children:r}),"?"]})})})),je=t(62702),be=t(57647),ye=t(29316),Se={setErrorSnackMessage:a.Ih},Ce=(0,s.$j)(null,Se),ke=(0,m.Z)((function(e){return(0,h.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({pageContainer:{border:"1px solid #EAEAEA"},statusLabel:{fontSize:".8rem",marginRight:".5rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".5rem"},breadcrumLink:{textDecoration:"none",color:"black"}},v.OR),v.qg),v.VX),(0,v.Bz)(e.spacing(4))))}))(Ce((function(e){var n=e.classes,t=e.match,i=(0,r.useState)(!1),s=(0,u.Z)(i,2),c=s[0],l=s[1],d=(0,r.useState)(!1),h=(0,u.Z)(d,2),m=h[0],x=h[1],Z=(0,r.useState)(!1),v=(0,u.Z)(Z,2),y=v[0],S=v[1],C=(0,r.useState)(!1),w=(0,u.Z)(C,2),A=w[0],E=w[1],F=(0,r.useState)(!1),R=(0,u.Z)(F,2),I=R[0],T=R[1],B=(0,r.useState)([]),D=(0,u.Z)(B,2),U=D[0],z=D[1],_=(0,r.useState)([]),K=(0,u.Z)(_,2),G=K[0],V=K[1],W=(0,r.useState)([]),H=(0,u.Z)(W,2),q=H[0],X=H[1],Q=(0,r.useState)(!1),J=(0,u.Z)(Q,2),ne=J[0],te=J[1],re=(0,r.useState)(!1),oe=(0,u.Z)(re,2),ie=oe[0],se=oe[1],ce=(0,r.useState)(!1),le=(0,u.Z)(ce,2),ue=le[0],de=le[1],me=t.params.userName,pe=(0,r.useCallback)((function(){if(""===me)return null;l(!0),f.Z.invoke("GET","/api/v1/user?name=".concat(encodeURIComponent(me))).then((function(e){E(!1);var n=e.memberOf||[];z(n);var t,r=[],o=(0,O.Z)(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push({group:i})}}catch(d){o.e(d)}finally{o.f()}V(r);var s,a=[],c=(0,O.Z)(e.policy);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.push({policy:u})}}catch(d){c.e(d)}finally{c.f()}X(a),T("enabled"===e.status),de(e.hasPolicy),l(!1)})).catch((function(e){E(!1),l(!1),(0,a.zb)(e)}))}),[me]);(0,r.useEffect)((function(){pe()}),[pe]);return(0,M.jsxs)(r.Fragment,{children:[(0,M.jsx)(b.Z,{label:(0,M.jsx)(r.Fragment,{children:(0,M.jsx)(L.rU,{to:"/users",className:n.breadcrumLink,children:"Users"})}),actions:(0,M.jsx)(r.Fragment,{})}),m&&(0,M.jsx)($,{open:m,selectedUser:me,closeModalAndRefresh:function(){x(!1),pe()}}),y&&(0,M.jsx)(Y,{open:y,selectedUser:me,currentPolicies:q,closeModalAndRefresh:function(){S(!1),pe()}}),ie&&(0,M.jsx)(ve,{deleteOpen:ie,userName:me,closeDeleteModalAndRefresh:function(e){!function(e){se(!1),e&&pe()}(e)}}),ne&&(0,M.jsx)(fe,{open:ne,userName:me,closeModal:function(){return te(!1)}}),(0,M.jsx)(ye.Z,{label:"Return to Users",to:N.gA.USERS}),(0,M.jsxs)(k.Z,{className:n.pageContainer,children:[(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsx)(je.Z,{icon:(0,M.jsx)(r.Fragment,{children:(0,M.jsx)(g.oy,{width:40})}),title:me,actions:(0,M.jsxs)(r.Fragment,{children:[(0,M.jsx)("span",{className:n.statusLabel,children:"User Status:"}),(0,M.jsx)("span",{className:n.statusValue,children:I?"Enabled":"Disabled"}),(0,M.jsx)(ee.Z,{indicatorLabels:["Enabled","Disabled"],checked:I,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;T(!I),e=!I,A||(E(!0),f.Z.invoke("PUT","/api/v1/user?name=".concat(encodeURIComponent(me)),{status:e?"enabled":"disabled",groups:U}).then((function(e){E(!1)})).catch((function(e){E(!1),(0,a.zb)(e)})))},switchOnly:!0}),(0,M.jsx)(P.Z,{tooltip:"Delete User",text:"",onClick:function(){se(!0)},icon:(0,M.jsx)(g.XH,{}),color:"secondary",variant:"outlined"}),(0,M.jsx)(P.Z,{tooltip:"Change Password",text:"",onClick:function(){te(!0)},icon:(0,M.jsx)(g.tv,{}),color:"primary",variant:"outlined"})]})})}),(0,M.jsx)(p.ZP,{item:!0,xs:12,children:(0,M.jsxs)(be.Z,{children:[{tabConfig:{label:"Groups"},content:(0,M.jsxs)(r.Fragment,{children:[(0,M.jsxs)("div",{className:n.actionsTray,children:[(0,M.jsx)(ae.Z,{children:"Groups"}),(0,M.jsx)(P.Z,{tooltip:"Add to Groups",text:"Add to Groups",onClick:function(){x(!0)},icon:(0,M.jsx)(g.dt,{}),color:"primary",variant:"contained"})]}),(0,M.jsx)("div",{className:n.tableBlock,children:(0,M.jsx)(j.Z,{columns:[{label:"Name",elementKey:"group"}],isLoading:c,records:G,entityName:"Groups",idField:"group"})})]})},{tabConfig:{label:"Service Accounts"},content:(0,M.jsx)(he,{user:me,hasPolicy:ue})},{tabConfig:{label:"Policies"},content:(0,M.jsxs)(r.Fragment,{children:[(0,M.jsxs)("div",{className:n.actionsTray,children:[(0,M.jsx)(ae.Z,{children:"Policies"}),(0,M.jsx)(P.Z,{tooltip:"Assign Policies",text:"Assign Policies",onClick:function(){S(!0)},icon:(0,M.jsx)(g.v4,{}),color:"primary",variant:"contained"})]}),(0,M.jsx)("div",{className:n.tableBlock,children:(0,M.jsx)(j.Z,{itemActions:[{type:"view",onClick:function(e){o.Z.push("".concat(N.gA.POLICIES,"/").concat(e.policy))}}],columns:[{label:"Name",elementKey:"policy"}],isLoading:c,records:q,entityName:"Policies",idField:"policy"})})]})}]})})]})]})}))),we=(0,s.$j)((function(e){return{open:e.system.sidebarOpen}}),{setMenuOpen:a.gG}),Ae=(0,i.EN)(we((function(){return(0,M.jsx)(i.F0,{history:o.Z,children:(0,M.jsxs)(i.rs,{children:[(0,M.jsx)(i.AW,{path:N.gA.USERS_VIEW,component:ke}),(0,M.jsx)(i.AW,{path:N.gA.USERS,component:U}),(0,M.jsx)(i.AW,{component:c.Z})]})})})))},36176:function(e,n,t){t.d(n,{Z:function(){return l}});t(50390);var r=t(56805),o=t(35477),i=t(10567),s=t(62559);function a(){return(0,s.jsxs)(o.Z,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(0,s.jsx)(i.Z,{color:"inherit",href:"https://min.io/?ref=con",children:"MinIO"})," ",(new Date).getFullYear(),"."]})}var c=t(25534),l=function(){return(0,s.jsx)(c.Z,{children:(0,s.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",margin:"auto",flexFlow:"column"},children:[(0,s.jsx)(r.Z,{sx:{fontSize:"110%",margin:"0 0 0.25rem",color:"#909090"},children:"404 Error"}),(0,s.jsx)(r.Z,{sx:{fontStyle:"normal",fontSize:"clamp(2rem,calc(2rem + 1.2vw),3rem)",fontWeight:700},children:"Sorry, the page could not be found."}),(0,s.jsx)(r.Z,{mt:5,children:(0,s.jsx)(a,{})})]})})}},97227:function(e,n,t){t.d(n,{ZP:function(){return a},_i:function(){return c},uU:function(){return l},pQ:function(){return u}});var r=t(23430),o=t(50390),i=t(62559),s=o.createContext(null);function a(e){var n=e.children,t=e.value,a=function(){var e=o.useState(null),n=(0,r.Z)(e,2),t=n[0],i=n[1];return o.useEffect((function(){i("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),c=o.useMemo((function(){return{idPrefix:a,value:t}}),[a,t]);return(0,i.jsx)(s.Provider,{value:c,children:n})}function c(){return o.useContext(s)}function l(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function u(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}},74564:function(e,n,t){var r=t(18207),o=t(46633),i=t(50390),s=t(98247),a=t(97227),c=t(62559),l=["children"],u=i.forwardRef((function(e,n){var t=e.children,u=(0,o.Z)(e,l),d=(0,a._i)();if(null===d)throw new TypeError("No TabContext provided");var h=i.Children.map(t,(function(e){return i.isValidElement(e)?i.cloneElement(e,{"aria-controls":(0,a.uU)(d,e.props.value),id:(0,a.pQ)(d,e.props.value)}):null}));return(0,c.jsx)(s.Z,(0,r.Z)({},u,{ref:n,value:d.value,children:h}))}));n.Z=u},669:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(18207),o=t(46633),i=t(50390),s=t(44977),a=t(8208),c=t(15573),l=t(50076),u=t(10594);function d(e){return(0,u.Z)("MuiTabPanel",e)}(0,t(43349).Z)("MuiTabPanel",["root"]);var h=t(97227),m=t(62559),f=["children","className","value"],p=(0,a.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),x=i.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiTabPanel"}),i=t.children,a=t.className,u=t.value,x=(0,o.Z)(t,f),Z=(0,r.Z)({},t),g=function(e){var n=e.classes;return(0,l.Z)({root:["root"]},d,n)}(Z),v=(0,h._i)();if(null===v)throw new TypeError("No TabContext provided");var j=(0,h.uU)(v,u),b=(0,h.pQ)(v,u);return(0,m.jsx)(p,(0,r.Z)({"aria-labelledby":b,className:(0,s.Z)(g.root,a),hidden:u!==v.value,id:j,ref:n,role:"tabpanel",ownerState:Z},x,{children:u===v.value&&i}))}))},10567:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(23430),o=t(36222),i=t(1048),s=t(32793),a=t(50390),c=t(44977),l=t(50076),u=t(29001),d=t(36128),h=t(91442),m=t(8208),f=t(15573),p=t(42081),x=t(3299),Z=t(35477),g=t(10594);function v(e){return(0,g.Z)("MuiLink",e)}var j=(0,t(43349).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),b=t(62559),y=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],S={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},C=(0,m.ZP)(Z.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,h.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState,r=(0,u.D)(n,"palette.".concat(function(e){return S[e]||e}(t.color)))||t.color;return(0,s.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?(0,d.Fq)(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&(0,o.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(j.focusVisible),{outline:"auto"}))})),k=a.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiLink"}),o=t.className,u=t.color,d=void 0===u?"primary":u,m=t.component,Z=void 0===m?"a":m,g=t.onBlur,j=t.onFocus,S=t.TypographyClasses,k=t.underline,w=void 0===k?"always":k,A=t.variant,N=void 0===A?"inherit":A,P=(0,i.Z)(t,y),E=(0,p.Z)(),M=E.isFocusVisibleRef,F=E.onBlur,R=E.onFocus,I=E.ref,T=a.useState(!1),B=(0,r.Z)(T,2),D=B[0],U=B[1],O=(0,x.Z)(n,I),L=(0,s.Z)({},t,{color:d,component:Z,focusVisible:D,underline:w,variant:N}),z=function(e){var n=e.classes,t=e.component,r=e.focusVisible,o=e.underline,i={root:["root","underline".concat((0,h.Z)(o)),"button"===t&&"button",r&&"focusVisible"]};return(0,l.Z)(i,v,n)}(L);return(0,b.jsx)(C,(0,s.Z)({className:(0,c.Z)(z.root,o),classes:S,color:d,component:Z,onBlur:function(e){F(e),!1===M.current&&U(!1),g&&g(e)},onFocus:function(e){R(e),!0===M.current&&U(!0),j&&j(e)},ref:O,ownerState:L,variant:N},P))}))},49056:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(36222),o=t(1048),i=t(32793),s=t(50390),a=t(44977),c=t(50076),l=t(36128),u=t(91442),d=t(16756),h=t(15573),m=t(8208),f=t(10594);function p(e){return(0,f.Z)("MuiSwitch",e)}var x=(0,t(43349).Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Z=t(62559),g=["className","color","edge","size","sx"],v=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.edge&&n["edge".concat((0,u.Z)(t.edge))],n["size".concat((0,u.Z)(t.size))]]}})((function(e){var n,t=e.ownerState;return(0,i.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&(n={width:40,height:24,padding:7},(0,r.Z)(n,"& .".concat(x.thumb),{width:16,height:16}),(0,r.Z)(n,"& .".concat(x.switchBase),(0,r.Z)({padding:4},"&.".concat(x.checked),{transform:"translateX(16px)"})),n))})),j=(0,m.ZP)(d.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,n){var t=e.ownerState;return[n.switchBase,(0,r.Z)({},"& .".concat(x.input),n.input),"default"!==t.color&&n["color".concat((0,u.Z)(t.color))]]}})((function(e){var n,t=e.theme;return n={position:"absolute",top:0,left:0,zIndex:1,color:"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300],transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest})},(0,r.Z)(n,"&.".concat(x.checked),{transform:"translateX(20px)"}),(0,r.Z)(n,"&.".concat(x.disabled),{color:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}),(0,r.Z)(n,"&.".concat(x.checked," + .").concat(x.track),{opacity:.5}),(0,r.Z)(n,"&.".concat(x.disabled," + .").concat(x.track),{opacity:"light"===t.palette.mode?.12:.2}),(0,r.Z)(n,"& .".concat(x.input),{left:"-100%",width:"300%"}),n}),(function(e){var n,t=e.theme,o=e.ownerState;return(0,i.Z)({"&:hover":{backgroundColor:(0,l.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(n={},(0,r.Z)(n,"&.".concat(x.checked),(0,r.Z)({color:t.palette[o.color].main,"&:hover":{backgroundColor:(0,l.Fq)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(x.disabled),{color:"light"===t.palette.mode?(0,l.$n)(t.palette[o.color].main,.62):(0,l._j)(t.palette[o.color].main,.55)})),(0,r.Z)(n,"&.".concat(x.checked," + .").concat(x.track),{backgroundColor:t.palette[o.color].main}),n))})),b=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,n){return n.track}})((function(e){var n=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:n.transitions.create(["opacity","background-color"],{duration:n.transitions.duration.shortest}),backgroundColor:"light"===n.palette.mode?n.palette.common.black:n.palette.common.white,opacity:"light"===n.palette.mode?.38:.3}})),y=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,n){return n.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),S=s.forwardRef((function(e,n){var t=(0,h.Z)({props:e,name:"MuiSwitch"}),r=t.className,s=t.color,l=void 0===s?"primary":s,d=t.edge,m=void 0!==d&&d,f=t.size,x=void 0===f?"medium":f,S=t.sx,C=(0,o.Z)(t,g),k=(0,i.Z)({},t,{color:l,edge:m,size:x}),w=function(e){var n=e.classes,t=e.edge,r=e.size,o=e.color,s=e.checked,a=e.disabled,l={root:["root",t&&"edge".concat((0,u.Z)(t)),"size".concat((0,u.Z)(r))],switchBase:["switchBase","color".concat((0,u.Z)(o)),s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=(0,c.Z)(l,p,n);return(0,i.Z)({},n,d)}(k),A=(0,Z.jsx)(y,{className:w.thumb,ownerState:k});return(0,Z.jsxs)(v,{className:(0,a.Z)(w.root,r),sx:S,ownerState:k,children:[(0,Z.jsx)(j,(0,i.Z)({type:"checkbox",icon:A,checkedIcon:A,ref:n,ownerState:k},C,{classes:(0,i.Z)({},w,{root:w.switchBase})})),(0,Z.jsx)(b,{className:w.track,ownerState:k})]})}))}}]);
//# sourceMappingURL=9807.b3b1c965.chunk.js.map