"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[441],{81806:function(e,n,t){var i=t(1413),o=t(45987),a=(t(72791),t(11135)),r=t(25787),l=t(80184),s=["classes","children"];n.Z=(0,r.Z)((function(e){return(0,a.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,a=(0,o.Z)(e,s);return(0,l.jsx)("button",(0,i.Z)((0,i.Z)({},a),{},{className:n.root,children:t}))}))},56028:function(e,n,t){var i=t(29439),o=t(1413),a=t(72791),r=t(60364),l=t(13400),s=t(55646),c=t(5574),u=t(65661),d=t(39157),m=t(11135),v=t(25787),f=t(23814),p=t(25469),h=t(29823),g=t(28057),x=t(87995),Z=t(80184);n.Z=(0,v.Z)((function(e){return(0,m.Z)((0,o.Z)((0,o.Z)({},f.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},f.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,m=e.title,v=e.children,f=e.classes,b=e.wideLimit,j=void 0===b||b,y=e.noContentPadding,S=e.titleIcon,w=void 0===S?null:S,k=(0,p.TL)(),P=(0,a.useState)(!1),R=(0,i.Z)(P,2),C=R[0],N=R[1],I=(0,r.v9)((function(e){return e.system.modalSnackBar}));(0,a.useEffect)((function(){k((0,x.MK)(""))}),[k]),(0,a.useEffect)((function(){if(I){if(""===I.message)return void N(!1);"error"!==I.type&&N(!0)}}),[I]);var E=j?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},D="";return I&&(D=I.detailedErrorMsg,(""===I.detailedErrorMsg||I.detailedErrorMsg.length<5)&&(D=I.message)),(0,Z.jsxs)(c.Z,(0,o.Z)((0,o.Z)({open:t,classes:f},E),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:f.root,children:[(0,Z.jsxs)(u.Z,{className:f.title,children:[(0,Z.jsxs)("div",{className:f.titleText,children:[w," ",m]}),(0,Z.jsx)("div",{className:f.closeContainer,children:(0,Z.jsx)(l.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,Z.jsx)(h.Z,{})})})]}),(0,Z.jsx)(g.Z,{isModal:!0}),(0,Z.jsx)(s.Z,{open:C,className:f.snackBarModal,onClose:function(){N(!1),k((0,x.MK)(""))},message:D,ContentProps:{className:"".concat(f.snackBar," ").concat(I&&"error"===I.type?f.errorSnackBar:"")},autoHideDuration:I&&"error"===I.type?1e4:5e3}),(0,Z.jsx)(d.Z,{className:y?"":f.content,children:v})]}))}))},45902:function(e,n,t){var i=t(1413),o=(t(72791),t(53767)),a=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,s=e.orientation,c=void 0===s?"column":s,u=e.stkProps,d=void 0===u?{}:u,m=e.lblProps,v=void 0===m?{}:m,f=e.valProps,p=void 0===f?{}:f;return(0,a.jsxs)(o.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,a.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:600}},v),{},{children:t})),(0,a.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:l}))]}))}},74815:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(93433),o=(t(72791),t(73909)),a=t(21041),r=t(41048),l=t(45248),s=t(56096),c=t(80184),u=function(e){var n=e.totalValue,t=e.sizeItems,i=e.bgColor,o=void 0===i?"#ededed":i;return(0,c.jsx)("div",{style:{width:"100%",height:12,backgroundColor:o,borderRadius:30,display:"flex",transitionDuration:"0.3s",overflow:"hidden"},children:t.map((function(e,t){var i=100*e.value/n;return(0,c.jsx)("div",{style:{width:"".concat(i,"%"),height:"100%",backgroundColor:e.color,transitionDuration:"0.3s"}},"itemSize-".concat(t.toString()))}))})},d=function(e){var n=e.totalCapacity,t=e.usedSpaceVariants,d=e.statusClass,m=e.render,v=void 0===m?"pie":m,f=["#8dacd3","#bca1ea","#92e8d2","#efc9ac","#97f274","#f7d291","#71ACCB","#f28282","#e28cc1","#2781B0"],p="#ededed",h=t.reduce((function(e,n){return e+n.value}),0),g=n-h,x=[],Z=t.find((function(e){return"STANDARD"===e.variant}))||{value:0,variant:"empty"};t.length>10?x=[{value:h-Z.value,color:"#2781B0",label:"Total Tiers Space"}]:x=t.filter((function(e){return"STANDARD"!==e.variant})).map((function(e,n){return{value:e.value,color:f[n],label:"Tier - ".concat(e.variant)}}));var b="#07193E",j=100*Z.value/n;j>=90?b="#C83B51":j>=75&&(b="#FFAB0F");var y=[{value:Z.value,color:b,label:"Used Space by Tenant"}].concat((0,i.Z)(x),[{value:g,color:"bar"===v?p:"transparent",label:"Empty Space"}]);if("bar"===v){var S=y.map((function(e){return{value:e.value,color:e.color,itemName:e.label}}));return(0,c.jsx)("div",{style:{width:"100%",marginBottom:15},children:(0,c.jsx)(u,{totalValue:n,sizeItems:S,bgColor:p})})}return(0,c.jsxs)("div",{style:{position:"relative",width:110,height:110},children:[(0,c.jsx)("div",{style:{position:"absolute",right:-5,top:15,zIndex:400},className:d,children:(0,c.jsx)(s.J$M,{style:{border:"#fff 2px solid",borderRadius:"100%",width:20,height:20}})}),(0,c.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:"#000",fontSize:12},children:isNaN(h)?"N/A":(0,l.l5)(h)}),(0,c.jsx)("div",{children:(0,c.jsxs)(o.u,{width:110,height:110,children:[(0,c.jsx)(a.b,{data:[{value:100}],cx:"50%",cy:"50%",dataKey:"value",outerRadius:50,innerRadius:40,fill:p,isAnimationActive:!1,stroke:"none"}),(0,c.jsx)(a.b,{data:y,cx:"50%",cy:"50%",dataKey:"value",outerRadius:50,innerRadius:40,children:y.map((function(e,n){return(0,c.jsx)(r.b,{fill:e.color,stroke:"none"},"cellCapacity-".concat(n))}))})]})})]})}},21353:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var i=t(29439),o=t(1413),a=t(72791),r=t(60364),l=t(26181),s=t.n(l),c=t(11135),u=t(25787),d=t(23814),m=t(61889),v=t(64554),f=t(75952),p=t(56028),h=t(21435),g=t(37516),x=t(81207),Z=t(87995),b=t(25469),j=t(80184),y=(0,u.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({infoText:{fontSize:14}},d.DF),d.ID))}))((function(e){var n=e.open,t=e.closeModalAndRefresh,r=e.namespace,l=e.idTenant,s=e.classes,c=(0,b.TL)(),u=(0,a.useState)(!1),d=(0,i.Z)(u,2),v=d[0],y=d[1],S=(0,a.useState)(""),w=(0,i.Z)(S,2),k=w[0],P=w[1],R=(0,a.useState)(!1),C=(0,i.Z)(R,2),N=C[0],I=C[1],E=(0,a.useState)(""),D=(0,i.Z)(E,2),_=D[0],A=D[1],F=(0,a.useState)(""),O=(0,i.Z)(F,2),B=O[0],M=O[1],T=(0,a.useState)(""),z=(0,i.Z)(T,2),U=z[0],W=z[1],L=(0,a.useState)(!0),$=(0,i.Z)(L,2),V=$[0],K=$[1],G=(0,a.useCallback)((function(e){var n=new RegExp("^$|^((.*?)/(.*?):(.+))$");if("minioImage"===e)K(n.test(k))}),[k]);(0,a.useEffect)((function(){G("minioImage")}),[k,G]);return(0,j.jsx)(p.Z,{title:"Update MinIO Version",modalOpen:n,onClose:function(){t(!1)},children:(0,j.jsxs)(m.ZP,{container:!0,children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:s.modalFormScrollable,children:[(0,j.jsx)("div",{className:s.infoText,children:"Please enter the MinIO image from dockerhub to use. If blank, then latest build will be used."}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.formFieldRow,children:(0,j.jsx)(h.Z,{value:k,label:"MinIO's Image",id:"minioImage",name:"minioImage",placeholder:"E.g. minio/minio:RELEASE.2022-02-26T02-54-46Z",onChange:function(e){P(e.target.value)}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.formFieldRow,children:(0,j.jsx)(g.Z,{value:"imageRegistry",id:"setImageRegistry",name:"setImageRegistry",checked:N,onChange:function(e){I(!N)},label:"Set Custom Image Registry",indicatorLabels:["Yes","No"]})}),N&&(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.formFieldRow,children:(0,j.jsx)(h.Z,{value:_,label:"Endpoint",id:"imageRegistry",name:"imageRegistry",placeholder:"E.g. https://index.docker.io/v1/",onChange:function(e){A(e.target.value)}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.formFieldRow,children:(0,j.jsx)(h.Z,{value:B,label:"Username",id:"imageRegistryUsername",name:"imageRegistryUsername",placeholder:"Enter image registry username",onChange:function(e){M(e.target.value)}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.formFieldRow,children:(0,j.jsx)(h.Z,{value:U,label:"Password",id:"imageRegistryPassword",name:"imageRegistryPassword",placeholder:"Enter image registry password",onChange:function(e){W(e.target.value)}})})]})]}),(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:s.modalButtonBar,children:[(0,j.jsx)(f.zx,{id:"clear",variant:"regular",onClick:function(){P(""),I(!1),A(""),M(""),W("")},label:"Clear"}),(0,j.jsx)(f.zx,{id:"save-tenant",type:"submit",variant:"callAction",disabled:!V||N&&(""===_.trim()||""===B.trim()||""===U.trim())||v,onClick:function(){y(!0);var e={image:k,enable_prometheus:!0};if(N){var n={image_registry:{registry:_,username:B,password:U}};e=(0,o.Z)((0,o.Z)({},e),n)}x.Z.invoke("PUT","/api/v1/namespaces/".concat(r,"/tenants/").concat(l),e).then((function(){y(!1),c((0,Z.y1)("Image updated successfully")),t(!0)})).catch((function(e){c((0,Z.zb)(e)),y(!1)}))},label:"Save"})]})]})})})),S=t(81806),w=t(40986),k=t(53767),P=t(56096),R=t(45248),C=t(72401),N=t(74815),I=t(22512),E=t(45902),D=((0,u.Z)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#F4F4F4"},bar:{borderRadius:5,backgroundColor:"#081C42"},padChart:{padding:"5px"}}}))(w.Z),(0,u.Z)((function(e){return(0,c.Z)({centerItem:{textAlign:"center"}})}))((function(e){var n,t,i,o,r,l,s=e.classes,c=e.tenant,u=e.healthStatus,d=e.loading,v=e.error,f={value:"n/a",unit:""},p={value:"n/a",unit:""},h={value:"n/a",unit:""},g={value:"n/a",unit:""},x={value:"n/a",unit:""};if(null!==(n=c.status)&&void 0!==n&&null!==(t=n.usage)&&void 0!==t&&t.raw){var Z=(0,R.ae)("".concat(c.status.usage.raw),!0).split(" ");f.value=Z[0],f.unit=Z[1]}if(null!==(i=c.status)&&void 0!==i&&null!==(o=i.usage)&&void 0!==o&&o.capacity){var b=(0,R.ae)("".concat(c.status.usage.capacity),!0).split(" ");p.value=b[0],p.unit=b[1]}if(null!==(r=c.status)&&void 0!==r&&null!==(l=r.usage)&&void 0!==l&&l.capacity_usage){var y=(0,R.l5)(c.status.usage.capacity_usage,!0).split(" ");h.value=y[0],h.unit=y[1]}var S=[];if(c.tiers&&0!==c.tiers.length){S=c.tiers.map((function(e){return{value:e.size,variant:e.name}}));var w=c.tiers.filter((function(e){return"internal"===e.type})).reduce((function(e,n){return e+n.size}),0),D=c.tiers.filter((function(e){return"internal"!==e.type})).reduce((function(e,n){return e+n.size}),0),_=(0,R.l5)(D,!0).split(" ");x.value=_[0],x.unit=_[1];var A=(0,R.l5)(w,!0).split(" ");g.value=A[0],g.unit=A[1]}else{var F,O;S=[{value:(null===(F=c.status)||void 0===F||null===(O=F.usage)||void 0===O?void 0:O.capacity_usage)||0,variant:"STANDARD"}]}return(0,j.jsxs)(a.Fragment,{children:[d&&(0,j.jsx)("div",{className:s.padChart,children:(0,j.jsx)(m.ZP,{item:!0,xs:12,className:s.centerItem,children:(0,j.jsx)(C.Z,{style:{width:40,height:40}})})}),function(){var e,n;return d?null:""!==v?(0,j.jsx)(I.Z,{errorMessage:v,withBreak:!1}):(0,j.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,j.jsx)(N.Z,{totalCapacity:(null===(e=c.status)||void 0===e||null===(n=e.usage)||void 0===n?void 0:n.raw)||0,usedSpaceVariants:S,statusClass:"",render:"bar"}),(0,j.jsxs)(k.Z,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},alignItems:"stretch",margin:"0 0 15px 0",children:[(!c.tiers||0===c.tiers.length)&&(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(E.Z,{label:"Internal:",orientation:"row",value:"".concat(h.value," ").concat(h.unit)})}),c.tiers&&c.tiers.length>0&&(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)(E.Z,{label:"Internal:",orientation:"row",value:"".concat(g.value," ").concat(g.unit)}),(0,j.jsx)(E.Z,{label:"Tiered:",orientation:"row",value:"".concat(x.value," ").concat(x.unit)})]}),u&&(0,j.jsx)(E.Z,{orientation:"row",label:"Health:",value:(0,j.jsx)("span",{className:u,children:(0,j.jsx)(P.J$M,{})})})]})]})}()]})}))),_=t(50896),A=t(93433),F=t(13400),O=t(42419),B=t(51979),M=(0,u.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({domainInline:{display:"flex",marginBottom:15},overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{width:15,height:15},"& button":{background:"#EAEAEA"}}},d.DF),d.ID))}))((function(e){var n=e.open,t=e.closeModalAndRefresh,o=e.namespace,r=e.idTenant,l=e.domains,s=e.classes,c=(0,b.TL)(),u=(0,a.useState)(!1),d=(0,i.Z)(u,2),v=d[0],g=d[1],y=(0,a.useState)(""),S=(0,i.Z)(y,2),w=S[0],k=S[1],P=(0,a.useState)([""]),R=(0,i.Z)(P,2),C=R[0],N=R[1],I=(0,a.useState)(!0),E=(0,i.Z)(I,2),D=E[0],_=E[1],M=(0,a.useState)([!0]),T=(0,i.Z)(M,2),z=T[0],U=T[1];(0,a.useEffect)((function(){if(l){var e=l.console||"";if(k(e),""!==e){var n=new RegExp(/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?(\/[a-zA-Z0-9\-./]*)?$/);_(n.test(e))}else _(!0);if(l.minio&&l.minio.length>0){N(l.minio);var t=new RegExp(/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?$/),i=l.minio.map((function(e){return""===e.trim()||t.test(e)}));U(i)}}}),[l]);var W=function(){var e=(0,A.Z)(C),n=(0,A.Z)(z);e.push(""),n.push(!0),N(e),U(n)};return(0,j.jsx)(p.Z,{title:"Edit Tenant Domains - ".concat(r),modalOpen:n,onClose:function(){t(!1)},children:(0,j.jsx)(m.ZP,{container:!0,children:(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:s.modalFormScrollable,children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:"".concat(s.configSectionItem),children:[(0,j.jsx)("div",{className:s.containerItem,children:(0,j.jsx)(h.Z,{id:"console_domain",name:"console_domain",onChange:function(e){k(e.target.value),_(e.target.validity.valid)},label:"Console Domain",value:w,placeholder:"Eg. http://subdomain.domain:port/subpath1/subpath2",pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?(\\/[a-zA-Z0-9\\-.\\/]*)?$",error:D?"":"Domain format is incorrect (http|https://subdomain.domain:port/subpath1/subpath2)"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{children:"MinIO Domains"}),(0,j.jsx)("div",{children:C.map((function(e,n){return(0,j.jsxs)("div",{className:"".concat(s.domainInline),children:[(0,j.jsx)(h.Z,{id:"minio-domain-".concat(n.toString()),name:"minio-domain-".concat(n.toString()),onChange:function(e){!function(e,n){var t=(0,A.Z)(C);t[n]=e,N(t)}(e.target.value,n),function(e,n){var t=(0,A.Z)(z);t[n]=e,U(t)}(e.target.validity.valid,n)},label:"MinIO Domain ".concat(n+1),value:e,placeholder:"Eg. http://subdomain.domain",pattern:"^(https?):\\/\\/([a-zA-Z0-9\\-.]+)(:[0-9]+)?$",error:z[n]?"":"MinIO domain format is incorrect (http|https://subdomain.domain)"}),(0,j.jsx)("div",{className:s.overlayAction,children:(0,j.jsx)(F.Z,{size:"small",onClick:W,disabled:n!==C.length-1,children:(0,j.jsx)(O.Z,{})})}),(0,j.jsx)("div",{className:s.overlayAction,children:(0,j.jsx)(F.Z,{size:"small",onClick:function(){return function(e){var n=C.filter((function(n,t){return t!==e})),t=z.filter((function(n,t){return t!==e}));N(n),U(t)}(n)},disabled:C.length<=1,children:(0,j.jsx)(B.Z,{})})})]},"minio-domain-key-".concat(n.toString()))}))})]})]}),(0,j.jsxs)(m.ZP,{item:!0,xs:12,className:s.modalButtonBar,children:[(0,j.jsx)(f.zx,{id:"clear-edit-domain",type:"button",variant:"regular",onClick:function(){k(""),_(!0),N([""]),U([!0])},label:"Clear"}),(0,j.jsx)(f.zx,{id:"save-domain",type:"submit",variant:"callAction",disabled:v||!D||z.filter((function(e){return!e})).length>0,onClick:function(){g(!0);var e={domains:{console:w,minio:C.filter((function(e){return""!==e.trim()}))}};x.Z.invoke("PUT","/api/v1/namespaces/".concat(o,"/tenants/").concat(r,"/domains"),e).then((function(){g(!1),c((0,Z.y1)("Domains updated successfully")),t(!0)})).catch((function(e){g(!1),c((0,Z.zb)(e))}))},label:"Save"})]})]})})})})),T=t(16871),z=t(82295),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red",n=arguments.length>1?arguments[1]:void 0;return"red"===e?n.redState:"yellow"===e?n.yellowState:"green"===e?n.greenState:n.greyState},W=function(e){var n,t=e.tenant,i=e.classes;return t?(0,j.jsx)(D,{tenant:t,label:"Storage",error:"",loading:!1,healthStatus:U(null===t||void 0===t||null===(n=t.status)||void 0===n?void 0:n.health_status,i)}):null},L=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,j.jsx)(g.Z,{indicatorLabels:["Enabled","Disabled"],checked:e,value:e,id:"".concat(n,"-status"),name:"".concat(n,"-status"),onChange:function(){},switchOnly:!0})},$={display:"flex",justifyContent:"space-between",marginTop:"10px","@media (max-width: 600px)":{flexFlow:"column"}},V={stkProps:{sx:{flex:1,marginRight:10,display:"flex",alignItems:"center",justifyContent:"space-between","@media (max-width: 900px)":{marginRight:"25px"}}},lblProps:{style:{minWidth:100}}},K=(0,u.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({},d.oZ),{},{redState:{color:e.palette.error.main,"& .min-icon":{width:16,height:16,marginRight:4}},yellowState:{color:e.palette.warning.main,"& .min-icon":{width:16,height:16,marginRight:4}},greenState:{color:e.palette.success.main,"& .min-icon":{width:16,height:16,marginRight:4}},greyState:{color:"grey","& .min-icon":{width:16,height:16,marginRight:4}},detailSection:{"& div":{"& b,i":{minWidth:80,display:"block",float:"left"},"& i":{fontStyle:"normal",wordWrap:"break-word",overflowWrap:"break-word"},"& div":{clear:"both"},clear:"both",marginBottom:2}},linkedSection:{color:e.palette.info.main,fontFamily:"'Lato', sans-serif"},autoGeneratedLink:{fontStyle:"italic"}},(0,d.Bz)(e.spacing(4))))}))((function(e){var n,t,l,c,u,d,p,h,g,x,Z,w,k,R,C,N,I,D,A,F,O,B,U,K,G=e.classes,H=(0,b.TL)(),q=(0,T.UO)(),J=q.tenantName,Q=q.tenantNamespace,Y=(0,r.v9)((function(e){return e.tenants.tenantInfo})),X=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"logEnabled",!1)})),ee=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"monitoringEnabled",!1)})),ne=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"encryptionEnabled",!1)})),te=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"minioTLS",!1)})),ie=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"idpAdEnabled",!1)})),oe=(0,r.v9)((function(e){return s()(e.tenants.tenantInfo,"idpOidcEnabled",!1)})),ae=(0,a.useState)(0),re=(0,i.Z)(ae,2),le=re[0],se=re[1],ce=(0,a.useState)(0),ue=(0,i.Z)(ce,2),de=ue[0],me=ue[1],ve=(0,a.useState)(0),fe=(0,i.Z)(ve,2),pe=fe[0],he=fe[1],ge=(0,a.useState)(!1),xe=(0,i.Z)(ge,2),Ze=xe[0],be=xe[1],je=(0,a.useState)(!1),ye=(0,i.Z)(je,2),Se=ye[0],we=ye[1];(0,a.useEffect)((function(){Y&&(se(Y.pools.length),he(Y.total_volumes||0),me(Y.total_instances||0))}),[Y]);return(0,j.jsxs)(a.Fragment,{children:[Ze&&(0,j.jsx)(y,{open:Ze,closeModalAndRefresh:function(e){be(!1),e&&H((0,z.v)())},idTenant:J||"",namespace:Q||""}),Se&&(0,j.jsx)(M,{open:Se,idTenant:J||"",namespace:Q||"",domains:(null===Y||void 0===Y?void 0:Y.domains)||null,closeModalAndRefresh:function(e){we(!1),e&&H((0,z.v)())}}),(0,j.jsx)(_.Z,{separator:!1,children:"Details"}),(0,j.jsx)(W,{tenant:Y,classes:G}),(0,j.jsxs)(m.ZP,{container:!0,children:[(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:12,md:8,children:[(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"State:",value:null===Y||void 0===Y?void 0:Y.currentState})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"MinIO:",value:(0,j.jsx)(S.Z,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-all"},onClick:function(){be(!0)},children:Y?Y.image:""})})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsxs)("h3",{children:["Domains",(0,j.jsx)(f.zx,{id:"edit-domains",icon:(0,j.jsx)(P.dY8,{}),onClick:function(){we(!0)}})]})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Console:",value:(0,j.jsxs)(a.Fragment,{children:[null!==Y&&void 0!==Y&&null!==(n=Y.domains)&&void 0!==n&&n.console&&""!==(null===Y||void 0===Y||null===(t=Y.domains)||void 0===t?void 0:t.console)||null!==Y&&void 0!==Y&&null!==(l=Y.endpoints)&&void 0!==l&&l.console?"":"-",(null===Y||void 0===Y||null===(c=Y.endpoints)||void 0===c?void 0:c.console)&&(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("a",{href:null===Y||void 0===Y||null===(u=Y.endpoints)||void 0===u?void 0:u.console,target:"_blank",rel:"noopener noreferrer",className:"".concat(G.linkedSection," ").concat(G.autoGeneratedLink),children:(null===Y||void 0===Y||null===(d=Y.endpoints)||void 0===d?void 0:d.console)||"-"}),(0,j.jsx)("br",{})]}),(null===Y||void 0===Y||null===(p=Y.domains)||void 0===p?void 0:p.console)&&""!==(null===Y||void 0===Y||null===(h=Y.domains)||void 0===h?void 0:h.console)&&(0,j.jsx)("a",{href:(null===Y||void 0===Y||null===(g=Y.domains)||void 0===g?void 0:g.console)||"",target:"_blank",rel:"noopener noreferrer",className:G.linkedSection,children:(null===Y||void 0===Y||null===(x=Y.domains)||void 0===x?void 0:x.console)||""})]})})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"MinIO Endpoint".concat(null!==Y&&void 0!==Y&&null!==(Z=Y.endpoints)&&void 0!==Z&&Z.minio&&1===(null===Y||void 0===Y||null===(w=Y.endpoints)||void 0===w?void 0:w.minio.length)?"":"s",":"),value:(0,j.jsxs)(a.Fragment,{children:[null!==Y&&void 0!==Y&&null!==(k=Y.domains)&&void 0!==k&&k.minio||null!==Y&&void 0!==Y&&null!==(R=Y.endpoints)&&void 0!==R&&R.minio?"":"-",(null===Y||void 0===Y||null===(C=Y.endpoints)||void 0===C?void 0:C.minio)&&(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("a",{href:null===Y||void 0===Y||null===(N=Y.endpoints)||void 0===N?void 0:N.minio,target:"_blank",rel:"noopener noreferrer",className:"".concat(G.linkedSection," ").concat(G.autoGeneratedLink),children:(null===Y||void 0===Y||null===(I=Y.endpoints)||void 0===I?void 0:I.minio)||"-"}),(0,j.jsx)("br",{})]}),(null===Y||void 0===Y||null===(D=Y.domains)||void 0===D?void 0:D.minio)&&Y.domains.minio.map((function(e){return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:G.linkedSection,children:e}),(0,j.jsx)("br",{})]},e)}))]})})})]}),(0,j.jsxs)(m.ZP,{item:!0,xs:12,sm:12,md:4,children:[(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Instances:",value:de})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Clusters:",value:le,stkProps:{style:{marginRight:47}}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Total Drives:",value:pe,stkProps:{style:{marginRight:43}}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Write Quorum:",value:null!==Y&&void 0!==Y&&null!==(A=Y.status)&&void 0!==A&&A.write_quorum?null===Y||void 0===Y||null===(F=Y.status)||void 0===F?void 0:F.write_quorum:0})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Drives Online:",value:null!==Y&&void 0!==Y&&null!==(O=Y.status)&&void 0!==O&&O.drives_online?null===Y||void 0===Y||null===(B=Y.status)||void 0===B?void 0:B.drives_online:0,stkProps:{style:{marginRight:8}}})}),(0,j.jsx)(m.ZP,{item:!0,xs:12,children:(0,j.jsx)(E.Z,{label:"Drives Offline:",value:null!==Y&&void 0!==Y&&null!==(U=Y.status)&&void 0!==U&&U.drives_offline?null===Y||void 0===Y||null===(K=Y.status)||void 0===K?void 0:K.drives_offline:0,stkProps:{style:{marginRight:7}}})})]})]}),(0,j.jsx)(_.Z,{children:"Features"}),(0,j.jsxs)(v.Z,{sx:(0,o.Z)({},$),children:[(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"Logs:",value:L(X,"tenant-log")},V)),(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"AD/LDAP:",value:L(ie,"tenant-sts")},V)),(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"Encryption:",value:L(ne,"tenant-enc")},V))]}),(0,j.jsxs)(v.Z,{sx:(0,o.Z)({},$),children:[(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"MinIO TLS:",value:L(te,"tenant-tls")},V)),(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"Monitoring:",value:L(ee,"tenant-monitor")},V)),(0,j.jsx)(E.Z,(0,o.Z)({orientation:"row",label:"OpenID:",value:L(oe,"tenant-oidc")},V))]})]})}))},22512:function(e,n,t){var i=t(72791),o=t(20890),a=t(11135),r=t(25787),l=t(80184);n.Z=(0,r.Z)((function(e){var n;return(0,a.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,t=e.errorMessage,a=e.withBreak,r=void 0===a||a;return(0,l.jsxs)(i.Fragment,{children:[r&&(0,l.jsx)("br",{}),(0,l.jsx)(o.Z,{component:"p",variant:"body1",className:n.errorBlock,children:t})]})}))},42419:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45649)),a=t(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=r},53767:function(e,n,t){var i=t(4942),o=t(63366),a=t(87462),r=t(72791),l=t(51184),s=t(45682),c=t(78519),u=t(82466),d=t(66934),m=t(31402),v=t(80184),f=["component","direction","spacing","divider","children"];function p(e,n){var t=r.Children.toArray(e).filter(Boolean);return t.reduce((function(e,i,o){return e.push(i),o<t.length-1&&e.push(r.cloneElement(n,{key:"separator-".concat(o)})),e}),[])}var h=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,o=(0,a.Z)({display:"flex",flexDirection:"column"},(0,l.k9)({theme:t},(0,l.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var r=(0,s.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,l.P$)({values:n.direction,base:c}),m=(0,l.P$)({values:n.spacing,base:c});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var i=n>0?d[t[n-1]]:"column";d[e]=i}}));o=(0,u.Z)(o,(0,l.k9)({theme:t},m,(function(e,t){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((o=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o])),(0,s.NA)(r,e))};var o})))}return o=(0,l.dt)(t.breakpoints,o)})),g=r.forwardRef((function(e,n){var t=(0,m.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(t),r=i.component,l=void 0===r?"div":r,s=i.direction,u=void 0===s?"column":s,d=i.spacing,g=void 0===d?0:d,x=i.divider,Z=i.children,b=(0,o.Z)(i,f),j={direction:u,spacing:g};return(0,v.jsx)(h,(0,a.Z)({as:l,ownerState:j,ref:n},b,{children:x?p(Z,x):Z}))}));n.Z=g},23688:function(e,n,t){function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(n){var t=this.constructor.getDerivedStateFromProps(e,n);return null!==t&&void 0!==t?t:null}.bind(this))}function a(e,n){try{var t=this.props,i=this.state;this.props=e,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,i)}finally{this.props=t,this.state=i}}function r(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof n.getSnapshotBeforeUpdate)return e;var t=null,r=null,l=null;if("function"===typeof n.componentWillMount?t="componentWillMount":"function"===typeof n.UNSAFE_componentWillMount&&(t="UNSAFE_componentWillMount"),"function"===typeof n.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof n.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof n.componentWillUpdate?l="componentWillUpdate":"function"===typeof n.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null!==t||null!==r||null!==l){var s=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==t?"\n  "+t:"")+(null!==r?"\n  "+r:"")+(null!==l?"\n  "+l:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(n.componentWillMount=i,n.componentWillReceiveProps=o),"function"===typeof n.getSnapshotBeforeUpdate){if("function"!==typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=a;var u=n.componentDidUpdate;n.componentDidUpdate=function(e,n,t){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:t;u.call(this,e,n,i)}}return e}t.r(n),t.d(n,{polyfill:function(){return r}}),i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},29388:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(61120),o=t(78814),a=t(82963);function r(e){var n=(0,o.Z)();return function(){var t,o=(0,i.Z)(e);if(n){var r=(0,i.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,a.Z)(this,t)}}},61120:function(e,n,t){function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}t.d(n,{Z:function(){return i}})},60136:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(89611);function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&(0,i.Z)(e,n)}},78814:function(e,n,t){function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}t.d(n,{Z:function(){return i}})},45987:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(63366);function o(e,n){if(null==e)return{};var t,o,a=(0,i.Z)(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}},82963:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(71002),o=t(97326);function a(e,n){if(n&&("object"===(0,i.Z)(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}}}]);
//# sourceMappingURL=441.d647ea80.chunk.js.map