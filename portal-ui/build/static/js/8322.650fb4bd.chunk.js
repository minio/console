"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8322],{23804:function(e,n,t){t(72791);var r=t(11135),a=t(25787),i=t(45953),s=t(80184);n.Z=(0,a.Z)((function(e){return(0,r.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var n=e.classes,t=e.iconComponent,r=e.title,a=e.help;return(0,s.jsx)("div",{className:n.root,children:(0,s.jsxs)(i.ZP,{container:!0,children:[(0,s.jsxs)(i.ZP,{item:!0,xs:12,className:n.leftItems,children:[t,r]}),(0,s.jsx)(i.ZP,{item:!0,xs:12,className:n.helpText,children:a})]})})}))},46707:function(e,n,t){var r=t(1413),a=(t(72791),t(80184));n.Z=function(e){return(0,a.jsxs)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 256 256"},e),{},{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"certificate_svg__a",children:(0,a.jsx)("path",{"data-name":"Rect\\xE1ngulo 2156",fill:"#07193e",d:"M0 0h256v222.048H0z"})})}),(0,a.jsxs)("g",{"data-name":"Grupo 4763",transform:"translate(0 17)",clipPath:"url(#certificate_svg__a)",fill:"#07193e",children:[(0,a.jsx)("path",{"data-name":"Trazado 8152",d:"M240-.002H16a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h120l4.64-5.6 7.44-9.12A66.72 66.72 0 0 1 256 98.958v-82.96a16 16 0 0 0-16-16m-130.96 149.7H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 1 1 0 14.592m0-56H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 0 1 0 14.592m66.96-39.3a6.419 6.419 0 0 1-6.4 6.4H46.4a6.419 6.419 0 0 1-6.4-6.4v-1.792a6.419 6.419 0 0 1 6.4-6.4h123.2a6.419 6.419 0 0 1 6.4 6.4Z"}),(0,a.jsx)("path",{"data-name":"Trazado 8153",d:"M256 137.486a50.96 50.96 0 1 0-86.16 36.72l-15.52 18.96 7.2 28.88 29.28-35.68a50.018 50.018 0 0 0 28.4 0l29.28 35.68 7.2-28.88-15.52-18.96a50.75 50.75 0 0 0 15.84-36.72m-50.928 29.688a29.688 29.688 0 0 1-.072-59.376h.072a29.688 29.688 0 0 1 0 59.376"})]}),(0,a.jsx)("path",{"data-name":"Rect\\xE1ngulo 2157",fill:"none",d:"M0 0h256v256H0z"})]}))}},37798:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(1413),a=t(72791),i=t(26181),s=t.n(i),o=t(75952),l=t(11135),c=t(25787),u=t(56028),d=t(45953),m=t(96746),f=t(38254),h=t(78029),x=t.n(h),p=t(56096),g=t(23814),v=t(27454),y=t(80184),j=(0,c.Z)((function(e){return(0,l.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,r.Z)((0,r.Z)({},g.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,t=void 0===n?"":n,r=e.value,a=void 0===r?"":r,i=e.classes,s=void 0===i?{}:i;return(0,y.jsxs)("div",{className:s.container,children:[(0,y.jsxs)("div",{className:s.inputLabel,children:[t,":"]}),(0,y.jsx)("div",{className:s.inputWithCopy,children:(0,y.jsx)(m.Z,{value:a,readOnly:!0,endAdornment:(0,y.jsx)(f.Z,{position:"end",children:(0,y.jsx)(v.Z,{tooltip:"Copy",children:(0,y.jsx)(x(),{text:a,children:(0,y.jsx)(o.zx,{id:"copy-clipboard","aria-label":"copy",onClick:function(){},onMouseDown:function(){},style:{width:"28px",height:"28px",padding:"0px"},icon:(0,y.jsx)(p.TIy,{})})})})})})})]})})),Z=t(89357),C=function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+n),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},b=(0,c.Z)((function(e){return(0,l.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})}))((function(e){var n=e.classes,t=e.newServiceAccount,i=e.open,l=e.closeModal,c=e.entity;if(!t)return null;var m=s()(t,"console",null),f=s()(t,"idp",!1);return(0,y.jsx)(u.Z,{modalOpen:i,onClose:function(){l()},title:(0,y.jsx)("div",{className:n.promptTitle,children:(0,y.jsxs)("div",{children:["New ",c," Created"]})}),titleIcon:(0,y.jsx)(p.tVY,{}),children:(0,y.jsxs)(d.ZP,{container:!0,children:[(0,y.jsxs)(d.ZP,{item:!0,xs:12,className:n.formScrollable,children:["A new ",c," has been created with the following details:",!f&&m&&(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)(d.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,y.jsx)("div",{className:n.credentialTitle,children:"Console Credentials"}),Array.isArray(m)&&m.map((function(e,n){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{label:"Access Key",value:e.accessKey}),(0,y.jsx)(j,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(m)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{label:"Access Key",value:m.accessKey}),(0,y.jsx)(j,{label:"Secret Key",value:m.secretKey})]})]})}),(null===m||void 0===m)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{label:"Access Key",value:t.accessKey||""}),(0,y.jsx)(j,{label:"Secret Key",value:t.secretKey||""})]}),f?(0,y.jsx)("div",{className:n.warningBlock,children:"Please Login via the configured external identity provider."}):(0,y.jsxs)("div",{className:n.warningBlock,children:[(0,y.jsx)(Z.Z,{}),(0,y.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,y.jsx)(d.ZP,{item:!0,xs:12,className:n.buttonContainer,children:!f&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.Z,{tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",children:(0,y.jsx)(o.zx,{id:"download-button",label:"Download for import",className:n.buttonSpacer,onClick:function(){var e={};m?e=Array.isArray(m)?m.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:m.url,accessKey:m.accessKey,secretKey:m.secretKey,api:"s3v4",path:"auto"}:e={url:t.url,accessKey:t.accessKey,secretKey:t.secretKey,api:"s3v4",path:"auto"};C("credentials.json",JSON.stringify((0,r.Z)({},e)))},icon:(0,y.jsx)(p._8t,{}),variant:"callAction"})}),Array.isArray(m)&&m.length>1&&(0,y.jsx)(v.Z,{tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",children:(0,y.jsx)(o.zx,{id:"download-all-button",label:"Download all access credentials",className:n.buttonSpacer,onClick:function(){var e={};m&&Array.isArray(m)&&m.length>1&&(e=m.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));C("all_credentials.json",JSON.stringify((0,r.Z)({},e)))},icon:(0,y.jsx)(p._8t,{}),variant:"callAction",color:"primary"})})]})})]})})}))},92217:function(e,n,t){var r=t(1413),a=t(72791),i=t(45953),s=t(40508),o=t(75814),l=t(96015),c=t(11135),u=t(25787),d=t(84570),m=t(23814),f=t(56096),h=t(75952),x=t(78029),p=t.n(x),g=t(90932),v=t(27454),y=t(80184);n.Z=(0,u.Z)((function(e){return(0,c.Z)((0,r.Z)({},m.YI))}))((function(e){var n=e.value,t=e.label,r=void 0===t?"":t,c=e.tooltip,u=void 0===c?"":c,m=e.mode,x=void 0===m?"json":m,j=e.classes,Z=e.onBeforeChange,C=(e.readOnly,e.editorHeight),b=void 0===C?"250px":C;return(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(i.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,y.jsxs)(s.Z,{className:j.inputLabel,children:[(0,y.jsx)("span",{children:r}),""!==u&&(0,y.jsx)("div",{className:j.tooltipContainer,children:(0,y.jsx)(o.Z,{title:u,placement:"top-start",children:(0,y.jsx)("div",{className:j.tooltip,children:(0,y.jsx)(d.Z,{})})})})]})}),(0,y.jsx)(i.ZP,{item:!0,xs:12,style:{maxHeight:b,overflow:"auto",border:"1px solid #eaeaea"},children:(0,y.jsx)(g.Z,{value:n,language:x,onChange:function(e){Z(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:b||"initial",color:"#000000"}})}),(0,y.jsx)(i.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,y.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,y.jsx)(v.Z,{tooltip:"Copy to Clipboard",children:(0,y.jsx)(p(),{text:n,children:(0,y.jsx)(h.zx,{type:"button",id:"copy-code-mirror",icon:(0,y.jsx)(f.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},54639:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(29439),a=t(1413),i=t(72791),s=t(26181),o=t.n(s),l=t(45953),c=t(40508),u=t(75814),d=t(13811),m=t(99663),f=t(86711),h=t(11135),x=t(25787),p=t(23814),g=t(84570),v=t(22512),y=t(80184),j=(0,x.Z)((function(e){return(0,h.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},p.bV),{},{inputLabel:(0,a.Z)((0,a.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,a.Z)((0,a.Z)({},p.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,t=e.classes,a=e.onChange,s=e.id,h=e.name,x=e.disabled,p=void 0!==x&&x,j=e.tooltip,Z=void 0===j?"":j,C=e.required,b=e.error,S=void 0===b?"":b,_=e.accept,N=void 0===_?"":_,A=e.value,T=void 0===A?"":A,P=(0,i.useState)(!1),I=(0,r.Z)(P,2),w=I[0],k=I[1];return(0,y.jsx)(i.Fragment,{children:(0,y.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(t.fileInputField," ").concat(t.fieldBottom," ").concat(t.fieldContainer," ").concat(""!==S?t.errorInField:""),children:[""!==n&&(0,y.jsxs)(c.Z,{htmlFor:s,className:"".concat(""!==S?t.fieldLabelError:""," ").concat(t.inputLabel),children:[(0,y.jsxs)("span",{children:[n,C?"*":""]}),""!==Z&&(0,y.jsx)("div",{className:t.tooltipContainer,children:(0,y.jsx)(u.Z,{title:Z,placement:"top-start",children:(0,y.jsx)("div",{className:t.tooltip,children:(0,y.jsx)(g.Z,{})})})})]}),w||""===T?(0,y.jsxs)("div",{className:t.textBoxContainer,children:[(0,y.jsx)("input",{type:"file",name:h,onChange:function(e){var n=o()(e,"target.files[0].name","");!function(e,n){var t=e.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(){var e=r.result;if(e){var t=e.toString().split("base64,");2===t.length&&n(t[1])}}}(e,(function(e){a(e,n)}))},accept:N,required:C,disabled:p,className:t.fileInputField}),""!==T&&(0,y.jsx)(d.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){k(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,y.jsx)(f.Z,{})}),""!==S&&(0,y.jsx)(v.Z,{errorMessage:S})]}):(0,y.jsxs)("div",{className:t.fileReselect,children:[(0,y.jsx)("div",{className:t.valueString,children:T}),(0,y.jsx)(d.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){k(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,y.jsx)(m.Z,{})})]})]})})}))},56028:function(e,n,t){var r=t(29439),a=t(1413),i=t(72791),s=t(92177),o=t(13811),l=t(11647),c=t(58195),u=t(40464),d=t(8440),m=t(11135),f=t(25787),h=t(23814),x=t(25469),p=t(29823),g=t(28057),v=t(87995),y=t(80184);n.Z=(0,f.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)({},h.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},h.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,m=e.title,f=e.children,h=e.classes,j=e.wideLimit,Z=void 0===j||j,C=e.noContentPadding,b=e.titleIcon,S=void 0===b?null:b,_=(0,x.TL)(),N=(0,i.useState)(!1),A=(0,r.Z)(N,2),T=A[0],P=A[1],I=(0,s.v9)((function(e){return e.system.modalSnackBar}));(0,i.useEffect)((function(){_((0,v.MK)(""))}),[_]),(0,i.useEffect)((function(){if(I){if(""===I.message)return void P(!1);"error"!==I.type&&P(!0)}}),[I]);var w=Z?{classes:{paper:h.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},k="";return I&&(k=I.detailedErrorMsg,(""===I.detailedErrorMsg||I.detailedErrorMsg.length<5)&&(k=I.message)),(0,y.jsxs)(c.Z,(0,a.Z)((0,a.Z)({open:t,classes:h},w),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:h.root,children:[(0,y.jsxs)(u.Z,{className:h.title,children:[(0,y.jsxs)("div",{className:h.titleText,children:[S," ",m]}),(0,y.jsx)("div",{className:h.closeContainer,children:(0,y.jsx)(o.Z,{"aria-label":"close",id:"close",className:h.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,y.jsx)(p.Z,{})})})]}),(0,y.jsx)(g.Z,{isModal:!0}),(0,y.jsx)(l.Z,{open:T,className:h.snackBarModal,onClose:function(){P(!1),_((0,v.MK)(""))},message:k,ContentProps:{className:"".concat(h.snackBar," ").concat(I&&"error"===I.type?h.errorSnackBar:"")},autoHideDuration:I&&"error"===I.type?1e4:5e3}),(0,y.jsx)(d.Z,{className:C?"":h.content,children:f})]}))}))},41260:function(e,n,t){t.r(n),t.d(n,{default:function(){return nn}});var r=t(29439),a=t(1413),i=t(72791),s=t(26181),o=t.n(s),l=t(92177),c=t(45953),u=t(89594),d=t(11135),m=t(23814),f=t(28371),h=t(25469),x=t(93433),p=t(25787),g=t(30286),v=t(13811),y=t(81872),j=t(84741),Z=t(40968),C=t(4819),b=t(21435),S=t(42419),_=t(51979),N=t(76773),A=t(90673),T=t(80184),P=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}},tenantCustomizationFields:{marginLeft:30,width:"88%",margin:"auto"},containerItem:{marginRight:15},fieldGroup:(0,a.Z)((0,a.Z)({},m.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},wrapperContainer:{display:"flex",marginBottom:15},envVarRow:{display:"flex",alignItems:"center",justifyContent:"flex-start","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.oO),m.AK),m.DF))}))((function(e){var n=e.classes,t=(0,h.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.configure.exposeMinIO})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.exposeConsole})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.setDomains})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.consoleDomain})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.minioDomains})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantCustom})),p=(0,l.v9)((function(e){return e.createTenant.fields.configure.envVars})),P=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantSecurityContext})),I=(0,i.useState)({}),w=(0,r.Z)(I,2),k=w[0],R=w[1],F=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,i.useEffect)((function(){var e=[];if(f&&(e=[].concat((0,x.Z)(e),[{fieldKey:"tenant_securityContext_runAsUser",required:!0,value:P.runAsUser,customValidation:""===P.runAsUser||parseInt(P.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"tenant_securityContext_runAsGroup",required:!0,value:P.runAsGroup,customValidation:""===P.runAsGroup||parseInt(P.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"tenant_securityContext_fsGroup",required:!0,value:P.fsGroup,customValidation:""===P.fsGroup||parseInt(P.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}])),u){var n=m.map((function(e,n){return{fieldKey:"minio-domain-".concat(n.toString()),required:!1,value:e,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?$/,customPatternMessage:"MinIO domain is not in the form of http|https://subdomain.domain"}}));e=[].concat((0,x.Z)(e),(0,x.Z)(n),[{fieldKey:"console_domain",required:!1,value:d,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?(\/[a-zA-Z0-9\-./]*)?$/,customPatternMessage:"Console domain is not in the form of http|https://subdomain.domain:port/subpath1/subpath2"}])}var r=(0,Z.R)(e);t((0,N.NO)({pageName:"configure",valid:0===Object.keys(r).length})),R(r)}),[t,f,P,u,d,m]);var D=function(e){R((0,j.he)(k,e))};return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Configure"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Basic configurations for tenant management"})]}),(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h4",{className:n.h3Section,children:"Services"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Whether the tenant's services should request an external IP via LoadBalancer service type."})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)(C.Z,{value:"expose_minio",id:"expose_minio",name:"expose_minio",checked:s,onChange:function(e){var n=e.target.checked;F("exposeMinIO",n)},label:"Expose MinIO Service"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)(C.Z,{value:"expose_console",id:"expose_console",name:"expose_console",checked:o,onChange:function(e){var n=e.target.checked;F("exposeConsole",n)},label:"Expose Console Service"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)(C.Z,{value:"custom_domains",id:"custom_domains",name:"custom_domains",checked:u,onChange:function(e){var n=e.target.checked;F("setDomains",n)},label:"Set Custom Domains"})}),u&&(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.tenantCustomizationFields,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Custom Domains for MinIO"}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:[(0,T.jsx)("div",{className:n.containerItem,children:(0,T.jsx)(b.Z,{id:"console_domain",name:"console_domain",onChange:function(e){F("consoleDomain",e.target.value),D("tenant_securityContext_runAsUser")},label:"Console Domain",value:d,placeholder:"Eg. http://subdomain.domain:port/subpath1/subpath2",error:k.console_domain||""})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("h4",{children:"MinIO Domains"}),(0,T.jsx)("div",{className:"".concat(n.responsiveSectionItem),children:m.map((function(e,r){return(0,T.jsxs)("div",{className:"".concat(n.containerItem," ").concat(n.wrapperContainer),children:[(0,T.jsx)(b.Z,{id:"minio-domain-".concat(r.toString()),name:"minio-domain-".concat(r.toString()),onChange:function(e){!function(e,n){var t=(0,x.Z)(m);t[n]=e,F("minioDomains",t)}(e.target.value,r)},label:"MinIO Domain ".concat(r+1),value:e,placeholder:"Eg. http://subdomain.domain",error:k["minio-domain-".concat(r.toString())]||""}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){return t((0,N.x_)())},disabled:r!==m.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){return t((0,N.JL)(r))},disabled:m.length<=1,children:(0,T.jsx)(_.Z,{})})})]},"minio-domain-key-".concat(r.toString()))}))})]})]})]})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)(C.Z,{value:"tenantConfig",id:"tenant_configuration",name:"tenant_configuration",checked:f,onChange:function(e){var n=e.target.checked;F("tenantCustom",n)},label:"Security Context"})}),f&&(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.tenantCustomizationFields,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for MinIO"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.containerItem,children:(0,T.jsx)(b.Z,{type:"number",id:"tenant_securityContext_runAsUser",name:"tenant_securityContext_runAsUser",onChange:function(e){F("tenantSecurityContext",(0,a.Z)((0,a.Z)({},P),{},{runAsUser:e.target.value})),D("tenant_securityContext_runAsUser")},label:"Run As User",value:P.runAsUser,required:!0,error:k.tenant_securityContext_runAsUser||"",min:"0"})}),(0,T.jsx)("div",{className:n.containerItem,children:(0,T.jsx)(b.Z,{type:"number",id:"tenant_securityContext_runAsGroup",name:"tenant_securityContext_runAsGroup",onChange:function(e){F("tenantSecurityContext",(0,a.Z)((0,a.Z)({},P),{},{runAsGroup:e.target.value})),D("tenant_securityContext_runAsGroup")},label:"Run As Group",value:P.runAsGroup,required:!0,error:k.tenant_securityContext_runAsGroup||"",min:"0"})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.containerItem,children:(0,T.jsx)(b.Z,{type:"number",id:"tenant_securityContext_fsGroup",name:"tenant_securityContext_fsGroup",onChange:function(e){F("tenantSecurityContext",(0,a.Z)((0,a.Z)({},P),{},{fsGroup:e.target.value})),D("tenant_securityContext_fsGroup")},label:"FsGroup",value:P.fsGroup,required:!0,error:k.tenant_securityContext_fsGroup||"",min:"0"})}),(0,T.jsx)("div",{className:n.containerItem,children:(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(A.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:P.fsGroupChangePolicy,onChange:function(e){F("tenantSecurityContext",(0,a.Z)((0,a.Z)({},P),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(C.Z,{value:"tenantSecurityContextRunAsNonRoot",id:"tenant_securityContext_runAsNonRoot",name:"tenant_securityContext_runAsNonRoot",checked:P.runAsNonRoot,onChange:function(e){var n=e.target.checked;F("tenantSecurityContext",(0,a.Z)((0,a.Z)({},P),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})}),(0,T.jsx)(y.Z,{}),(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Additional Environment Variables"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Define additional environment variables to be used by your MinIO pods"})]}),(0,T.jsx)(c.ZP,{container:!0,children:p.map((function(e,r){return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.formFieldRow," ").concat(n.envVarRow),children:[(0,T.jsx)(c.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,T.jsx)(b.Z,{id:"env_var_key",name:"env_var_key",label:"Key",value:e.key,onChange:function(e){var n=(0,x.Z)(p);t((0,N.Ct)(n.map((function(n,t){return t===r?{key:e.target.value,value:n.value}:n}))))},index:r},"env_var_key_".concat(r.toString()))}),(0,T.jsx)(c.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,T.jsx)(b.Z,{id:"env_var_value",name:"env_var_value",label:"Value",value:e.value,onChange:function(e){var n=(0,x.Z)(p);t((0,N.Ct)(n.map((function(n,t){return t===r?{key:n.key,value:e.target.value}:n}))))},index:r},"env_var_value_".concat(r.toString()))}),(0,T.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){var e=(0,x.Z)(p);e.push({key:"",value:""}),t((0,N.Ct)(e))},disabled:r!==p.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){var e=p.filter((function(e,n){return n!==r}));t((0,N.Ct)(e))},disabled:p.length<=1,children:(0,T.jsx)(_.Z,{})})})]})]},"tenant-envVar-".concat(r.toString()))}))})]})})),I=t(83679),w=t(4565),k=t(75814),R=t(72455),F=t(27247),D=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({adUserDnRows:{display:"flex",marginBottom:10},buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.DF),m.oO),m.AK))})),G=function(){var e=(0,h.TL)(),n=D(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADURL})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADSkipTLS})),o=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADServerInsecure})),u=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupSearchBaseDN})),d=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupSearchFilter})),m=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNs})),f=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupDNs})),p=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADLookupBindDN})),g=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADLookupBindPassword})),y=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNSearchBaseDN})),_=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNSearchFilter})),A=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADServerStartTLS})),P=(0,i.useState)({}),I=(0,r.Z)(P,2),R=I[0],G=I[1],K=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"identityProvider",field:n,value:t}))}),[e]),E=function(e){G((0,j.he)(R,e))};return(0,i.useEffect)((function(){var n=[];"AD"===t&&(n=[].concat((0,x.Z)(n),[{fieldKey:"AD_URL",required:!0,value:a},{fieldKey:"ad_lookupBindDN",required:!0,value:p}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"identityProvider",valid:0===Object.keys(r).length})),G(r)}),[p,t,a,u,d,m,f,e]),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"AD_URL",name:"AD_URL",onChange:function(e){K("ADURL",e.target.value),E("AD_URL")},label:"LDAP Server Address",value:a,placeholder:"ldap-server:636",error:R.AD_URL||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(C.Z,{value:"ad_skipTLS",id:"ad_skipTLS",name:"ad_skipTLS",checked:s,onChange:function(e){var n=e.target.checked;K("ADSkipTLS",n)},label:"Skip TLS Verification"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(C.Z,{value:"ad_serverInsecure",id:"ad_serverInsecure",name:"ad_serverInsecure",checked:o,onChange:function(e){var n=e.target.checked;K("ADServerInsecure",n)},label:"Server Insecure"})}),o?(0,T.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,T.jsx)(w.Z,{className:n.error,variant:"caption",display:"block",gutterBottom:!0,children:"Warning: All traffic with Active Directory will be unencrypted"}),(0,T.jsx)("br",{})]}):null,(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(C.Z,{value:"ad_serverStartTLS",id:"ad_serverStartTLS",name:"ad_serverStartTLS",checked:A,onChange:function(e){var n=e.target.checked;K("ADServerStartTLS",n)},label:"Start TLS connection to AD/LDAP server"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_lookupBindDN",name:"ad_lookupBindDN",onChange:function(e){K("ADLookupBindDN",e.target.value),E("ad_lookupBindDN")},label:"Lookup Bind DN",value:p,placeholder:"cn=admin,dc=min,dc=io",error:R.ad_lookupBindDN||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_lookupBindPassword",name:"ad_lookupBindPassword",onChange:function(e){K("ADLookupBindPassword",e.target.value)},label:"Lookup Bind Password",value:g,placeholder:"admin"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_userDNSearchBaseDN",name:"ad_userDNSearchBaseDN",onChange:function(e){K("ADUserDNSearchBaseDN",e.target.value)},label:"User DN Search Base DN",value:y,placeholder:"dc=min,dc=io"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_userDNSearchFilter",name:"ad_userDNSearchFilter",onChange:function(e){K("ADUserDNSearchFilter",e.target.value)},label:"User DN Search Filter",value:_,placeholder:"(sAMAcountName=%s)"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_groupSearchBaseDN",name:"ad_groupSearchBaseDN",onChange:function(e){K("ADGroupSearchBaseDN",e.target.value)},label:"Group Search Base DN",value:u,placeholder:"ou=hwengg,dc=min,dc=io;ou=swengg,dc=min,dc=io"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"ad_groupSearchFilter",name:"ad_groupSearchFilter",onChange:function(e){K("ADGroupSearchFilter",e.target.value)},label:"Group Search Filter",value:d,placeholder:"(&(objectclass=groupOfNames)(member=%s))"})}),(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"List of user DNs (Distinguished Names) to be Tenant Administrators"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:m.map((function(t,r){return(0,T.jsx)(i.Fragment,{children:(0,T.jsxs)("div",{className:n.adUserDnRows,children:[(0,T.jsx)(b.Z,{id:"ad-userdn-".concat(r.toString()),label:"",placeholder:"",name:"ad-userdn-".concat(r.toString()),value:m[r],onChange:function(n){e((0,N.hK)({index:r,userDN:n.target.value})),E("ad-userdn-".concat(r.toString()))},index:r,error:R["ad-userdn-".concat(r.toString())]||""},"csv-ad-userdn-".concat(r.toString())),(0,T.jsxs)("div",{className:n.buttonTray,children:[(0,T.jsx)(k.Z,{title:"Add User","aria-label":"add",children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){e((0,N.Y$)())},children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)(k.Z,{title:"Remove","aria-label":"add",children:(0,T.jsx)(v.Z,{size:"small",style:{marginLeft:16},onClick:function(){m.length>1&&e((0,N.GU)(r))},children:(0,T.jsx)(F.Z,{})})})]})]})},"identityField-".concat(r.toString()))}))})]}),(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"List of group DNs (Distinguished Names) to be Tenant Administrators"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:f.map((function(t,r){return(0,T.jsx)(i.Fragment,{children:(0,T.jsxs)("div",{className:n.adUserDnRows,children:[(0,T.jsx)(b.Z,{id:"ad-groupdn-".concat(r.toString()),label:"",placeholder:"",name:"ad-groupdn-".concat(r.toString()),value:f[r],onChange:function(n){e((0,N.in)({index:r,userDN:n.target.value})),E("ad-groupdn-".concat(r.toString()))},index:r,error:R["ad-groupdn-".concat(r.toString())]||""},"csv-ad-groupdn-".concat(r.toString())),(0,T.jsxs)("div",{className:n.buttonTray,children:[(0,T.jsx)(k.Z,{title:"Add Group","aria-label":"add",children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){e((0,N.Fe)())},children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)(k.Z,{title:"Remove","aria-label":"add",children:(0,T.jsx)(v.Z,{size:"small",style:{marginLeft:16},onClick:function(){f.length>1&&e((0,N.Hu)(r))},children:(0,T.jsx)(F.Z,{})})})]})]})},"identityField-".concat(r.toString()))}))})]})]})},K=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.DF),m.oO),m.AK))})),E=function(){var e=(0,h.TL)(),n=K(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDConfigurationURL})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDClientID})),o=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDSecretID})),u=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDCallbackURL})),d=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDClaimName})),m=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDScopes})),f=(0,i.useState)({}),p=(0,r.Z)(f,2),g=p[0],v=p[1],y=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"identityProvider",field:n,value:t}))}),[e]),C=function(e){v((0,j.he)(g,e))};return(0,i.useEffect)((function(){var n=[];"OpenID"===t&&(n=[].concat((0,x.Z)(n),[{fieldKey:"openID_CONFIGURATION_URL",required:!0,value:a},{fieldKey:"openID_clientID",required:!0,value:s},{fieldKey:"openID_secretID",required:!0,value:o},{fieldKey:"openID_claimName",required:!0,value:d}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"identityProvider",valid:0===Object.keys(r).length})),v(r)}),[t,s,o,a,d,e]),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_CONFIGURATION_URL",name:"openID_CONFIGURATION_URL",onChange:function(e){y("openIDConfigurationURL",e.target.value),C("openID_CONFIGURATION_URL")},label:"Configuration URL",value:a,placeholder:"https://your-identity-provider.com/.well-known/openid-configuration",error:g.openID_CONFIGURATION_URL||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_clientID",name:"openID_clientID",onChange:function(e){y("openIDClientID",e.target.value),C("openID_clientID")},label:"Client ID",value:s,error:g.openID_clientID||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_secretID",name:"openID_secretID",onChange:function(e){y("openIDSecretID",e.target.value),C("openID_secretID")},label:"Secret ID",value:o,error:g.openID_secretID||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_callbackURL",name:"openID_callbackURL",onChange:function(e){y("openIDCallbackURL",e.target.value),C("openID_callbackURL")},label:"Callback URL",value:u,placeholder:"https://your-console-endpoint:9443/oauth_callback",error:g.openID_callbackURL||""})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_claimName",name:"openID_claimName",onChange:function(e){y("openIDClaimName",e.target.value),C("openID_claimName")},label:"Claim Name",value:d,error:g.openID_claimName||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"openID_scopes",name:"openID_scopes",onChange:function(e){y("openIDScopes",e.target.value),C("openID_scopes")},label:"Scopes",value:m})})]})},L=t(22918),z=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},shortened:{gridTemplateColumns:"auto auto 50px 50px",display:"grid",gridGap:15,marginBottom:10,"& input":{fontWeight:400}}},m.QV),m.DF),m.oO),m.AK))})),O=function(){var e=(0,h.TL)(),n=z(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.accessKeys})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.secretKeys})),o=(0,i.useState)({}),c=(0,r.Z)(o,2),u=c[0],d=c[1],m=function(e){d((0,j.he)(u,e))};return(0,i.useEffect)((function(){var n=[];if("Built-in"===t){n=(0,x.Z)(n);for(var r=0;r<a.length;r++)n.push({fieldKey:"accesskey-".concat(r.toString()),required:!0,value:a[r],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"}),n.push({fieldKey:"secretkey-".concat(r.toString()),required:!0,value:s[r],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"})}var i=(0,Z.R)(n);e((0,N.NO)({pageName:"identityProvider",valid:0===Object.keys(i).length})),d(i)}),[t,a,s,e]),(0,T.jsxs)(i.Fragment,{children:["Add additional users",a.map((function(t,r){return(0,T.jsx)(i.Fragment,{children:(0,T.jsxs)("div",{className:n.shortened,children:[(0,T.jsx)(b.Z,{id:"accesskey-".concat(r.toString()),label:"",placeholder:"Access Key",name:"accesskey-".concat(r.toString()),value:a[r],onChange:function(n){e((0,N.ys)({index:r,accessKey:n.target.value})),m("accesskey-".concat(r.toString()))},index:r,error:u["accesskey-".concat(r.toString())]||""},"csv-accesskey-".concat(r.toString())),(0,T.jsx)(b.Z,{id:"secretkey-".concat(r.toString()),label:"",placeholder:"Secret Key",name:"secretkey-".concat(r.toString()),value:s[r],onChange:function(n){e((0,N.OL)({index:r,secretKey:n.target.value})),m("secretkey-".concat(r.toString()))},index:r,error:u["secretkey-".concat(r.toString())]||""},"csv-secretkey-".concat(r.toString())),(0,T.jsxs)("div",{className:n.buttonTray,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){e((0,N.x$)())},disabled:r!==a.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){e((0,N.iA)(r))},disabled:a.length<=1,children:(0,T.jsx)(_.Z,{})})}),(0,T.jsx)(k.Z,{title:"Randomize Credentials","aria-label":"add",children:(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{onClick:function(){e((0,N.ys)({index:r,accessKey:(0,j.zO)(16)})),e((0,N.OL)({index:r,secretKey:(0,j.zO)(16)}))},size:"small",children:(0,T.jsx)(L.Z,{})})})})]})]})},"identityField-".concat(r.toString()))}))]})},M=t(68456),V=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({protocolRadioOptions:{display:"flex",flexFlow:"column",marginBottom:10,"& label":{fontSize:16,fontWeight:600},"& div":{display:"flex",flexFlow:"row",alignItems:"top"}}},m.QV),m.oO),m.AK))})),U=function(){var e=(0,h.TL)(),n=V(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection}));return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Identity Provider"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Access to the tenant can be controlled via an external Identity Manager."})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,padding:"10px",children:(0,T.jsx)(I.Z,{currentSelection:t,id:"idp-options",name:"idp-options",label:"Protocol",onChange:function(n){e((0,N.BH)(n.target.value))},selectorOptions:[{label:(0,T.jsx)(M.YH,{}),value:"Built-in"},{label:(0,T.jsx)(M.mo,{}),value:"OpenID"},{label:(0,T.jsx)(M.QT,{}),value:"AD"}]})}),"Built-in"===t&&(0,T.jsx)(O,{}),"OpenID"===t&&(0,T.jsx)(E,{}),"AD"===t&&(0,T.jsx)(G,{})]})},q=t(54639),B=t(96015),H=t(46707),W=function(e){var n=e.icon,t=e.description;return(0,T.jsxs)(B.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,T.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})},Q=function(){var e=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.namespace||"<namespace>"})),n=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.tenantName||"<tenant-name>"}));return(0,T.jsx)(B.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:(0,T.jsxs)(B.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,T.jsx)(W,{icon:(0,T.jsx)(H.Z,{}),description:"TLS Certificates Warning"}),(0,T.jsxs)(B.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["Automatic certificate generation is not enabled.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"If you wish to continue only with ",(0,T.jsx)("b",{children:"custom certificates"})," make sure they are valid for the following internode hostnames, i.e.:",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:["minio.",e,(0,T.jsx)("br",{}),"minio.",e,".svc",(0,T.jsx)("br",{}),"minio.",e,".svc.<cluster domain>",(0,T.jsx)("br",{}),"*.",n,"-hl.",e,".svc.<cluster domain>",(0,T.jsx)("br",{}),"*.",e,".svc.<cluster domain>"]}),(0,T.jsx)("br",{}),"Replace ",(0,T.jsx)("em",{children:"<tenant-name>"}),","," ",(0,T.jsx)("em",{children:"<namespace>"})," and",(0,T.jsx)("em",{children:"<cluster domain>"})," with the actual values for your MinIO tenant.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"You can learn more at our"," ",(0,T.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/operations/network-encryption.html?ref=op#id5",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})]})})},$=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({minioCertificateRows:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},minioCertsContainer:{marginBottom:15},minioCACertsRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),r=(0,l.v9)((function(e){return e.createTenant.fields.security.enableTLS})),a=(0,l.v9)((function(e){return e.createTenant.fields.security.enableAutoCert})),s=(0,l.v9)((function(e){return e.createTenant.fields.security.enableCustomCerts})),o=(0,l.v9)((function(e){return e.createTenant.certificates.minioServerCertificates})),u=(0,l.v9)((function(e){return e.createTenant.certificates.minioClientCertificates})),d=(0,l.v9)((function(e){return e.createTenant.certificates.minioCAsCertificates})),m=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"security",field:e,value:n}))}),[t]);return(0,i.useEffect)((function(){t(r?a||s?(0,N.NO)({pageName:"security",valid:!0}):(0,N.NO)({pageName:"security",valid:!1}):(0,N.NO)({pageName:"security",valid:!0}))}),[r,a,s,t]),(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsx)("div",{className:n.headerElement,children:(0,T.jsx)("h3",{className:n.h3Section,children:"Security"})}),(0,T.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(C.Z,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:r,onChange:function(e){var n=e.target.checked;m("enableTLS",n)},label:"TLS",description:"Securing all the traffic using TLS. This is required for Encryption Configuration"})}),r&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(C.Z,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:a,onChange:function(e){var n=e.target.checked;m("enableAutoCert",n)},label:"AutoCert",description:"The internode certificates will be generated and managed by MinIO Operator"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(C.Z,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:s,onChange:function(e){var n=e.target.checked;m("enableCustomCerts",n)},label:"Custom Certificates",description:"Certificates used to terminated TLS at MinIO"})}),s&&(0,T.jsxs)(i.Fragment,{children:[!a&&(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(Q,{})}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,T.jsx)("h5",{children:"MinIO Server Certificates"}),o.map((function(e,r){return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertificateRows,children:[(0,T.jsxs)(c.ZP,{item:!0,xs:10,className:n.fileItem,children:[(0,T.jsx)(q.Z,{onChange:function(n,r){t((0,N.aN)({id:e.id,key:"cert",fileName:r,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,T.jsx)(q.Z,{onChange:function(n,r){t((0,N.aN)({id:e.id,key:"key",fileName:r,value:n}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,T.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.Mg)())},disabled:r!==o.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.XX)(e.id))},disabled:o.length<=1,children:(0,T.jsx)(_.Z,{})})})]})]},"minio-certs-".concat(e.id))}))]}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,T.jsx)("h5",{children:"MinIO Client Certificates"}),u.map((function(e,r){return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertificateRows,children:[(0,T.jsxs)(c.ZP,{item:!0,xs:10,className:n.fileItem,children:[(0,T.jsx)(q.Z,{onChange:function(n,r){t((0,N.fE)({id:e.id,key:"cert",fileName:r,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,T.jsx)(q.Z,{onChange:function(n,r){t((0,N.fE)({id:e.id,key:"key",fileName:r,value:n}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,T.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.ee)())},disabled:r!==u.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.o_)(e.id))},disabled:u.length<=1,children:(0,T.jsx)(_.Z,{})})})]})]},"minio-certs-".concat(e.id))}))]}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,T.jsx)("h5",{children:"MinIO CA Certificates"}),d.map((function(e,r){return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCACertsRow,children:[(0,T.jsx)(c.ZP,{item:!0,xs:6,children:(0,T.jsx)(q.Z,{onChange:function(n,r){t((0,N.Eq)({id:e.id,key:"cert",fileName:r,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),(0,T.jsx)(c.ZP,{item:!0,xs:6,children:(0,T.jsxs)("div",{className:n.rowActions,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.fK)())},disabled:r!==d.length-1,children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.IG)(e.id))},disabled:d.length<=1,children:(0,T.jsx)(_.Z,{})})})]})})]},"minio-CA-certs-".concat(e.id))}))]})]})]})]})]})})),Y=function(e){var n=e.children;return(0,T.jsx)("h1",{style:{margin:0,marginBottom:".8rem",fontSize:"1.3rem"},children:n})},J=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),X=function(){var e=(0,h.TL)(),n=J(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultEngine})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultNamespace})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultPrefix})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultAppRoleEngine})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultId})),f=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultSecret})),p=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultRetry})),g=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultPing})),v=(0,i.useState)({}),y=(0,r.Z)(v,2),C=y[0],S=y[1];(0,i.useEffect)((function(){var n=[];t||(n=[].concat((0,x.Z)(n),[{fieldKey:"vault_endpoint",required:!0,value:a},{fieldKey:"vault_id",required:!0,value:m},{fieldKey:"vault_secret",required:!0,value:f},{fieldKey:"vault_ping",required:!1,value:g,customValidation:parseInt(g)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:p,customValidation:parseInt(p)<0,customValidationMessage:"Value needs to be 0 or greater"}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"encryption",valid:0===Object.keys(r).length})),S(r)}),[t,a,s,m,f,g,p,e]);var _=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"encryption",field:n,value:t}))}),[e]),A=function(e){S((0,j.he)(C,e))};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){_("vaultEndpoint",e.target.value),A("vault_endpoint")},label:"Endpoint",value:a,error:C.vault_endpoint||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_engine",name:"vault_engine",onChange:function(e){_("vaultEngine",e.target.value),A("vault_engine")},label:"Engine",value:s})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){_("vaultNamespace",e.target.value)},label:"Namespace",value:o})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){_("vaultPrefix",e.target.value)},label:"Prefix",value:u})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"App Role"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){_("vaultAppRoleEngine",e.target.value)},label:"Engine",value:d})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_id",name:"vault_id",onChange:function(e){_("vaultId",e.target.value),A("vault_id")},label:"AppRole ID",value:m,error:C.vault_id||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"vault_secret",name:"vault_secret",onChange:function(e){_("vaultSecret",e.target.value),A("vault_secret")},label:"AppRole Secret",value:f,error:C.vault_secret||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){_("vaultRetry",e.target.value),A("vault_retry")},label:"Retry (Seconds)",value:p,error:C.vault_retry||""})})]})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,style:{marginTop:15},children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Status"}),(0,T.jsx)(b.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){_("vaultPing",e.target.value),A("vault_ping")},label:"Ping (Seconds)",value:g,error:C.vault_ping||""})]})})]})},ee=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),ne=function(){var e=(0,h.TL)(),n=ee(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureTenantID})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureClientID})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureClientSecret})),d=(0,i.useState)({}),m=(0,r.Z)(d,2),f=m[0],p=m[1];(0,i.useEffect)((function(){var n=[];t||(n=[].concat((0,x.Z)(n),[{fieldKey:"azure_endpoint",required:!0,value:a},{fieldKey:"azure_tenant_id",required:!0,value:s},{fieldKey:"azure_client_id",required:!0,value:o},{fieldKey:"azure_client_secret",required:!0,value:u}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"encryption",valid:0===Object.keys(r).length})),p(r)}),[t,a,s,o,u,e]);var g=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"encryption",field:n,value:t}))}),[e]),v=function(e){p((0,j.he)(f,e))};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){g("azureEndpoint",e.target.value),v("azure_endpoint")},label:"Endpoint",value:a,error:f.azure_endpoint||""})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){g("azureTenantID",e.target.value),v("azure_tenant_id")},label:"Tenant ID",value:s,error:f.azure_tenant_id||""})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){g("azureClientID",e.target.value),v("azure_client_id")},label:"Client ID",value:o,error:f.azure_client_id||""})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){g("azureClientSecret",e.target.value),v("azure_client_secret")},label:"Client Secret",value:u,error:f.azure_client_secret||""})})]})})]})},te=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),re=function(){var e=te(),n=(0,h.TL)(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpProjectID})),r=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpEndpoint})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientEmail})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientID})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKeyID})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKey})),d=(0,i.useCallback)((function(e,t){n((0,N.HM)({pageName:"encryption",field:e,value:t}))}),[n]);return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){d("gcpProjectID",e.target.value)},label:"Project ID",value:t})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){d("gcpEndpoint",e.target.value)},label:"Endpoint",value:r})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("fieldset",{className:e.fieldGroup,children:[(0,T.jsx)("legend",{className:e.descriptionText,children:"Credentials"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){d("gcpClientEmail",e.target.value)},label:"Client Email",value:a})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){d("gcpClientID",e.target.value)},label:"Client ID",value:s})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){d("gcpPrivateKeyID",e.target.value)},label:"Private Key ID",value:o})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){d("gcpPrivateKey",e.target.value)},label:"Private Key",value:u})})]})})]})},ae=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),ie=function(){var e=(0,h.TL)(),n=ae(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoToken})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoDomain})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoRetry})),d=(0,i.useState)({}),m=(0,r.Z)(d,2),f=m[0],p=m[1];(0,i.useEffect)((function(){var n=[];t||(n=[].concat((0,x.Z)(n),[{fieldKey:"gemalto_endpoint",required:!0,value:a},{fieldKey:"gemalto_token",required:!0,value:s},{fieldKey:"gemalto_domain",required:!0,value:o},{fieldKey:"gemalto_retry",required:!1,value:u,customValidation:parseInt(u)<0,customValidationMessage:"Value needs to be 0 or greater"}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"encryption",valid:0===Object.keys(r).length})),p(r)}),[t,a,s,o,u,e]);var g=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"encryption",field:n,value:t}))}),[e]),v=function(e){p((0,j.he)(f,e))};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){g("gemaltoEndpoint",e.target.value),v("gemalto_endpoint")},label:"Endpoint",value:a,error:f.gemalto_endpoint||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){g("gemaltoToken",e.target.value),v("gemalto_token")},label:"Token",value:s,error:f.gemalto_token||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){g("gemaltoDomain",e.target.value),v("gemalto_domain")},label:"Domain",value:o,error:f.gemalto_domain||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){g("gemaltoRetry",e.target.value),v("gemalto_retry")},label:"Retry (seconds)",value:u,error:f.gemalto_retry||""})})]})})]})},se=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),oe=function(){var e=(0,h.TL)(),n=se(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsRegion})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsKMSKey})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsAccessKey})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsSecretKey})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsToken})),f=(0,i.useState)({}),p=(0,r.Z)(f,2),g=p[0],v=p[1];(0,i.useEffect)((function(){var n=[];t||(n=[].concat((0,x.Z)(n),[{fieldKey:"aws_endpoint",required:!0,value:a},{fieldKey:"aws_region",required:!0,value:s},{fieldKey:"aws_accessKey",required:!0,value:u},{fieldKey:"aws_secretKey",required:!0,value:d}]));var r=(0,Z.R)(n);e((0,N.NO)({pageName:"encryption",valid:0===Object.keys(r).length})),v(r)}),[t,a,s,d,u,e]);var y=(0,i.useCallback)((function(n,t){e((0,N.HM)({pageName:"encryption",field:n,value:t}))}),[e]),C=function(e){v((0,j.he)(g,e))};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){y("awsEndpoint",e.target.value),C("aws_endpoint")},label:"Endpoint",value:a,error:g.aws_endpoint||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_region",name:"aws_region",onChange:function(e){y("awsRegion",e.target.value),C("aws_region")},label:"Region",value:s,error:g.aws_region||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){y("awsKMSKey",e.target.value)},label:"KMS Key",value:o})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){y("awsAccessKey",e.target.value),C("aws_accessKey")},label:"Access Key",value:u,error:g.aws_accessKey||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){y("awsSecretKey",e.target.value),C("aws_secretKey")},label:"Secret Key",value:d,error:g.aws_secretKey||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"aws_token",name:"aws_token",onChange:function(e){y("awsToken",e.target.value)},label:"Token",value:m})})]})})]})},le=t(60142),ce=t(90166),ue=t(92217),de=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({encryptionTypeOptions:{marginBottom:15},mutualTlsConfig:{marginTop:15,"& fieldset":{flex:1}},rightSpacer:{marginRight:15},responsiveContainer:{"@media (max-width: 900px)":{display:"flex",flexFlow:"column"}}},m.QV),m.DF),m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.replicas})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.rawConfiguration})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.enableEncryption})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionType})),f=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpProjectID})),p=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpEndpoint})),v=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientEmail})),y=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientID})),S=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKeyID})),_=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKey})),P=(0,l.v9)((function(e){return e.createTenant.fields.encryption.enableCustomCertsForKES})),w=(0,l.v9)((function(e){return e.createTenant.fields.security.enableAutoCert})),k=(0,l.v9)((function(e){return e.createTenant.fields.security.enableTLS})),R=(0,l.v9)((function(e){return e.createTenant.certificates.minioServerCertificates})),F=(0,l.v9)((function(e){return e.createTenant.certificates.kesServerCertificate})),D=(0,l.v9)((function(e){return e.createTenant.certificates.minioMTLSCertificate})),G=(0,l.v9)((function(e){return e.createTenant.certificates.kmsMTLSCertificate})),K=(0,l.v9)((function(e){return e.createTenant.certificates.kmsCA})),E=(0,l.v9)((function(e){return e.createTenant.fields.security.enableCustomCerts})),L=(0,l.v9)((function(e){return e.createTenant.fields.encryption.kesSecurityContext})),z=(0,i.useState)({}),O=(0,r.Z)(z,2),M=O[0],V=O[1],U=!1;k&&(w||R&&R.filter((function(e){return e.encoded_key&&e.encoded_cert})).length>0)&&(U=!0);var B=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"encryption",field:e,value:n}))}),[t]),H=function(e){V((0,j.he)(M,e))};return(0,i.useEffect)((function(){var e=[];d&&(e=[].concat((0,x.Z)(e),[{fieldKey:"rawConfiguration",required:u>0,value:o},{fieldKey:"replicas",required:!0,value:s,customValidation:parseInt(s)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:L.runAsUser,customValidation:""===L.runAsUser||parseInt(L.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:L.runAsGroup,customValidation:""===L.runAsGroup||parseInt(L.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:L.fsGroup,customValidation:""===L.fsGroup||parseInt(L.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),E&&(e=[].concat((0,x.Z)(e),[{fieldKey:"serverKey",required:!w,value:F.encoded_key},{fieldKey:"serverCert",required:!w,value:F.encoded_cert},{fieldKey:"clientKey",required:!w,value:D.encoded_key},{fieldKey:"clientCert",required:!w,value:D.encoded_cert}])));var n=(0,Z.R)(e);t((0,N.NO)({pageName:"encryption",valid:0===Object.keys(n).length})),V(n)}),[o,u,d,m,f,p,v,y,S,_,t,w,E,F.encoded_key,F.encoded_cert,D.encoded_key,D.encoded_cert,L,s]),(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,T.jsx)(c.ZP,{item:!0,xs:!0,children:(0,T.jsx)(Y,{children:"Encryption"})}),(0,T.jsx)(c.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,T.jsx)(C.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:d,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:function(e){var n=e.target.checked;B("enableEncryption",n)},description:"",disabled:!U})})]}),(0,T.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("span",{className:n.descriptionText,children:"MinIO Server-Side Encryption (SSE) protects objects as part of write operations, allowing clients to take advantage of server processing power to secure objects at the storage layer (encryption-at-rest). SSE also provides key functionality to regulatory and compliance requirements around secure locking and erasure."})}),(0,T.jsx)(c.ZP,{xs:12,children:(0,T.jsx)("hr",{className:n.hrClass})}),d&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)(le.Z,{value:u,onChange:function(e,n){B("encryptionTab",n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,T.jsx)(ce.Z,{id:"kms-options",label:"Options"}),(0,T.jsx)(ce.Z,{id:"kms-raw-configuration",label:"Raw Edit"})]})}),u?(0,T.jsx)(i.Fragment,{children:(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(ue.Z,{value:o,mode:"yaml",onBeforeChange:function(e,n,t){B("rawConfiguration",t)},editorHeight:"550px"})})}):(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.encryptionTypeOptions,children:(0,T.jsx)(I.Z,{currentSelection:m,id:"encryptionType",name:"encryptionType",label:"KMS",onChange:function(e){B("encryptionType",e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===m&&(0,T.jsx)(X,{}),"azure"===m&&(0,T.jsx)(ne,{}),"gcp"===m&&(0,T.jsx)(re,{}),"aws"===m&&(0,T.jsx)(oe,{}),"gemalto"===m&&(0,T.jsx)(ie,{})]}),(0,T.jsx)("div",{className:n.headerElement,children:(0,T.jsx)("h4",{className:n.h3Section,children:"Additional Configurations"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(C.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:P||!w,onChange:function(e){var n=e.target.checked;B("enableCustomCertsForKES",n)},label:"Custom Certificates",disabled:!w})}),(P||!w)&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{container:!0,children:(0,T.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"Encryption server certificates"}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.uN)({key:"key",fileName:n,value:e})),H("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",error:M.serverKey||"",value:F.key,required:!w}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.uN)({key:"cert",fileName:n,value:e})),H("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",error:M.serverCert||"",value:F.cert,required:!w})]})})}),(0,T.jsx)(c.ZP,{container:!0,style:{marginBottom:15},children:(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"MinIO mTLS certificates (connection between MinIO and the Encryption server)"}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.Ud)({key:"key",fileName:n,value:e})),H("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",error:M.clientKey||"",value:D.key,required:!w}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.Ud)({key:"cert",fileName:n,value:e})),H("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",error:M.clientCert||"",value:D.cert,required:!w})]})})}),(0,T.jsx)(c.ZP,{container:!0,className:n.mutualTlsConfig,children:(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"KMS mTLS certificates (connection between the Encryption server and the KMS)"}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.Tr)({key:"key",fileName:n,value:e})),H("vault_key")},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:G.key}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.Tr)({key:"cert",fileName:n,value:e})),H("vault_cert")},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:G.cert}),(0,T.jsx)(q.Z,{onChange:function(e,n){t((0,N.b9)({fileName:n,value:e})),H("vault_ca")},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:K.cert})]})})]}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,classes:n.formFieldRow,children:(0,T.jsx)(b.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){B("replicas",e.target.value),H("replicas")},label:"Replicas",value:s,required:!0,error:M.replicas||""})}),(0,T.jsxs)("fieldset",{className:n.fieldGroup,style:{marginTop:15},children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for KES pods"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.kesSecurityContext,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveContainer),children:[(0,T.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,T.jsx)(b.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){B("kesSecurityContext",(0,a.Z)((0,a.Z)({},L),{},{runAsUser:e.target.value})),H("kes_securityContext_runAsUser")},label:"Run As User",value:L.runAsUser,required:!0,error:M.kes_securityContext_runAsUser||"",min:"0"})}),(0,T.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,T.jsx)(b.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){B("kesSecurityContext",(0,a.Z)((0,a.Z)({},L),{},{runAsGroup:e.target.value})),H("kes_securityContext_runAsGroup")},label:"Run As Group",value:L.runAsGroup,required:!0,error:M.kes_securityContext_runAsGroup||"",min:"0"})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.kesSecurityContext,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveContainer),children:[(0,T.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,T.jsx)(b.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){B("kesSecurityContext",(0,a.Z)((0,a.Z)({},L),{},{fsGroup:e.target.value})),H("kes_securityContext_fsGroup")},label:"FsGroup",value:L.fsGroup,required:!0,error:M.kes_securityContext_fsGroup||"",min:"0"})}),(0,T.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,T.jsx)(A.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:L.fsGroupChangePolicy,onChange:function(e){B("kesSecurityContext",(0,a.Z)((0,a.Z)({},L),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(C.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:L.runAsNonRoot,onChange:function(e){var n=e.target.checked;B("kesSecurityContext",(0,a.Z)((0,a.Z)({},L),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})]})]})]})]})})),me=t(4942),fe=t(81207),he=t(47919),xe=t(45660),pe=t(87995),ge=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},affinityConfigField:{display:"flex"},affinityFieldLabel:{display:"flex",flexFlow:"column",flex:1},radioField:{display:"flex",alignItems:"flex-start",marginTop:10,"& div:first-child":{display:"flex",flexFlow:"column",alignItems:"baseline",textAlign:"left !important"}},affinityLabelKey:{"& div:first-child":{marginBottom:0}},affinityLabelValue:{marginLeft:10,"& div:first-child":{marginBottom:0}},rowActions:{display:"flex",alignItems:"center"},affinityRow:{marginBottom:10,display:"flex"}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.affinity.podAffinity})),o=(0,l.v9)((function(e){return e.createTenant.fields.affinity.nodeSelectorLabels})),u=(0,l.v9)((function(e){return e.createTenant.fields.affinity.withPodAntiAffinity})),d=(0,l.v9)((function(e){return e.createTenant.nodeSelectorPairs})),m=(0,l.v9)((function(e){return e.createTenant.tolerations})),f=(0,i.useState)({}),p=(0,r.Z)(f,2),y=p[0],j=p[1],S=(0,i.useState)(!0),P=(0,r.Z)(S,2),w=P[0],k=P[1],R=(0,i.useState)({}),F=(0,r.Z)(R,2),D=F[0],G=F[1],K=(0,i.useState)([]),E=(0,r.Z)(K,2),L=E[0],z=E[1],O=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"affinity",field:e,value:n}))}),[t]);(0,i.useEffect)((function(){w&&fe.Z.invoke("GET","/api/v1/nodes/labels").then((function(e){k(!1),G(e);var n=[];for(var t in e)n.push({label:t,value:t});z(n)})).catch((function(e){k(!1),t((0,pe.zb)(e)),G({})}))}),[t,w]),(0,i.useEffect)((function(){if(d){var e=d.filter((function(e){return""!==e.key})).map((function(e){return"".concat(e.key,"=").concat(e.value)})).filter((function(e,n,t){return t.indexOf(e)===n})).join("&");O("nodeSelectorLabels",e)}}),[d,O]),(0,i.useEffect)((function(){var e=[];if("nodeSelector"===s){var n=!0,r=o.split("&");1===r.length&&""===r[0]&&(n=!1),r.forEach((function(e,t){var a=e.split("=");2!==a.length&&(n=!1),t+1!==r.length&&(""!==a[0]&&""!==a[1]||(n=!1))})),e=[].concat((0,x.Z)(e),[{fieldKey:"labels",required:!0,value:o,customValidation:!n,customValidationMessage:"You need to add at least one label key-pair"}])}var a=(0,Z.R)(e);t((0,N.NO)({pageName:"affinity",valid:0===Object.keys(a).length})),j(a)}),[t,s,o]);var M=function(e,n,r){var i=(0,a.Z)((0,a.Z)({},m[e]),{},(0,me.Z)({},n,r));t((0,N.iU)({index:e,tolerationValue:i}))};return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Pod Placement"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Configure how pods will be assigned to nodes"})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.affinityConfigField,children:(0,T.jsxs)(c.ZP,{item:!0,className:n.affinityFieldLabel,children:[(0,T.jsx)("div",{className:n.label,children:"Type"}),(0,T.jsx)("div",{className:"".concat(n.descriptionText," ").concat(n.affinityHelpText),children:"MinIO supports multiple configurations for Pod Affinity"}),(0,T.jsx)(c.ZP,{item:!0,className:n.radioField,children:(0,T.jsx)(I.Z,{currentSelection:s,id:"affinity-options",name:"affinity-options",label:" ",onChange:function(e){O("podAffinity",e.target.value)},selectorOptions:[{label:"None",value:"none"},{label:"Default (Pod Anti-Affinity)",value:"default"},{label:"Node Selector",value:"nodeSelector"}]})})]})}),"nodeSelector"===s&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(C.Z,{value:"with_pod_anti_affinity",id:"with_pod_anti_affinity",name:"with_pod_anti_affinity",checked:u,onChange:function(e){var n=e.target.checked;O("withPodAntiAffinity",n)},label:"With Pod Anti-Affinity"})}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,T.jsx)("h3",{children:"Labels"}),(0,T.jsx)("span",{className:n.error,children:y.labels}),(0,T.jsx)(c.ZP,{container:!0,children:d&&d.map((function(e,r){return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.affinityRow,children:[(0,T.jsxs)(c.ZP,{item:!0,xs:5,className:n.affinityLabelKey,children:[L.length>0&&(0,T.jsx)(A.Z,{onChange:function(e){var n=e.target.value,a={key:n,value:D[n][0]},i=(0,x.Z)(d);i[r]=a,t((0,N.i$)(i))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.key,options:L}),0===L.length&&(0,T.jsx)(b.Z,{id:"nodeselector-key-".concat(r.toString()),label:"",name:"nodeselector-".concat(r.toString()),value:e.key,onChange:function(e){var n=(0,x.Z)(d);n[r]={key:n[r].key,value:e.target.value},t((0,N.i$)(n))},index:r,placeholder:"Key"})]}),(0,T.jsxs)(c.ZP,{item:!0,xs:5,className:n.affinityLabelValue,children:[L.length>0&&(0,T.jsx)(A.Z,{onChange:function(e){var n=(0,x.Z)(d);n[r]={key:n[r].key,value:e.target.value},t((0,N.i$)(n))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.value,options:D[e.key]?D[e.key].map((function(e){return{label:e,value:e}})):[]}),0===L.length&&(0,T.jsx)(b.Z,{id:"nodeselector-value-".concat(r.toString()),label:"",name:"nodeselector-".concat(r.toString()),value:e.value,onChange:function(e){var n=(0,x.Z)(d);n[r]={key:n[r].key,value:e.target.value},t((0,N.i$)(n))},index:r,placeholder:"value"})]}),(0,T.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){var e=(0,x.Z)(d);L.length>0?e.push({key:L[0].value,value:D[L[0].value][0]}):e.push({key:"",value:""}),t((0,N.i$)(e))},disabled:r!==d.length-1,children:(0,T.jsx)(he.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){var e=d.filter((function(e,n){return n!==r}));t((0,N.i$)(e))},disabled:d.length<=1,children:(0,T.jsx)(_.Z,{})})})]})]},"affinity-keyVal-".concat(r.toString()))}))})]})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.affinityConfigField,children:(0,T.jsxs)(c.ZP,{item:!0,className:n.affinityFieldLabel,children:[(0,T.jsx)("h3",{children:"Tolerations"}),(0,T.jsx)("span",{className:n.error,children:y.tolerations}),(0,T.jsx)(c.ZP,{container:!0,children:m&&m.map((function(e,r){var a;return(0,T.jsxs)(c.ZP,{item:!0,xs:12,className:n.affinityRow,children:[(0,T.jsx)(xe.Z,{effect:e.effect,onEffectChange:function(e){M(r,"effect",e)},tolerationKey:e.key,onTolerationKeyChange:function(e){M(r,"key",e)},operator:e.operator,onOperatorChange:function(e){M(r,"operator",e)},value:e.value,onValueChange:function(e){M(r,"value",e)},tolerationSeconds:(null===(a=e.tolerationSeconds)||void 0===a?void 0:a.seconds)||0,onSecondsChange:function(e){M(r,"tolerationSeconds",{seconds:e})},index:r}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){t((0,N.ly)())},disabled:r!==m.length-1,children:(0,T.jsx)(he.Z,{})})}),(0,T.jsx)("div",{className:n.overlayAction,children:(0,T.jsx)(v.Z,{size:"small",onClick:function(){return t((0,N.JX)(r))},disabled:m.length<=1,children:(0,T.jsx)(_.Z,{})})})]},"affinity-keyVal-".concat(r.toString()))}))})]})})]})})),ve=t(32291),ye=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.DF),m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),a=(0,l.v9)((function(e){return e.createTenant.fields.configure.customImage})),s=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageName})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.customDockerhub})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistry})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistryUsername})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistryPassword})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusEnabled})),p=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantCustom})),v=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchEnabled})),y=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchVolumeSize})),S=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusVolumeSize})),_=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchSelectedStorageClass})),A=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchImage})),P=(0,l.v9)((function(e){return e.createTenant.fields.configure.kesImage})),I=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchPostgresImage})),w=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchPostgresInitImage})),k=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusSelectedStorageClass})),R=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusImage})),F=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusSidecarImage})),D=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusInitImage})),G=(0,i.useState)({}),K=(0,r.Z)(G,2),E=K[0],L=K[1],z=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,i.useEffect)((function(){var e=[];f&&(e=[].concat((0,x.Z)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:k,customValidation:""===k,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:S,customValidation:""===S||parseInt(S)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),v&&(e=[].concat((0,x.Z)(e),[{fieldKey:"log_search_storage_class",required:!0,value:_,customValidation:""===_,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:y,customValidation:""===y||parseInt(y)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),a&&(e=[].concat((0,x.Z)(e),[{fieldKey:"image",required:!1,value:s,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"logSearchImage",required:!1,value:A,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/operator:VERSION'"},{fieldKey:"kesImage",required:!1,value:P,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"},{fieldKey:"logSearchPostgresImage",required:!1,value:I,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/postgres:VERSION'"},{fieldKey:"logSearchPostgresInitImage",required:!1,value:w,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"},{fieldKey:"prometheusImage",required:!1,value:R,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/prometheus:VERSION'"},{fieldKey:"prometheusSidecarImage",required:!1,value:F,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'project/container:VERSION'"},{fieldKey:"prometheusInitImage",required:!1,value:D,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"}]),o&&(e=[].concat((0,x.Z)(e),[{fieldKey:"registry",required:!0,value:u},{fieldKey:"registryUsername",required:!0,value:d},{fieldKey:"registryPassword",required:!0,value:m}])));var n=(0,Z.R)(e);t((0,N.NO)({pageName:"configure",valid:0===Object.keys(n).length})),L(n)}),[a,s,A,P,I,w,R,F,D,o,u,d,m,t,f,p,v,k,S,_,y]);var O=function(e){L((0,j.he)(E,e))};return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Container Images"}),(0,T.jsx)("span",{className:n.descriptionText,children:"Specify the container images used by the Tenant and it's features."})]}),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"image",name:"image",onChange:function(e){z("imageName",e.target.value),O("image")},label:"MinIO",value:s,error:E.image||"",placeholder:"minio/minio:RELEASE.2022-02-26T02-54-46Z"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"kesImage",name:"kesImage",onChange:function(e){z("kesImage",e.target.value),O("kesImage")},label:"KES",value:P,error:E.kesImage||"",placeholder:"minio/kes:v0.17.6"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)("h4",{children:"Log Search"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"logSearchImage",name:"logSearchImage",onChange:function(e){z("logSearchImage",e.target.value),O("logSearchImage")},label:"API",value:A,error:E.logSearchImage||"",placeholder:"minio/operator:v4.4.22"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"logSearchPostgresImage",name:"logSearchPostgresImage",onChange:function(e){z("logSearchPostgresImage",e.target.value),O("logSearchPostgresImage")},label:"PostgreSQL",value:I,error:E.logSearchPostgresImage||"",placeholder:"library/postgres:13"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"logSearchPostgresInitImage",name:"logSearchPostgresInitImage",onChange:function(e){z("logSearchPostgresInitImage",e.target.value),O("logSearchPostgresInitImage")},label:"PostgreSQL Init",value:w,error:E.logSearchPostgresInitImage||"",placeholder:"library/busybox:1.33.1"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)("h4",{children:"Monitoring"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"prometheusImage",name:"prometheusImage",onChange:function(e){z("prometheusImage",e.target.value),O("prometheusImage")},label:"Prometheus",value:R,error:E.prometheusImage||"",placeholder:"quay.io/prometheus/prometheus:latest"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"prometheusSidecarImage",name:"prometheusSidecarImage",onChange:function(e){z("prometheusSidecarImage",e.target.value),O("prometheusSidecarImage")},label:"Prometheus Sidecar",value:F,error:E.prometheusSidecarImage||"",placeholder:"library/alpine:latest"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"prometheusInitImage",name:"prometheusInitImage",onChange:function(e){z("prometheusInitImage",e.target.value),O("prometheusInitImage")},label:"Prometheus Init",value:D,error:E.prometheusInitImage||"",placeholder:"library/busybox:1.33.1"})})]}),a&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)("h4",{children:"Custom Container Registry"})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(C.Z,{value:"custom_docker_hub",id:"custom_docker_hub",name:"custom_docker_hub",checked:o,onChange:function(e){var n=e.target.checked;z("customDockerhub",n)},label:"Use a private container registry"})})]}),o&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"registry",name:"registry",onChange:function(e){z("imageRegistry",e.target.value)},label:"Endpoint",value:u,error:E.registry||"",placeholder:"https://index.docker.io/v1/",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"registryUsername",name:"registryUsername",onChange:function(e){z("imageRegistryUsername",e.target.value)},label:"Username",value:d,error:E.registryUsername||"",required:!0})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(b.Z,{id:"registryPassword",name:"registryPassword",onChange:function(e){z("imageRegistryPassword",e.target.value)},label:"Password",value:m,error:E.registryPassword||"",required:!0})})]})]})})),je=t(74794),Ze=t(84669),Ce=t(21680),be=t(19773),Se=t(24390),_e=t(60807),Ne=t(45248),Ae=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({root:{margin:4},table:{"& .MuiTableCell-root":{fontSize:13}}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.nodes})),r=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.resourcesMemoryRequest})),a=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.ecParity})),s=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.distribution})),o=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.ecParityCalc})),c=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.resourcesCPURequest})),u=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.integrationSelection})),d=o.storageFactors.find((function(e){return e.erasureCode===a}));return(0,T.jsxs)("div",{className:n.root,children:[(0,T.jsx)("h4",{children:"Resource Allocation"}),(0,T.jsx)(y.Z,{}),(0,T.jsx)(Ce.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,T.jsxs)(be.Z,{children:[(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Number of Servers"}),(0,T.jsx)(Se.Z,{align:"right",children:parseInt(t)>0?t:"-"})]}),""===u.typeSelection&&""===u.storageClass&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Drives per Server"}),(0,T.jsx)(Se.Z,{align:"right",children:s?s.disks:"-"})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Drive Capacity"}),(0,T.jsx)(Se.Z,{align:"right",children:s?(0,Ne.ae)(s.pvSize):"-"})]})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Total Volumes"}),(0,T.jsx)(Se.Z,{align:"right",children:s?s.persistentVolumes:"-"})]}),""===u.typeSelection&&""===u.storageClass&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Memory per Node"}),(0,T.jsxs)(Se.Z,{align:"right",children:[r," Gi"]})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{style:{borderBottom:0},scope:"row",children:"CPU Selection"}),(0,T.jsx)(Se.Z,{style:{borderBottom:0},align:"right",children:c})]})]})]})}),0===o.error&&d&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)("h4",{children:"Erasure Code Configuration"}),(0,T.jsx)(y.Z,{}),(0,T.jsx)(Ce.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,T.jsxs)(be.Z,{children:[(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"EC Parity"}),(0,T.jsx)(Se.Z,{align:"right",children:""!==a?a:"-"})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Raw Capacity"}),(0,T.jsx)(Se.Z,{align:"right",children:(0,Ne.ae)(o.rawCapacity)})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Usable Capacity"}),(0,T.jsx)(Se.Z,{align:"right",children:(0,Ne.ae)(d.maxCapacity)})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{style:{borderBottom:0},scope:"row",children:"Server Failures Tolerated"}),(0,T.jsx)(Se.Z,{style:{borderBottom:0},align:"right",children:s?Math.floor(d.maxFailureTolerations/s.disks):"-"})]})]})})]}),""!==u.typeSelection&&""!==u.storageClass&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)("h4",{children:"Single Instance Configuration"}),(0,T.jsx)(y.Z,{}),(0,T.jsx)(Ce.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,T.jsxs)(be.Z,{children:[(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"CPU"}),(0,T.jsx)(Se.Z,{align:"right",children:0!==u.CPU?u.CPU:"-"})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Memory"}),(0,T.jsx)(Se.Z,{align:"right",children:0!==u.memory?"".concat(u.memory," Gi"):"-"})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{scope:"row",children:"Drives per Server"}),(0,T.jsx)(Se.Z,{align:"right",children:0!==u.drivesPerServer?"".concat(u.drivesPerServer):"-"})]}),(0,T.jsxs)(_e.Z,{children:[(0,T.jsx)(Se.Z,{style:{borderBottom:0},scope:"row",children:"Drive Size"}),(0,T.jsxs)(Se.Z,{style:{borderBottom:0},align:"right",children:[u.driveSize.driveSize,u.driveSize.sizeUnit]})]})]})})]})]})})),Te=t(19720),Pe=t(45884),Ie=t(46078),we=t(39571),ke=t(23508),Re=t(56096),Fe=t(98222),De=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},m.oO),m.Qw))})),Ge=function(){var e=(0,h.TL)(),n=De(),t=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.namespace})),r=(0,l.v9)((function(e){return e.createTenant.addNSLoading})),a=(0,l.v9)((function(e){return e.createTenant.addNSOpen}));return(0,T.jsx)(ke.Z,{title:"New namespace",confirmText:"Create",confirmButtonProps:{variant:"callAction"},isOpen:a,titleIcon:(0,T.jsx)(Re.EjK,{}),isLoading:r,onConfirm:function(){e((0,Fe.QD)())},onClose:function(){e((0,N.pb)())},confirmationContent:(0,T.jsxs)(i.Fragment,{children:[r&&(0,T.jsx)(u.Z,{}),(0,T.jsxs)(we.Z,{children:["Are you sure you want to add a namespace called",(0,T.jsx)("br",{}),(0,T.jsx)("b",{className:n.wrapText,children:t}),"?"]})]})})},Ke=t(48573),Ee=t.n(Ke),Le=function(e){e.formToRender;var n=(0,h.TL)(),t=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.namespace})),r=(0,l.v9)((function(e){return e.createTenant.showNSCreateButton})),a=(0,l.v9)((function(e){return e.createTenant.validationErrors.namespace})),s=(0,l.v9)((function(e){return e.createTenant.addNSOpen})),o=(0,i.useMemo)((function(){return Ee()((function(){n((0,Fe.IO)())}),500)}),[n]);(0,i.useEffect)((function(){if(""!==t)return o(),o.cancel}),[o,t]);return(0,T.jsxs)(i.Fragment,{children:[s&&(0,T.jsx)(Ge,{}),(0,T.jsx)(b.Z,{id:"namespace",name:"namespace",onChange:function(e){n((0,N.Zx)(e.target.value))},label:"Namespace",value:t,error:a||"",overlayId:"add-namespace",overlayIcon:r?(0,T.jsx)(he.Z,{}):null,overlayAction:function(){n((0,N.Oj)())},required:!0})]})},ze=function(){var e=(0,h.TL)(),n=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.tenantName})),t=(0,l.v9)((function(e){return e.createTenant.validationErrors["tenant-name"]}));return(0,T.jsx)(b.Z,{id:"tenant-name",name:"tenant-name",onChange:function(n){e((0,N.V7)(n.target.value))},label:"Name",value:n,required:!0,error:t||""})},Oe=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({sizePreview:{marginLeft:10,background:"#FFFFFF",border:"1px solid #EAEAEA",padding:2,marginTop:20}},m.DF),m.oO),m.AK))}))((function(e){var n=e.classes,t=e.formToRender,r=(0,h.TL)(),a=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),s=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageType})),u=(0,l.v9)((function(e){return e.createTenant.storageClasses})),d=(0,l.v9)(Ie.$4),m=(0,i.useCallback)((function(e,n){r((0,N.HM)({pageName:"nameTenant",field:e,value:n}))}),[r]);return(0,i.useEffect)((function(){var e=t===Pe.cy.default&&u.length>0||t!==Pe.cy.default&&""!==s;r((0,N.NO)({pageName:"nameTenant",valid:e}))}),[u,r,s,t]),(0,T.jsx)(i.Fragment,{children:(0,T.jsxs)(c.ZP,{container:!0,children:[(0,T.jsx)(c.ZP,{item:!0,sx:{width:"calc(100% - 300px)"},children:(0,T.jsx)(g.Z,{className:n.paperWrapper,sx:{minHeight:550},children:(0,T.jsxs)(c.ZP,{container:!0,children:[(0,T.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,T.jsxs)("div",{className:n.headerElement,children:[(0,T.jsx)("h3",{className:n.h3Section,children:"Name"}),(0,T.jsx)("span",{className:n.descriptionText,children:"How would you like to name this new tenant?"})]}),(0,T.jsx)("div",{className:n.formFieldRow,children:(0,T.jsx)(ze,{})})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(Le,{formToRender:t})}),t===Pe.cy.default?(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(A.Z,{id:"storage_class",name:"storage_class",onChange:function(e){m("selectedStorageClass",e.target.value)},label:"Storage Class",value:a,options:u,disabled:u.length<1})}):(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(A.Z,{id:"storage_type",name:"storage_type",onChange:function(e){r((0,N.Qy)({storageType:e.target.value,features:d}))},label:o()(Pe.Hd,"".concat(t,".variantSelectorLabel"),"Storage Type"),value:s,options:o()(Pe.Hd,"".concat(t,".variantSelectorValues"),[])})}),t===Pe.cy.default?(0,T.jsx)(Te.Z,{}):o()(Pe.Hd,"".concat(t,".sizingComponent"),null)]})})}),(0,T.jsx)(c.ZP,{item:!0,children:(0,T.jsx)("div",{className:n.sizePreview,children:(0,T.jsx)(Ae,{})})})]})})})),Me=function(){var e=(0,l.v9)(Ie.$4),n=(0,i.useState)(null),t=(0,r.Z)(n,2),a=t[0],s=t[1];return(0,i.useEffect)((function(){var n=Pe.cy.default;e&&0!==e.length&&Object.keys(Pe.I8).forEach((function(t){e.includes(t)&&(n=o()(Pe.I8,t,Pe.cy.default))}));s(n)}),[e]),null===a?null:(0,T.jsx)(Oe,{formToRender:a})},Ve=t(56578),Ue=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({configSectionItem:{marginRight:15,"& .multiContainer":{border:"1px solid red"}},fieldGroup:(0,a.Z)((0,a.Z)({},m.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},logSearchEnabledFields:{marginLeft:20,padding:10,width:"90%",margin:"auto"},fieldSpaceTop:{marginTop:15}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),s=(0,l.v9)((function(e){return e.createTenant.storageClasses})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchEnabled})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchVolumeSize})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchSelectedStorageClass})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchImage})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchPostgresImage})),p=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchPostgresInitImage})),v=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),y=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantSecurityContext})),S=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchSecurityContext})),_=(0,l.v9)((function(e){return e.createTenant.fields.configure.logSearchPostgresSecurityContext})),P=(0,i.useState)({}),I=(0,r.Z)(P,2),w=I[0],k=I[1],R=[{label:"Default",value:"default"}].concat((0,x.Z)(s)),F=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,i.useEffect)((function(){var e=[];o&&(e=[].concat((0,x.Z)(e),[{fieldKey:"log_search_storage_class",required:!0,value:d,customValidation:""===d,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:u,customValidation:""===u||parseInt(u)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"},{fieldKey:"logSearch_securityContext_runAsUser",required:!0,value:S.runAsUser,customValidation:""===S.runAsUser||parseInt(S.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_runAsGroup",required:!0,value:S.runAsGroup,customValidation:""===S.runAsGroup||parseInt(S.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_fsGroup",required:!0,value:S.fsGroup,customValidation:""===S.fsGroup||parseInt(S.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsUser",required:!0,value:_.runAsUser,customValidation:""===_.runAsUser||parseInt(_.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsGroup",required:!0,value:S.runAsGroup,customValidation:""===_.runAsGroup||parseInt(_.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_fsGroup",required:!0,value:_.fsGroup,customValidation:""===_.fsGroup||parseInt(_.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]));var n=(0,Z.R)(e);t((0,N.NO)({pageName:"configure",valid:0===Object.keys(n).length})),k(n)}),[m,f,p,t,o,d,u,y,S,_]),(0,i.useEffect)((function(){s.length>0&&(0===s.filter((function(e){return e.value===d})).length&&F("logSearchSelectedStorageClass","default"))}),[d,v,s,F]);var D=function(e){k((0,j.he)(w,e))};return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,T.jsx)(c.ZP,{item:!0,xs:!0,children:(0,T.jsx)(Y,{children:"Audit Log"})}),(0,T.jsx)(c.ZP,{item:!0,xs:4,children:(0,T.jsx)(C.Z,{value:"enableLogging",id:"enableLogging",name:"enableLogging",checked:o,onChange:function(e){var n=e.target.checked;F("logSearchEnabled",n)},indicatorLabels:["Enabled","Disabled"]})})]}),(0,T.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("span",{className:n.descriptionText,children:"Deploys a small PostgreSQL database and stores access logs of all calls into the tenant."})}),(0,T.jsx)(c.ZP,{xs:12,children:(0,T.jsx)("hr",{className:n.hrClass})}),o&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(A.Z,{id:"log_search_storage_class",name:"log_search_storage_class",onChange:function(e){F("logSearchSelectedStorageClass",e.target.value)},label:"Log Search Storage Class",value:d,options:R,disabled:R.length<1})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(b.Z,{type:"number",id:"log_search_volume_size",name:"log_search_volume_size",onChange:function(e){F("logSearchVolumeSize",e.target.value),D("log_search_volume_size")},label:"Storage Size",overlayObject:(0,T.jsx)(Ve.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0}),value:u,required:!0,error:w.log_search_volume_size||"",min:"0"})})}),(0,T.jsxs)("fieldset",{className:"".concat(n.fieldGroup," ").concat(n.fieldSpaceTop),children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for LogSearch"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"logSearch_securityContext_runAsUser",name:"logSearch_securityContext_runAsUser",onChange:function(e){F("logSearchSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsUser:e.target.value})),D("logSearch_securityContext_runAsUser")},label:"Run As User",value:S.runAsUser,required:!0,error:w.logSearch_securityContext_runAsUser||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"logSearch_securityContext_runAsGroup",name:"logSearch_securityContext_runAsGroup",onChange:function(e){F("logSearchSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsGroup:e.target.value})),D("logSearch_securityContext_runAsGroup")},label:"Run As Group",value:S.runAsGroup,required:!0,error:w.logSearch_securityContext_runAsGroup||"",min:"0"})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"logSearch_securityContext_fsGroup",name:"logSearch_securityContext_fsGroup",onChange:function(e){F("logSearchSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{fsGroup:e.target.value})),D("logSearch_securityContext_fsGroup")},label:"FsGroup",value:S.fsGroup,required:!0,error:w.logSearch_securityContext_fsGroup||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(A.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:S.fsGroupChangePolicy,onChange:function(e){F("logSearchSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(C.Z,{value:"logSearchSecurityContextRunAsNonRoot",id:"logSearch_securityContext_runAsNonRoot",name:"logSearch_securityContext_runAsNonRoot",checked:S.runAsNonRoot,onChange:function(e){var n=e.target.checked;F("logSearchSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]}),(0,T.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for PostgreSQL"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"postgres_securityContext_runAsUser",name:"postgres_securityContext_runAsUser",onChange:function(e){F("logSearchPostgresSecurityContext",(0,a.Z)((0,a.Z)({},_),{},{runAsUser:e.target.value})),D("postgres_securityContext_runAsUser")},label:"Run As User",value:_.runAsUser,required:!0,error:w.postgres_securityContext_runAsUser||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"postgres_securityContext_runAsGroup",name:"postgres_securityContext_runAsGroup",onChange:function(e){F("logSearchPostgresSecurityContext",(0,a.Z)((0,a.Z)({},_),{},{runAsGroup:e.target.value})),D("postgres_securityContext_runAsGroup")},label:"Run As Group",value:_.runAsGroup,required:!0,error:w.postgres_securityContext_runAsGroup||"",min:"0"})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"postgres_securityContext_fsGroup",name:"postgres_securityContext_fsGroup",onChange:function(e){F("logSearchPostgresSecurityContext",(0,a.Z)((0,a.Z)({},_),{},{fsGroup:e.target.value})),D("postgres_securityContext_fsGroup")},label:"FsGroup",value:_.fsGroup,required:!0,error:w.postgres_securityContext_fsGroup||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(A.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:_.fsGroupChangePolicy,onChange:function(e){F("logSearchPostgresSecurityContext",(0,a.Z)((0,a.Z)({},_),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(C.Z,{value:"postgresSecurityContextRunAsNonRoot",id:"postgres_securityContext_runAsNonRoot",name:"postgres_securityContext_runAsNonRoot",checked:_.runAsNonRoot,onChange:function(e){var n=e.target.checked;F("logSearchPostgresSecurityContext",(0,a.Z)((0,a.Z)({},_),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})]})]})]})})),qe=(0,p.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)({configSectionItem:{marginRight:15,"& .multiContainer":{border:"1px solid red"}},fieldGroup:(0,a.Z)((0,a.Z)({},m.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},fieldSpaceTop:{marginTop:15},prometheusEnabledFields:{marginLeft:20,padding:10,width:"90%",margin:"auto"}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,h.TL)(),s=(0,l.v9)((function(e){return e.createTenant.storageClasses})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusEnabled})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusVolumeSize})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusSelectedStorageClass})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusImage})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusSidecarImage})),p=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusInitImage})),v=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),y=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantSecurityContext})),S=(0,l.v9)((function(e){return e.createTenant.fields.configure.prometheusSecurityContext})),_=(0,i.useState)({}),P=(0,r.Z)(_,2),I=P[0],w=P[1],k=[{label:"Default",value:"default"}].concat((0,x.Z)(s)),R=(0,i.useCallback)((function(e,n){t((0,N.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,i.useEffect)((function(){var e=[];o&&(e=[].concat((0,x.Z)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:d,customValidation:""===d,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:u,customValidation:""===u||parseInt(u)<=0,customValidationMessage:"Volume size must be present and be greater than 0"},{fieldKey:"prometheus_securityContext_runAsUser",required:!0,value:S.runAsUser,customValidation:""===S.runAsUser||parseInt(S.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_runAsGroup",required:!0,value:S.runAsGroup,customValidation:""===S.runAsGroup||parseInt(S.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_fsGroup",required:!0,value:S.fsGroup,customValidation:""===S.fsGroup||parseInt(S.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]));var n=(0,Z.R)(e);t((0,N.NO)({pageName:"configure",valid:0===Object.keys(n).length})),w(n)}),[m,f,p,t,o,d,u,y,S]),(0,i.useEffect)((function(){s.length>0&&(0===s.filter((function(e){return e.value===d})).length&&R("prometheusSelectedStorageClass","default"))}),[d,v,s,R]);var F=function(e){w((0,j.he)(I,e))};return(0,T.jsxs)(g.Z,{className:n.paperWrapper,children:[(0,T.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,T.jsx)(c.ZP,{item:!0,xs:!0,children:(0,T.jsx)(Y,{children:"Monitoring"})}),(0,T.jsx)(c.ZP,{item:!0,xs:4,children:(0,T.jsx)(C.Z,{indicatorLabels:["Enabled","Disabled"],checked:o,value:"monitoring_status",id:"monitoring-status",name:"monitoring-status",onChange:function(e){var n=e.target.checked;R("prometheusEnabled",n)},description:""})})]}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("span",{className:n.descriptionText,children:"A small Prometheus will be deployed to keep metrics about the tenant."})}),(0,T.jsx)(c.ZP,{xs:12,children:(0,T.jsx)("hr",{className:n.hrClass})}),(0,T.jsx)(c.ZP,{container:!0,spacing:1,children:o&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(A.Z,{id:"prometheus_storage_class",name:"prometheus_storage_class",onChange:function(e){R("prometheusSelectedStorageClass",e.target.value)},label:"Storage Class",value:d,options:k,disabled:k.length<1})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.multiContainer,children:(0,T.jsx)(b.Z,{type:"number",id:"prometheus_volume_size",name:"prometheus_volume_size",onChange:function(e){R("prometheusVolumeSize",e.target.value),F("prometheus_volume_size")},label:"Storage Size",overlayObject:(0,T.jsx)(Ve.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0}),value:u,required:!0,error:I.prometheus_volume_size||"",min:"0"})})}),(0,T.jsxs)("fieldset",{className:"".concat(n.fieldGroup," ").concat(n.fieldSpaceTop),children:[(0,T.jsx)("legend",{className:n.descriptionText,children:"SecurityContext"}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"prometheus_securityContext_runAsUser",name:"prometheus_securityContext_runAsUser",onChange:function(e){R("prometheusSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsUser:e.target.value})),F("prometheus_securityContext_runAsUser")},label:"Run As User",value:S.runAsUser,required:!0,error:I.prometheus_securityContext_runAsUser||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"prometheus_securityContext_runAsGroup",name:"prometheus_securityContext_runAsGroup",onChange:function(e){R("prometheusSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsGroup:e.target.value})),F("prometheus_securityContext_runAsGroup")},label:"Run As Group",value:S.runAsGroup,required:!0,error:I.prometheus_securityContext_runAsGroup||"",min:"0"})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(b.Z,{type:"number",id:"prometheus_securityContext_fsGroup",name:"prometheus_securityContext_fsGroup",onChange:function(e){R("prometheusSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{fsGroup:e.target.value})),F("prometheus_securityContext_fsGroup")},label:"FsGroup",value:S.fsGroup,required:!0,error:I.prometheus_securityContext_fsGroup||"",min:"0"})}),(0,T.jsx)("div",{className:n.configSectionItem,children:(0,T.jsx)(A.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:S.fsGroupChangePolicy,onChange:function(e){R("prometheusSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,T.jsx)("br",{}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,T.jsx)("div",{className:"".concat(n.multiContainer," ").concat(n.fieldSpaceTop),children:(0,T.jsx)(C.Z,{value:"prometheusSecurityContextRunAsNonRoot",id:"prometheus_securityContext_runAsNonRoot",name:"prometheus_securityContext_runAsNonRoot",checked:S.runAsNonRoot,onChange:function(e){var n=e.target.checked;R("prometheusSecurityContext",(0,a.Z)((0,a.Z)({},S),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})]})})]})})),Be=t(23804),He=t(75952),We=["nameTenant","tenantSize","configure","affinity","identityProvider","security","encryption"],Qe=t(84218),$e=function(){var e=(0,h.TL)(),n=(0,l.v9)((function(e){return e.createTenant.addingTenant})),t=(0,l.v9)((function(e){return e.createTenant.validPages})),r=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),a=!n&&""!==r&&We.every((function(e){return t.includes(e)}));return(0,T.jsx)(He.zx,{id:"wizard-button-Create",variant:"callAction",color:"primary",onClick:function(){e((0,Qe.e)())},disabled:!a,label:"Create"},"button-AddTenant-Create")},Ye=t(37798),Je=t(57689),Xe=function(){var e=(0,h.TL)(),n=(0,Je.s0)(),t=(0,l.v9)((function(e){return e.createTenant.showNewCredentials})),r=(0,l.v9)((function(e){return e.createTenant.createdAccount}));return(0,T.jsx)(i.Fragment,{children:t&&(0,T.jsx)(Ye.default,{newServiceAccount:r,open:t,closeModal:function(){e((0,N.dS)()),n("/tenants")},entity:"Tenant"})})},en=(0,R.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({pageBox:{border:"1px solid #EAEAEA"}},m.oO),m.AK),m.Je))})),nn=function(){var e=(0,h.TL)(),n=(0,Je.s0)(),t=en(),a=(0,l.v9)(Ie.$4),s=(0,l.v9)((function(e){return e.createTenant.addingTenant})),d=(0,i.useState)(null),m=(0,r.Z)(d,2),x=m[0],p=m[1];(0,i.useEffect)((function(){var e=Pe.cy.default;a&&0!==a.length&&Object.keys(Pe.I8).forEach((function(n){a.includes(n)&&(e=o()(Pe.I8,n,Pe.cy.default))}));p(e)}),[a]);var g={label:"Cancel",type:"other",enabled:!0,action:function(){e((0,N.dS)()),n("/tenants")}},v={componentRender:(0,T.jsx)($e,{},"create-tenant")},y=[{label:"Setup",componentRender:(0,T.jsx)(Me,{}),buttons:[g,v]},{label:"Configure",advancedOnly:!0,componentRender:(0,T.jsx)(P,{}),buttons:[g,v]},{label:"Images",advancedOnly:!0,componentRender:(0,T.jsx)(ye,{}),buttons:[g,v]},{label:"Pod Placement",advancedOnly:!0,componentRender:(0,T.jsx)(ge,{}),buttons:[g,v]},{label:"Identity Provider",advancedOnly:!0,componentRender:(0,T.jsx)(U,{}),buttons:[g,v]},{label:"Security",advancedOnly:!0,componentRender:(0,T.jsx)($,{}),buttons:[g,v]},{label:"Encryption",advancedOnly:!0,componentRender:(0,T.jsx)(de,{}),buttons:[g,v]},{label:"Audit Log",advancedOnly:!0,componentRender:(0,T.jsx)(Ue,{}),buttons:[g,v]},{label:"Monitoring",advancedOnly:!0,componentRender:(0,T.jsx)(qe,{}),buttons:[g,v]}];return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(Xe,{}),(0,T.jsx)(ve.Z,{label:(0,T.jsx)(Ze.Z,{to:"/tenants",label:"Tenants",executeOnClick:function(){e((0,N.dS)())}})}),(0,T.jsxs)(je.Z,{children:[s&&(0,T.jsx)(c.ZP,{item:!0,xs:12,children:(0,T.jsx)(u.Z,{})}),(0,T.jsx)(c.ZP,{item:!0,xs:12,className:t.pageBox,children:(0,T.jsx)(f.Z,{wizardSteps:y})}),x===Pe.cy.aws&&(0,T.jsx)(c.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,T.jsx)(Be.Z,{title:"EBS Volume Configuration.",iconComponent:(0,T.jsx)(Re.idV,{}),help:(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)("b",{children:"Performance Optimized"}),": Uses the ",(0,T.jsx)("i",{children:"gp3"})," EBS storage class class configured at 1,000Mi/s throughput and 16,000 IOPS, however the minimum volume size for this type of EBS volume is ",(0,T.jsx)("b",{children:"32Gi"}),".",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("b",{children:"Storage Optimized"}),": Uses the ",(0,T.jsx)("i",{children:"sc1"})," EBS storage class, however the minimum volume size for this type of EBS volume is \xa0",(0,T.jsx)("b",{children:"16Ti"})," to unlock their maximum throughput speed of 250Mi/s."]})})})]})]})}},68456:function(e,n,t){t.d(n,{QT:function(){return l},YH:function(){return c},mo:function(){return o}});var r=t(45953),a=t(98021),i=t(56096),s=t(80184),o=function(){return(0,s.jsxs)(r.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(r.ZP,{children:(0,s.jsx)(i.gyG,{width:"16px",height:"16px"})}),(0,s.jsx)(r.ZP,{item:!0,children:"Open ID"})]})},l=function(){return(0,s.jsxs)(r.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(r.ZP,{children:(0,s.jsx)(a.Z,{width:"16px",height:"16px"})}),(0,s.jsx)(r.ZP,{item:!0,children:"LDAP / Active Directory"})]})},c=function(){return(0,s.jsxs)(r.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(r.ZP,{children:(0,s.jsx)(i.oyc,{width:"16px",height:"16px"})}),(0,s.jsx)(r.ZP,{item:!0,children:"Built-in"})]})}},22512:function(e,n,t){var r=t(72791),a=t(4565),i=t(11135),s=t(25787),o=t(80184);n.Z=(0,s.Z)((function(e){var n;return(0,i.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,t=e.errorMessage,i=e.withBreak,s=void 0===i||i;return(0,o.jsxs)(r.Fragment,{children:[s&&(0,o.jsx)("br",{}),(0,o.jsx)(a.Z,{component:"p",variant:"body1",className:n.errorBlock,children:t})]})}))},42419:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=s},99663:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");n.Z=s},86711:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");n.Z=s},22918:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18zm0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9z"}),"Casino");n.Z=s},27247:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},81872:function(e,n,t){var r=t(1048),a=t(32793),i=t(72791),s=t(28182),o=t(94419),l=t(12065),c=t(60277),u=t(85513),d=t(87164),m=t(80184),f=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.absolute&&n.absolute,n[t.variant],t.light&&n.light,"vertical"===t.orientation&&n.vertical,t.flexItem&&n.flexItem,t.children&&n.withChildren,t.children&&"vertical"===t.orientation&&n.withChildrenVertical,"right"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignRight,"left"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignLeft]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:n.vars?"rgba(".concat(n.vars.palette.dividerChannel," / 0.08)"):(0,l.Fq)(n.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat((n.vars||n).palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat((n.vars||n).palette.divider),transform:"translateX(0%)"}})}),(function(e){var n=e.ownerState;return(0,a.Z)({},"right"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),x=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,n){var t=e.ownerState;return[n.wrapper,"vertical"===t.orientation&&n.wrapperVertical]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({display:"inline-block",paddingLeft:"calc(".concat(n.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(n.spacing(1)," * 1.2)")},"vertical"===t.orientation&&{paddingTop:"calc(".concat(n.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(n.spacing(1)," * 1.2)")})})),p=i.forwardRef((function(e,n){var t=(0,u.Z)({props:e,name:"MuiDivider"}),i=t.absolute,l=void 0!==i&&i,c=t.children,p=t.className,g=t.component,v=void 0===g?c?"div":"hr":g,y=t.flexItem,j=void 0!==y&&y,Z=t.light,C=void 0!==Z&&Z,b=t.orientation,S=void 0===b?"horizontal":b,_=t.role,N=void 0===_?"hr"!==v?"separator":void 0:_,A=t.textAlign,T=void 0===A?"center":A,P=t.variant,I=void 0===P?"fullWidth":P,w=(0,r.Z)(t,f),k=(0,a.Z)({},t,{absolute:l,component:v,flexItem:j,light:C,orientation:S,role:N,textAlign:T,variant:I}),R=function(e){var n=e.absolute,t=e.children,r=e.classes,a=e.flexItem,i=e.light,s=e.orientation,l=e.textAlign,c={root:["root",n&&"absolute",e.variant,i&&"light","vertical"===s&&"vertical",a&&"flexItem",t&&"withChildren",t&&"vertical"===s&&"withChildrenVertical","right"===l&&"vertical"!==s&&"textAlignRight","left"===l&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,o.Z)(c,d.V,r)}(k);return(0,m.jsx)(h,(0,a.Z)({as:v,className:(0,s.Z)(R.root,p),role:N,ref:n,ownerState:k},w,{children:c?(0,m.jsx)(x,{className:R.wrapper,ownerState:k,children:c}):null}))}));n.Z=p}}]);
//# sourceMappingURL=8322.650fb4bd.chunk.js.map