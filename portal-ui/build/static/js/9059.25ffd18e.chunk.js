"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9059],{9059:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var l=a(72791),s=a(29945),n=a(80184);const r=e=>{let{onChange:t}=e;const[a,r]=(0,l.useState)(!1),[u,o]=(0,l.useState)(""),[c,i]=(0,l.useState)(""),[d,g]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,v]=(0,l.useState)(""),[b,x]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[S,k]=(0,l.useState)("namespace"),[C,w]=(0,l.useState)(""),[E,y]=(0,l.useState)(""),[z,W]=(0,l.useState)(""),B=(0,l.useCallback)((()=>"".concat(p,":").concat(b,"@tcp(").concat(c,":").concat(m,")/").concat(d)),[p,b,c,m,d]);(0,l.useEffect)((()=>{if(""!==u){t([{key:"dsn_string",value:u},{key:"table",value:j},{key:"format",value:S},{key:"queue_dir",value:C},{key:"queue_limit",value:E},{key:"comment",value:z}])}}),[u,j,S,C,E,z,t]),(0,l.useEffect)((()=>{const e=B();o(e)}),[p,d,b,m,c,o,B]);return(0,n.jsxs)(s.ltY,{withBorders:!1,containerPadding:!1,children:[(0,n.jsx)(s.rsf,{label:"Enter DNS String",checked:a,id:"checkedB",name:"checkedB",onChange:e=>{if(e.target.checked){const e=B();o(e)}else{const e=((e,t)=>{let a=new Map;const l=/(.*?):(.*?)@tcp\((.*?):(.*?)\)\/(.*?)$/gm;let s;for(;null!==(s=l.exec(e));)s.index===l.lastIndex&&l.lastIndex++,a.set("user",s[1]),a.set("password",s[2]),a.set("host",s[3]),a.set("port",s[4]),a.set("dbname",s[5]);return a})(u);i(e.get("host")?e.get("host")+"":""),h(e.get("port")?e.get("port")+"":""),g(e.get("dbname")?e.get("dbname")+"":""),v(e.get("user")?e.get("user")+"":""),x(e.get("password")?e.get("password")+"":"")}r(e.target.checked)},value:"dnsString"}),a?(0,n.jsx)(l.Fragment,{children:(0,n.jsx)(s.xuv,{className:"inputItem",children:(0,n.jsx)(s.Wzg,{id:"dsn-string",name:"dsn_string",label:"DSN String",value:u,onChange:e=>{o(e.target.value)}})})}):(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(s.xuv,{children:(0,n.jsxs)(s.xuv,{withBorders:!0,useBackground:!0,sx:{overflowY:"auto",height:170,marginBottom:12},children:[(0,n.jsx)(s.Wzg,{id:"host",name:"host",label:"",placeholder:"Enter Host",value:c,onChange:e=>{i(e.target.value)}}),(0,n.jsx)(s.Wzg,{id:"db-name",name:"db-name",label:"",placeholder:"Enter DB Name",value:d,onChange:e=>{g(e.target.value)}}),(0,n.jsx)(s.Wzg,{id:"port",name:"port",label:"",placeholder:"Enter Port",value:m,onChange:e=>{h(e.target.value)}}),(0,n.jsx)(s.Wzg,{id:"user",name:"user",label:"",placeholder:"Enter User",value:p,onChange:e=>{v(e.target.value)}}),(0,n.jsx)(s.Wzg,{id:"password",name:"password",label:"",placeholder:"Enter Password",type:"password",value:b,onChange:e=>{x(e.target.value)}})]})}),(0,n.jsx)(s.rjZ,{item:!0,xs:12,sx:{margin:"12px 0"},children:(0,n.jsx)(s.bSr,{label:"Connection String",multiLine:!0,children:u})})]}),(0,n.jsx)(s.Wzg,{id:"table",name:"table",label:"Table",placeholder:"Enter Table Name",value:j,tooltip:"DB table name to store/update events, table is auto-created",onChange:e=>{f(e.target.value)}}),(0,n.jsx)(s.Eep,{currentValue:S,id:"format",name:"format",label:"Format",onChange:e=>{k(e.target.value)},tooltip:"'namespace' reflects current bucket/object list and 'access' reflects a journal of object operations, defaults to 'namespace'",selectorOptions:[{label:"Namespace",value:"namespace"},{label:"Access",value:"access"}]}),(0,n.jsx)(s.Wzg,{id:"queue-dir",name:"queue_dir",label:"Queue Dir",placeholder:"Enter Queue Dir",value:C,tooltip:"Staging directory for undelivered messages e.g. '/home/events'",onChange:e=>{w(e.target.value)}}),(0,n.jsx)(s.Wzg,{id:"queue-limit",name:"queue_limit",label:"Queue Limit",placeholder:"Enter Queue Limit",type:"number",value:E,tooltip:"Maximum limit for undelivered messages, defaults to '10000'",onChange:e=>{y(e.target.value)}}),(0,n.jsx)(s.q5m,{id:"comment",name:"comment",label:"Comment",placeholder:"Enter custom notes if any",value:z,onChange:e=>{W(e.target.value)}})]})}}}]);
//# sourceMappingURL=9059.25ffd18e.chunk.js.map