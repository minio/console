"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4487],{77926:function(e,n,a){a.r(n),a.d(n,{default:function(){return B}});var t=a(23430),i=a(18489),l=a(50390),o=a(34424),s=a(25594),r=a(66946),c=a(86509),d=a(4285),u=a(30324),p=a(77555),m=a(29399),v=a(73481),x=a(35044),Z=a(74268),f=a(4182),h=a(72462),j=a(44149),b=a(51002),g=a(66964),C=a(12066),N=a(36554),k=a(94187),M=a(47554),S=a(62449),y=a(10728),P=a(97538),w=a(62559),E=(0,S.Z)((function(e){return(0,c.Z)((0,i.Z)({},h.gM))}));function F(e){var n=E();return(0,w.jsx)(C.Z,(0,i.Z)({InputProps:{classes:n}},e))}var T=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({},h.YI),h.Hr))}))((function(e){var n=e.classes,a=e.id,o=e.name,r=e.onChange,c=e.options,d=e.label,u=e.tooltip,p=void 0===u?"":u,m=e.value,v=e.disabled,x=void 0!==v&&v,Z=(0,l.useState)(c[0]),f=(0,t.Z)(Z,2),h=f[0],j=f[1];return(0,w.jsx)(l.Fragment,{children:(0,w.jsxs)(s.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==d&&(0,w.jsxs)(N.Z,{htmlFor:a,className:n.inputLabel,children:[(0,w.jsx)("span",{children:d}),""!==p&&(0,w.jsx)("div",{className:n.tooltipContainer,children:(0,w.jsx)(k.Z,{title:p,placement:"top-start",children:(0,w.jsx)("div",{className:n.tooltip,children:(0,w.jsx)(P.Z,{})})})})]}),(0,w.jsx)(M.Z,{fullWidth:!0,children:(0,w.jsx)(y.Z,{id:a,options:c,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===m},disabled:x,renderInput:function(e){return(0,w.jsx)(F,(0,i.Z)((0,i.Z)({},e),{},{name:o}))},value:h,onChange:function(e,n){n&&(r(n.value),j(n))},autoHighlight:!0})})]})})})),I=a(14549),R=(0,o.$j)(null,{setModalErrorSnackMessage:j.zb}),B=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},h.DF),h.ID))}))(R((function(e){var n=e.classes,a=e.open,i=e.selectedBucket,o=e.closeModalAndRefresh,c=e.setModalErrorSnackMessage,d=(0,l.useState)(!1),h=(0,t.Z)(d,2),j=h[0],C=h[1],N=(0,l.useState)(""),k=(0,t.Z)(N,2),M=k[0],S=k[1],y=(0,l.useState)(""),P=(0,t.Z)(y,2),E=P[0],F=P[1],R=(0,l.useState)(""),B=(0,t.Z)(R,2),L=B[0],O=B[1],H=(0,l.useState)([]),W=(0,t.Z)(H,2),D=W[0],z=W[1],A=(0,l.useState)([]),G=(0,t.Z)(A,2),K=G[0],Y=G[1],q=(0,l.useCallback)((function(){C(!0),u.Z.invoke("GET","/api/v1/admin/arns").then((function(e){var n=[];null!==e.arns&&(n=e.arns),C(!1),Y(n)})).catch((function(e){C(!1),c(e)}))}),[c]);(0,l.useEffect)((function(){q()}),[q]);var U=function(e,n){var a=D.indexOf(n),t=[];-1===a?t=t.concat(D,n):0===a?t=t.concat(D.slice(1)):a===D.length-1?t=t.concat(D.slice(0,-1)):a>0&&(t=t.concat(D.slice(0,a),D.slice(a+1))),z(t)},V=K.map((function(e){return{label:e,value:e}}));return(0,w.jsx)(b.Z,{modalOpen:a,onClose:function(){o()},title:"Subscribe To Bucket Events",titleIcon:(0,w.jsx)(I.c3,{}),children:(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||(C(!0),u.Z.invoke("POST","/api/v1/buckets/".concat(i,"/events"),{configuration:{arn:L,events:D,prefix:M,suffix:E},ignoreExisting:!0}).then((function(){C(!1),o()})).catch((function(e){C(!1),c(e)})))},children:(0,w.jsxs)(s.ZP,{container:!0,children:[(0,w.jsxs)(s.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,w.jsx)(s.ZP,{item:!0,xs:12,className:"".concat(n.arnField," ").concat(n.formFieldRow),children:(0,w.jsx)(T,{onChange:function(e){O(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:L,options:V})}),(0,w.jsx)(s.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(g.Z,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:M,onChange:function(e){S(e.target.value)}})}),(0,w.jsx)(s.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(g.Z,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:E,onChange:function(e){F(e.target.value)}})}),(0,w.jsx)(s.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsxs)(f.Z,{size:"medium",children:[(0,w.jsx)(p.Z,{className:n.minTableHeader,children:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(v.Z,{children:"Select"}),(0,w.jsx)(v.Z,{children:"Event"})]})}),(0,w.jsx)(x.Z,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return(0,w.jsxs)(m.Z,{onClick:function(n){return U(0,e.value)},children:[(0,w.jsx)(v.Z,{padding:"checkbox",children:(0,w.jsx)(Z.Z,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(n){return U(0,e.value)},checked:D.includes(e.value)})}),(0,w.jsx)(v.Z,{className:n.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),(0,w.jsxs)(s.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,w.jsx)(r.Z,{type:"button",variant:"outlined",color:"primary",disabled:j,onClick:function(){o()},children:"Cancel"}),(0,w.jsx)(r.Z,{type:"submit",variant:"contained",color:"primary",disabled:j,children:"Save"})]})]})})})})))},66964:function(e,n,a){var t=a(18489),i=a(50390),l=a(12066),o=a(25594),s=a(36554),r=a(94187),c=a(95467),d=a(86509),u=a(62449),p=a(4285),m=a(72462),v=a(97538),x=a(44977),Z=a(62559),f=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},m.gM))}));function h(e){var n=f();return(0,Z.jsx)(l.Z,(0,t.Z)({InputProps:{classes:n}},e))}n.Z=(0,p.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},m.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,a=e.onChange,l=e.value,d=e.id,u=e.name,p=e.type,m=void 0===p?"text":p,f=e.autoComplete,j=void 0===f?"off":f,b=e.disabled,g=void 0!==b&&b,C=e.multiline,N=void 0!==C&&C,k=e.tooltip,M=void 0===k?"":k,S=e.index,y=void 0===S?0:S,P=e.error,w=void 0===P?"":P,E=e.required,F=void 0!==E&&E,T=e.placeholder,I=void 0===T?"":T,R=e.min,B=e.max,L=e.overlayId,O=e.overlayIcon,H=void 0===O?null:O,W=e.overlayObject,D=void 0===W?null:W,z=e.extraInputProps,A=void 0===z?{}:z,G=e.overlayAction,K=e.noLabelMinWidth,Y=void 0!==K&&K,q=e.pattern,U=void 0===q?"":q,V=e.autoFocus,$=void 0!==V&&V,_=e.classes,Q=e.className,J=void 0===Q?"":Q,X=e.onKeyPress,ee=(0,t.Z)({"data-index":y},A);return"number"===m&&R&&(ee.min=R),"number"===m&&B&&(ee.max=B),""!==U&&(ee.pattern=U),(0,Z.jsx)(i.Fragment,{children:(0,Z.jsxs)(o.ZP,{container:!0,className:(0,x.Z)(""!==J?J:"",""!==w?_.errorInField:_.inputBoxContainer),children:[""!==n&&(0,Z.jsxs)(s.Z,{htmlFor:d,className:Y?_.noMinWidthLabel:_.inputLabel,children:[(0,Z.jsxs)("span",{children:[n,F?"*":""]}),""!==M&&(0,Z.jsx)("div",{className:_.tooltipContainer,children:(0,Z.jsx)(r.Z,{title:M,placement:"top-start",children:(0,Z.jsx)("div",{className:_.tooltip,children:(0,Z.jsx)(v.Z,{})})})})]}),(0,Z.jsxs)("div",{className:_.textBoxContainer,children:[(0,Z.jsx)(h,{id:d,name:u,fullWidth:!0,value:l,autoFocus:$,disabled:g,onChange:a,type:m,multiline:N,autoComplete:j,inputProps:ee,error:""!==w,helperText:w,placeholder:I,className:_.inputRebase,onKeyPress:X}),H&&(0,Z.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,Z.jsx)(c.Z,{onClick:G?function(){G()}:function(){return null},id:L,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:H})}),D&&(0,Z.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==n?"withLabel":""),children:D})]})]})})}))},51002:function(e,n,a){var t=a(23430),i=a(18489),l=a(50390),o=a(34424),s=a(95467),r=a(97771),c=a(84402),d=a(78426),u=a(93085),p=a(86509),m=a(4285),v=a(72462),x=a(44149),Z=a(21278),f=a(45980),h=a(62559),j=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK});n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},v.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},v.sN))}))(j((function(e){var n=e.onClose,a=e.modalOpen,o=e.title,p=e.children,m=e.classes,v=e.wideLimit,x=void 0===v||v,j=e.modalSnackMessage,b=e.noContentPadding,g=e.setModalSnackMessage,C=e.titleIcon,N=void 0===C?null:C,k=(0,l.useState)(!1),M=(0,t.Z)(k,2),S=M[0],y=M[1];(0,l.useEffect)((function(){g("")}),[g]),(0,l.useEffect)((function(){if(j){if(""===j.message)return void y(!1);"error"!==j.type&&y(!0)}}),[j]);var P=x?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return j&&(w=j.detailedErrorMsg,(""===j.detailedErrorMsg||j.detailedErrorMsg.length<5)&&(w=j.message)),(0,h.jsxs)(c.Z,(0,i.Z)((0,i.Z)({open:a,classes:m},P),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&n()},className:m.root,children:[(0,h.jsxs)(d.Z,{className:m.title,children:[(0,h.jsxs)("div",{className:m.titleText,children:[N," ",o]}),(0,h.jsx)("div",{className:m.closeContainer,children:(0,h.jsx)(s.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,h.jsx)(Z.Z,{})})})]}),(0,h.jsx)(f.Z,{isModal:!0}),(0,h.jsx)(r.Z,{open:S,className:m.snackBarModal,onClose:function(){y(!1),g("")},message:w,ContentProps:{className:"".concat(m.snackBar," ").concat(j&&"error"===j.type?m.errorSnackBar:"")},autoHideDuration:j&&"error"===j.type?1e4:5e3}),(0,h.jsx)(u.Z,{className:b?"":m.content,children:p})]}))})))},21278:function(e,n,a){var t=a(64119);n.Z=void 0;var i=t(a(66830)),l=a(62559),o=(0,i.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=o},77555:function(e,n,a){a.d(n,{Z:function(){return h}});var t=a(32793),i=a(1048),l=a(50390),o=a(44977),s=a(50076),r=a(29413),c=a(15573),d=a(8208),u=a(10594);function p(e){return(0,u.Z)("MuiTableHead",e)}(0,a(43349).Z)("MuiTableHead",["root"]);var m=a(62559),v=["className","component"],x=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),Z={variant:"head"},f="thead",h=l.forwardRef((function(e,n){var a=(0,c.Z)({props:e,name:"MuiTableHead"}),l=a.className,d=a.component,u=void 0===d?f:d,h=(0,i.Z)(a,v),j=(0,t.Z)({},a,{component:u}),b=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},p,n)}(j);return(0,m.jsx)(r.Z.Provider,{value:Z,children:(0,m.jsx)(x,(0,t.Z)({as:u,className:(0,o.Z)(b.root,l),ref:n,role:u===f?null:"rowgroup",ownerState:j},h))})}))}}]);
//# sourceMappingURL=4487.8631b03a.chunk.js.map