"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8343],{58343:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var a=t(23430),i=t(18489),s=t(50390),r=t(86509),o=t(4285),c=t(72462),l=t(25594),d=t(98247),u=t(49044),p=t(6369),h=t(34424),f=t(33690),m=t(12066),g=t(46981),Z=t(65771),v=t(30324),x=t(13336),j=t(44149),b=t(62559),E=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),S=(0,o.Z)((function(n){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},c.Si),c.qg),{},{actionsTray:(0,i.Z)((0,i.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},(0,c.Bz)(n.spacing(4))))}))(E((function(n){var e=n.classes,t=n.tenant,r=n.namespace,o=n.podName,c=n.propLoading,d=n.setErrorSnackMessage,u=n.loadingTenant,p=(0,s.useState)(""),h=(0,a.Z)(p,2),j=h[0],E=h[1],S=(0,s.useState)([]),w=(0,a.Z)(S,2),L=w[0],N=w[1],P=(0,s.useState)(!0),y=(0,a.Z)(P,2),T=y[0],k=y[1],C=new f.t1({minWidth:5,fixedHeight:!1});(0,s.useEffect)((function(){c&&k(!0)}),[c]),(0,s.useEffect)((function(){u&&k(!0)}),[u]);var I=function(n,t){if(!n)return null;var a=(n=n.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),i=""!==j&&n.toLowerCase().includes(j.toLowerCase());return a.startsWith("   ")?(0,b.jsx)("div",{className:"".concat(i?e.highlight:""),children:(0,b.jsx)("span",{className:e.tab,children:a})},t):(0,b.jsx)("div",{className:"".concat(i?e.highlight:""),children:(0,b.jsx)("span",{className:e.ansidefault,children:a})},t)};function R(n){var e=n.columnIndex,t=n.key,a=n.parent,s=n.index,r=n.style;return(0,b.jsx)(f.Z8,{cache:C,columnIndex:e,parent:a,rowIndex:s,children:(0,b.jsx)("div",{style:(0,i.Z)({},r),children:I(L[s],s)})},t)}return(0,s.useEffect)((function(){T&&v.Z.invoke("GET","/api/v1/namespaces/".concat(r,"/tenants/").concat(t,"/pods/").concat(o)).then((function(n){N(n.split("\n")),k(!1)})).catch((function(n){d(n),k(!1)}))}),[T,o,r,t,d]),(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,className:e.actionsTray,children:(0,b.jsx)(m.Z,{placeholder:"Highlight Line",className:e.searchField,id:"search-resource",label:"",onChange:function(n){E(n.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,b.jsx)(Z.Z,{position:"start",children:(0,b.jsx)(x.Z,{})})},variant:"standard"})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)("br",{})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.Z,{children:(0,b.jsx)("div",{className:e.logList,children:L.length>=1&&(0,b.jsx)(f.qj,{children:function(n){var e=n.width,t=n.height;return(0,b.jsx)(f.aV,{rowHeight:function(n){return C.rowHeight(n)},overscanRowCount:15,rowCount:L.length,rowRenderer:R,width:e,height:t})}})})})})]})}))),w=t(28948),L=t(13089),N=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),P=(0,o.Z)((function(n){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},c.OR),c.Si),c.qg),c.bp),{},{actionsTray:(0,i.Z)((0,i.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"})}))}))(N((function(n){n.classes;var e=n.tenant,t=n.namespace,i=n.podName,r=n.propLoading,o=n.setErrorSnackMessage,c=n.loadingTenant,d=(0,s.useState)([]),u=(0,a.Z)(d,2),p=u[0],h=u[1],f=(0,s.useState)(!0),m=(0,a.Z)(f,2),g=m[0],Z=m[1];return(0,s.useEffect)((function(){r&&Z(!0)}),[r]),(0,s.useEffect)((function(){c&&Z(!0)}),[c]),(0,s.useEffect)((function(){g&&v.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(e,"/pods/").concat(i,"/events")).then((function(n){for(var e=0;e<n.length;e++){var t=Date.now()/1e3|0;n[e].seen=(0,w.v1)((t-n[e].last_seen).toString())}h(n),Z(!1)})).catch((function(n){o(n),Z(!1)}))}),[g,i,t,e,o]),(0,b.jsx)(s.Fragment,{children:(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(L.Z,{events:p,loading:g})})})}))),y=(0,o.Z)((function(n){return(0,r.Z)((0,i.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,c.Bz)(n.spacing(4))))}))((function(n){var e=n.classes,t=n.match,r=(0,s.useState)(0),o=(0,a.Z)(r,2),c=o[0],h=o[1],f=(0,s.useState)(!0),m=(0,a.Z)(f,2),g=m[0],Z=m[1],v=t.params.tenantNamespace,x=t.params.tenantName,j=t.params.podName;function E(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}return(0,s.useEffect)((function(){g&&Z(!1)}),[g]),(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)("h1",{className:e.sectionTitle,children:[(0,b.jsx)(p.rU,{to:"/namespaces/".concat(v,"/tenants/").concat(x,"/pods"),className:e.breadcrumLink,children:"Pods"})," ","> ",j]})}),(0,b.jsxs)(l.ZP,{container:!0,children:[(0,b.jsx)(l.ZP,{item:!0,xs:9,children:(0,b.jsxs)(d.Z,{value:c,onChange:function(n,e){h(e)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,b.jsx)(u.Z,(0,i.Z)({label:"Events"},E(0))),(0,b.jsx)(u.Z,(0,i.Z)({label:"Logs"},E(1)))]})}),0===c&&(0,b.jsx)(P,{tenant:x,namespace:v,podName:j,propLoading:g}),1===c&&(0,b.jsx)(S,{tenant:x,namespace:v,podName:j,propLoading:g})]})]})}))},65771:function(n,e,t){t.d(e,{Z:function(){return E}});var a=t(36222),i=t(1048),s=t(32793),r=t(50390),o=t(44977),c=t(50076),l=t(91442),d=t(35477),u=t(14478),p=t(23060),h=t(8208),f=t(10594);function m(n){return(0,f.Z)("MuiInputAdornment",n)}var g,Z=(0,t(43349).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=t(15573),x=t(62559),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["position".concat((0,l.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})((function(n){var e=n.theme,t=n.ownerState;return(0,s.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:e.palette.action.active},"filled"===t.variant&&(0,a.Z)({},"&.".concat(Z.positionStart,"&:not(.").concat(Z.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),E=r.forwardRef((function(n,e){var t=(0,v.Z)({props:n,name:"MuiInputAdornment"}),a=t.children,h=t.className,f=t.component,Z=void 0===f?"div":f,E=t.disablePointerEvents,S=void 0!==E&&E,w=t.disableTypography,L=void 0!==w&&w,N=t.position,P=t.variant,y=(0,i.Z)(t,j),T=(0,p.Z)()||{},k=P;P&&T.variant,T&&!k&&(k=T.variant);var C=(0,s.Z)({},t,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:S,position:N,variant:k}),I=function(n){var e=n.classes,t=n.disablePointerEvents,a=n.hiddenLabel,i=n.position,s=n.size,r=n.variant,o={root:["root",t&&"disablePointerEvents",i&&"position".concat((0,l.Z)(i)),r,a&&"hiddenLabel",s&&"size".concat((0,l.Z)(s))]};return(0,c.Z)(o,m,e)}(C);return(0,x.jsx)(u.Z.Provider,{value:null,children:(0,x.jsx)(b,(0,s.Z)({as:Z,ownerState:C,className:(0,o.Z)(I.root,h),ref:e},y,{children:"string"!==typeof a||L?(0,x.jsxs)(r.Fragment,{children:["start"===N?g||(g=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,x.jsx)(d.Z,{color:"text.secondary",children:a})}))})}))}}]);
//# sourceMappingURL=8343.246b38fd.chunk.js.map