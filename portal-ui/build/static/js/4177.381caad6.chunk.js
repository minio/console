"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4177],{44177:function(e,t,n){n.r(t);var i=n(23430),o=n(18489),a=n(50390),s=n(34424),r=n(25594),l=n(66946),c=n(81378),d=n(86509),u=n(4285),p=n(44149),m=n(72462),v=n(30324),Z=n(51002),f=n(66964),h=n(67754),x=n(86362),b=n(62559),g=(0,s.$j)(null,{setModalErrorSnackMessage:p.zb});t.default=(0,u.Z)((function(e){return(0,d.Z)((0,o.Z)((0,o.Z)({},m.ID),m.DF))}))(g((function(e){var t=e.classes,n=e.open,o=e.encryptionCfg,s=e.selectedBucket,d=e.closeModalAndRefresh,u=e.setModalErrorSnackMessage,p=(0,a.useState)(!1),m=(0,i.Z)(p,2),g=m[0],y=m[1],j=(0,a.useState)(""),C=(0,i.Z)(j,2),k=C[0],M=C[1],S=(0,a.useState)("disabled"),N=(0,i.Z)(S,2),I=N[0],w=N[1];(0,a.useEffect)((function(){o&&("AES256"===o.algorithm?w("sse-s3"):(w("sse-kms"),M(o.kmsMasterKeyID)))}),[o]);return(0,b.jsx)(Z.Z,{modalOpen:n,onClose:function(){d()},title:"Enable Bucket Encryption",titleIcon:(0,b.jsx)(x.Xn,{}),children:(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||("disabled"===I?v.Z.invoke("POST","/api/v1/buckets/".concat(s,"/encryption/disable")).then((function(){y(!1),d()})).catch((function(e){y(!1),u(e)})):v.Z.invoke("POST","/api/v1/buckets/".concat(s,"/encryption/enable"),{encType:I,kmsKeyID:k}).then((function(){y(!1),d()})).catch((function(e){y(!1),u(e)})))},children:(0,b.jsxs)(r.ZP,{container:!0,children:[(0,b.jsxs)(r.ZP,{item:!0,xs:12,className:t.modalFormScrollable,children:[(0,b.jsx)(r.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,b.jsx)(h.Z,{onChange:function(e){w(e.target.value)},id:"select-encryption-type",name:"select-encryption-type",label:"Encryption Type",value:I,options:[{label:"Disabled",value:"disabled"},{label:"SSE-S3",value:"sse-s3"},{label:"SSE-KMS",value:"sse-kms"}]})}),"sse-kms"===I&&(0,b.jsx)(r.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,b.jsx)(f.Z,{id:"kms-key-id",name:"kms-key-id",label:"KMS Key ID",value:k,onChange:function(e){M(e.target.value)}})})]}),(0,b.jsxs)(r.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,b.jsx)(l.Z,{type:"submit",variant:"outlined",color:"primary",onClick:function(){d()},disabled:g,children:"Cancel"}),(0,b.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})]}),g&&(0,b.jsx)(r.ZP,{item:!0,xs:12,children:(0,b.jsx)(c.Z,{})})]})})})})))},66964:function(e,t,n){var i=n(18489),o=n(50390),a=n(12066),s=n(25594),r=n(36554),l=n(94187),c=n(95467),d=n(86509),u=n(62449),p=n(4285),m=n(72462),v=n(97538),Z=n(44977),f=n(62559),h=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)({},m.gM))}));function x(e){var t=h();return(0,f.jsx)(a.Z,(0,i.Z)({InputProps:{classes:t}},e))}t.Z=(0,p.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,i.Z)((0,i.Z)({},m.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var t=e.label,n=e.onChange,a=e.value,d=e.id,u=e.name,p=e.type,m=void 0===p?"text":p,h=e.autoComplete,b=void 0===h?"off":h,g=e.disabled,y=void 0!==g&&g,j=e.multiline,C=void 0!==j&&j,k=e.tooltip,M=void 0===k?"":k,S=e.index,N=void 0===S?0:S,I=e.error,w=void 0===I?"":I,P=e.required,F=void 0!==P&&P,B=e.placeholder,L=void 0===B?"":B,E=e.min,R=e.max,D=e.overlayId,O=e.overlayIcon,W=void 0===O?null:O,T=e.overlayObject,V=void 0===T?null:T,z=e.extraInputProps,A=void 0===z?{}:z,G=e.overlayAction,H=e.noLabelMinWidth,K=void 0!==H&&H,q=e.pattern,Y=void 0===q?"":q,$=e.autoFocus,_=void 0!==$&&$,Q=e.classes,X=e.className,J=void 0===X?"":X,U=e.onKeyPress,ee=(0,i.Z)({"data-index":N},A);return"number"===m&&E&&(ee.min=E),"number"===m&&R&&(ee.max=R),""!==Y&&(ee.pattern=Y),(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(s.ZP,{container:!0,className:(0,Z.Z)(""!==J?J:"",""!==w?Q.errorInField:Q.inputBoxContainer),children:[""!==t&&(0,f.jsxs)(r.Z,{htmlFor:d,className:K?Q.noMinWidthLabel:Q.inputLabel,children:[(0,f.jsxs)("span",{children:[t,F?"*":""]}),""!==M&&(0,f.jsx)("div",{className:Q.tooltipContainer,children:(0,f.jsx)(l.Z,{title:M,placement:"top-start",children:(0,f.jsx)("div",{className:Q.tooltip,children:(0,f.jsx)(v.Z,{})})})})]}),(0,f.jsxs)("div",{className:Q.textBoxContainer,children:[(0,f.jsx)(x,{id:d,name:u,fullWidth:!0,value:a,autoFocus:_,disabled:y,onChange:n,type:m,multiline:C,autoComplete:b,inputProps:ee,error:""!==w,helperText:w,placeholder:L,className:Q.inputRebase,onKeyPress:U}),W&&(0,f.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,f.jsx)(c.Z,{onClick:G?function(){G()}:function(){return null},id:D,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:W})}),V&&(0,f.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:V})]})]})})}))},67754:function(e,t,n){var i=n(18489),o=n(50390),a=n(25594),s=n(46413),r=n(36554),l=n(94187),c=n(47554),d=n(43965),u=n(31680),p=n(86509),m=n(4285),v=n(72462),Z=n(97538),f=n(62559),h=(0,m.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(s.ZP);t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},v.YI),v.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},v.YI.inputLabel),{},{"& span":{fontWeight:"normal"}}),fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var t=e.classes,n=e.id,i=e.name,s=e.onChange,p=e.options,m=e.label,v=e.tooltip,x=void 0===v?"":v,b=e.value,g=e.disabled,y=void 0!==g&&g;return(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(a.ZP,{item:!0,xs:12,className:t.fieldContainer,children:[""!==m&&(0,f.jsxs)(r.Z,{htmlFor:n,className:t.inputLabel,children:[(0,f.jsx)("span",{children:m}),""!==x&&(0,f.jsx)("div",{className:t.tooltipContainer,children:(0,f.jsx)(l.Z,{title:x,placement:"top-start",children:(0,f.jsx)("div",{className:t.tooltip,children:(0,f.jsx)(Z.Z,{})})})})]}),(0,f.jsx)(c.Z,{fullWidth:!0,children:(0,f.jsx)(d.Z,{id:n,name:i,value:b,onChange:s,input:(0,f.jsx)(h,{}),disabled:y,children:p.map((function(e){return(0,f.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(i,"-").concat(e.label))}))})})]})})}))},51002:function(e,t,n){var i=n(23430),o=n(18489),a=n(50390),s=n(34424),r=n(95467),l=n(97771),c=n(84402),d=n(78426),u=n(93085),p=n(86509),m=n(4285),v=n(72462),Z=n(44149),f=n(21278),h=n(45980),x=n(62559),b=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:Z.MK});t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)({},v.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},v.sN))}))(b((function(e){var t=e.onClose,n=e.modalOpen,s=e.title,p=e.children,m=e.classes,v=e.wideLimit,Z=void 0===v||v,b=e.modalSnackMessage,g=e.noContentPadding,y=e.setModalSnackMessage,j=e.titleIcon,C=void 0===j?null:j,k=(0,a.useState)(!1),M=(0,i.Z)(k,2),S=M[0],N=M[1];(0,a.useEffect)((function(){y("")}),[y]),(0,a.useEffect)((function(){if(b){if(""===b.message)return void N(!1);"error"!==b.type&&N(!0)}}),[b]);var I=Z?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return b&&(w=b.detailedErrorMsg,(""===b.detailedErrorMsg||b.detailedErrorMsg.length<5)&&(w=b.message)),(0,x.jsxs)(c.Z,(0,o.Z)((0,o.Z)({open:n,classes:m},I),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&t()},className:m.root,children:[(0,x.jsxs)(d.Z,{className:m.title,children:[(0,x.jsxs)("div",{className:m.titleText,children:[C," ",s]}),(0,x.jsx)("div",{className:m.closeContainer,children:(0,x.jsx)(r.Z,{"aria-label":"close",className:m.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,x.jsx)(f.Z,{})})})]}),(0,x.jsx)(h.Z,{isModal:!0}),(0,x.jsx)(l.Z,{open:S,className:m.snackBarModal,onClose:function(){N(!1),y("")},message:w,ContentProps:{className:"".concat(m.snackBar," ").concat(b&&"error"===b.type?m.errorSnackBar:"")},autoHideDuration:b&&"error"===b.type?1e4:5e3}),(0,x.jsx)(u.Z,{className:g?"":m.content,children:p})]}))})))},21278:function(e,t,n){var i=n(64119);t.Z=void 0;var o=i(n(66830)),a=n(62559),s=(0,o.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=s},4247:function(e,t,n){n.d(t,{V:function(){return o}});var i=n(10594);function o(e){return(0,i.Z)("MuiDivider",e)}var a=(0,n(43349).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a},31680:function(e,t,n){n.d(t,{Z:function(){return M}});var i=n(36222),o=n(1048),a=n(32793),s=n(50390),r=n(44977),l=n(50076),c=n(36128),d=n(8208),u=n(15573),p=n(57308),m=n(86875),v=n(40839),Z=n(3299),f=n(4247),h=n(2198),x=n(23586),b=n(10594);function g(e){return(0,b.Z)("MuiMenuItem",e)}var y=(0,n(43349).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=n(62559),C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],k=(0,d.ZP)(m.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,o=e.ownerState;return(0,a.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,i.Z)(t,"&.".concat(y.selected),(0,i.Z)({backgroundColor:(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(y.focusVisible),{backgroundColor:(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,i.Z)(t,"&.".concat(y.selected,":hover"),{backgroundColor:(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,i.Z)(t,"&.".concat(y.focusVisible),{backgroundColor:n.palette.action.focus}),(0,i.Z)(t,"&.".concat(y.disabled),{opacity:n.palette.action.disabledOpacity}),(0,i.Z)(t,"& + .".concat(f.Z.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,i.Z)(t,"& + .".concat(f.Z.inset),{marginLeft:52}),(0,i.Z)(t,"& .".concat(x.Z.root),{marginTop:0,marginBottom:0}),(0,i.Z)(t,"& .".concat(x.Z.inset),{paddingLeft:36}),(0,i.Z)(t,"& .".concat(h.Z.root),{minWidth:36}),t),!o.dense&&(0,i.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),o.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,i.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),M=s.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiMenuItem"}),i=n.autoFocus,c=void 0!==i&&i,d=n.component,m=void 0===d?"li":d,f=n.dense,h=void 0!==f&&f,x=n.divider,b=void 0!==x&&x,y=n.disableGutters,M=void 0!==y&&y,S=n.focusVisibleClassName,N=n.role,I=void 0===N?"menuitem":N,w=n.tabIndex,P=(0,o.Z)(n,C),F=s.useContext(p.Z),B={dense:h||F.dense||!1,disableGutters:M},L=s.useRef(null);(0,v.Z)((function(){c&&L.current&&L.current.focus()}),[c]);var E,R=(0,a.Z)({},n,{dense:B.dense,divider:b,disableGutters:M}),D=function(e){var t=e.disabled,n=e.dense,i=e.divider,o=e.disableGutters,s=e.selected,r=e.classes,c={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",i&&"divider",s&&"selected"]},d=(0,l.Z)(c,g,r);return(0,a.Z)({},r,d)}(n),O=(0,Z.Z)(L,t);return n.disabled||(E=void 0!==w?w:-1),(0,j.jsx)(p.Z.Provider,{value:B,children:(0,j.jsx)(k,(0,a.Z)({ref:O,role:I,tabIndex:E,component:m,focusVisibleClassName:(0,r.Z)(D.focusVisible,S)},P,{ownerState:R,classes:D}))})}))}}]);
//# sourceMappingURL=4177.381caad6.chunk.js.map