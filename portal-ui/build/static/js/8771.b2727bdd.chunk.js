"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8771],{64163:function(e,n,t){var i=t(1413),l=t(72791),s=t(61889),c=t(11135),a=t(25787),r=t(23814),o=t(80184);n.Z=(0,a.Z)((function(e){return(0,c.Z)((0,i.Z)({},r.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,c=e.content,a=e.multiLine,r=void 0!==a&&a;return(0,o.jsx)(l.Fragment,{children:(0,o.jsxs)(s.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,o.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,o.jsx)(s.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,o.jsx)(s.ZP,{item:!0,xs:12,className:r?n.innerContentMultiline:n.innerContent,children:c})})]})})}))},39134:function(e,n,t){t.r(n);var i=t(29439),l=t(1413),s=t(72791),c=t(60364),a=t(26181),r=t.n(a),o=t(11135),u=t(25787),d=t(36151),Z=t(40986),p=t(61889),x=t(23814),f=t(42649),m=t(56028),h=t(81207),j=t(58400),v=t(64163),b=t(80184),y={setModalErrorSnackMessage:f.zb},k=(0,c.$j)(null,y);n.default=(0,u.Z)((function(e){return(0,o.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},x.oO),x.bK),{},{tableBlock:(0,l.Z)((0,l.Z)({},x.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(k((function(e){var n=e.classes,t=e.closeModalAndRefresh,l=e.selectedUser,c=e.selectedGroup,a=e.setModalErrorSnackMessage,o=e.open,u=(0,s.useState)(!1),x=(0,i.Z)(u,2),f=x[0],y=x[1],k=(0,s.useState)([]),P=(0,i.Z)(k,2),C=P[0],g=P[1],S=(0,s.useState)([]),N=(0,i.Z)(S,2),M=N[0],T=N[1];(0,s.useEffect)((function(){if(o){if(null!==c)return void(c&&h.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(c))).then((function(e){var n=r()(e,"policy","");g(n.split(",")),T(n.split(","))})).catch((function(e){a(e),y(!1)})));var e=r()(l,"policy",[]);g(e),T(e)}}),[o,c,l]);var E=r()(l,"accessKey","");return(0,b.jsxs)(m.Z,{onClose:function(){t()},modalOpen:o,title:"Set Policies",children:[(0,b.jsx)(p.ZP,{item:!0,xs:12,children:(0,b.jsx)(v.Z,{label:"Selected ".concat(null!==c?"Group":"User"),content:null!==c?c:E})}),(0,b.jsx)(p.ZP,{item:!0,xs:12,children:(0,b.jsx)(v.Z,{label:"Current Policy",content:C.join(", ")})}),(0,b.jsx)("div",{className:n.tableBlock,children:(0,b.jsx)(j.Z,{selectedPolicy:M,setSelectedPolicy:T})}),(0,b.jsxs)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,b.jsx)(d.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){T(C)},children:"Reset"}),(0,b.jsx)(d.Z,{type:"button",variant:"contained",color:"primary",disabled:f,onClick:function(){var e="user",n=null;null!==c?(e="group",n=c):null!==l&&(n=l.accessKey),y(!0),h.Z.invoke("PUT","/api/v1/set-policy",{name:M,entityName:n,entityType:e}).then((function(){y(!1),t()})).catch((function(e){y(!1),a(e)}))},children:"Save"})]}),f&&(0,b.jsx)(p.ZP,{item:!0,xs:12,children:(0,b.jsx)(Z.Z,{})})]})})))}}]);
//# sourceMappingURL=8771.b2727bdd.chunk.js.map