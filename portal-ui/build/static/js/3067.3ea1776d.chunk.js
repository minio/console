"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3067],{75578:(e,t,s)=>{s.d(t,{Z:()=>n});var l=s(72791),i=s(80184);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,i.jsx)(l.Suspense,{fallback:t,children:(0,i.jsx)(e,{...s})})}}},31460:(e,t,s)=>{s.d(t,{Z:()=>o});var l=s(72791),i=s(57689),n=s(29945),a=s(80184);const o=e=>{let{compactMode:t=!1}=e;const s=(0,i.s0)(),o=(0,a.jsx)(n.zxk,{id:"go-to-register",type:"submit",variant:"callAction",color:"primary",onClick:()=>s("/support/register"),children:"Register your Cluster"}),r="Please use your MinIO Subscription Network login credentials to register this cluster and enable this feature.";return t?(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(n.rjZ,{sx:{"& div.leftItems":{marginBottom:0}},children:(0,a.jsx)(n.KfX,{title:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:[(0,a.jsx)("span",{children:r})," ",o]}),iconComponent:(0,a.jsx)(n.e6P,{}),help:null})}),(0,a.jsx)("br",{})]}):(0,a.jsx)(n.xuv,{sx:{padding:"25px",border:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"row",marginBottom:"15px",["@media (max-width: ".concat(n.Egj.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.rjZ,{container:!0,children:[(0,a.jsx)(n.rjZ,{item:!0,xs:12,children:(0,a.jsx)(n.xuv,{sx:{marginRight:"8px",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center","& .min-icon":{width:"83px",height:"14px",marginLeft:"5px",marginRight:"5px"}},children:"Register your cluster"})}),(0,a.jsx)(n.rjZ,{item:!0,xs:12,children:(0,a.jsx)(n.xuv,{sx:{display:"flex",flexFlow:"row",["@media (max-width: ".concat(n.Egj.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.xuv,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,a.jsx)(n.xuv,{sx:{fontSize:"16px",display:"flex",flexFlow:"column",marginTop:"15px",marginBottom:"15px"},children:r}),(0,a.jsx)(n.xuv,{sx:{flex:"1"},children:(0,a.jsx)(n.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:o})})]})})})]})})}},73067:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var l=s(72791),i=s(57689),n=s(75578),a=s(50099),o=s(29945),r=s(11087),x=s(81207),c=s(87995),d=s(44690),u=s(9478),h=s(56028),p=s(80184);const m=e=>{let{onClose:t,diagStatus:s,logsStatus:i,open:n,disable:a=!1}=e;const r=(0,d.TL)(),[u,m]=(0,l.useState)(!1),g=()=>{m(!0),x.Z.invoke("PUT","/api/v1/support/callhome",{diagState:!a&&s,logsState:!a&&i}).then((e=>{r((0,c.y1)("Configuration saved successfully")),m(!1),t(!0)})).catch((e=>{m(!1),r((0,c.Ih)(e))}))};return(0,p.jsx)(h.Z,{modalOpen:n,title:a?"Disable Call Home":"Edit Call Home Configurations",onClose:()=>t(!1),titleIcon:(0,p.jsx)(o.o0P,{}),children:a?(0,p.jsxs)(l.Fragment,{children:["Please Acknowledge that after doing this action, we will no longer receive updated cluster information automatically, losing the potential benefits that Call Home provides to your MinIO cluster.",(0,p.jsx)(o.rjZ,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Are you sure you want to disable SUBNET Call Home?"}),(0,p.jsx)("br",{}),u&&(0,p.jsx)(o.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,p.jsx)(o.kod,{})}),(0,p.jsxs)(o.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,p.jsx)(o.zxk,{id:"reset",type:"button",variant:"regular",disabled:u,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,p.jsx)(o.zxk,{id:"save-lifecycle",type:"submit",variant:"secondary",color:"primary",disabled:u,label:"Yes, Disable Call Home",onClick:g})]})]}):(0,p.jsxs)(l.Fragment,{children:["Are you sure you want to change the following configurations for SUBNET Call Home:",(0,p.jsxs)(o.rjZ,{item:!0,sx:{margin:"20px 0",display:"flex",flexDirection:"column",gap:15},children:[(0,p.jsxs)(o.rjZ,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,p.jsx)(o.J$M,{style:{fill:s?"#4CCB92":"#C83B51",width:20}}),(0,p.jsxs)("span",{children:[(0,p.jsx)("strong",{children:s?"Enable":"Disable"})," - Send Diagnostics Information to SUBNET"]})]}),(0,p.jsxs)(o.rjZ,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,p.jsx)(o.J$M,{style:{fill:i?"#4CCB92":"#C83B51",width:20}}),(0,p.jsxs)("span",{children:[(0,p.jsx)("strong",{children:i?"Enable":"Disable"})," - Send Logs Information to SUBNET"]})]})]}),(0,p.jsx)(o.rjZ,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Please Acknowledge that the information provided will only be available in your SUBNET Account and it will not be shared to other persons or entities besides MinIO team and you."}),u&&(0,p.jsx)(o.rjZ,{item:!0,xs:12,sx:{marginBottom:10},children:(0,p.jsx)(o.kod,{})}),(0,p.jsxs)(o.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,p.jsx)(o.zxk,{id:"reset",type:"button",variant:"regular",disabled:u,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,p.jsx)(o.zxk,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:u,label:"Yes, Save this Configuration",onClick:g})]})]})})};var g=s(31460),j=s(79844),f=s(99670);const b=()=>{const e=(0,d.TL)(),t=(0,i.s0)(),[s,n]=(0,l.useState)(!0),[a,h]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[v,C]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(!1),[I,E]=(0,l.useState)(!1),B=(0,u.Yc)();(0,l.useEffect)((()=>{s&&x.Z.invoke("GET","/api/v1/support/callhome").then((e=>{n(!1),y(!!e.diagnosticsStatus),Z(!!e.logsStatus),C(!!e.diagnosticsStatus),w(!!e.logsStatus)})).catch((t=>{n(!1),e((0,c.Ih)(t))}))}),[s,e]);let T="regular";return!B||b===v&&k===S||(T="callAction"),(0,l.useEffect)((()=>{e((0,c.Sc)("call_home"))}),[]),(0,p.jsxs)(l.Fragment,{children:[a&&(0,p.jsx)(m,{onClose:e=>{e&&n(!0),h(!1)},open:a,logsStatus:k,diagStatus:b,disable:I}),(0,p.jsx)(j.Z,{label:"Call Home",actions:(0,p.jsx)(f.Z,{})}),(0,p.jsxs)(o.Xgh,{children:[!B&&(0,p.jsx)(g.Z,{compactMode:!0}),(0,p.jsx)(o.ltY,{helpBox:(0,p.jsx)(o.KfX,{title:"Learn more about Call Home",iconComponent:(0,p.jsx)(o.o0P,{}),help:(0,p.jsx)(l.Fragment,{children:(0,p.jsx)(o.xuv,{sx:{display:"flex",flexFlow:"column",fontSize:"14px",flex:"2",marginTop:"10px"},children:(0,p.jsxs)(o.xuv,{children:["Enabling Call Home sends cluster health & status to your registered MinIO Subscription Network account every 24 hours.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),"This helps the MinIO support team to provide quick incident responses along with suggestions for possible improvements that can be made to your MinIO instances.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),"Your cluster must be"," ",(0,p.jsx)(r.rU,{to:"/support/register",children:"registered"})," in the MinIO Subscription Network (SUBNET) before enabling this feature."]})})})}),children:s?(0,p.jsx)("span",{style:{marginLeft:5},children:(0,p.jsx)(o.aNw,{style:{width:16,height:16}})}):(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(o.rsf,{value:"enableDiag",id:"enableDiag",name:"enableDiag",checked:b,onChange:e=>{y(e.target.checked)},label:"Daily Health Report",disabled:!B,description:"Daily Health Report enables you to proactively identify potential issues in your deployment before they escalate."}),(0,p.jsx)(o.rsf,{value:"enableLogs",id:"enableLogs",name:"enableLogs",checked:k,onChange:e=>{Z(e.target.checked)},label:"Live Error Logs",disabled:!B,description:"Live Error Logs will enable MinIO's support team and automatic diagnostics system to catch failures early."}),(0,p.jsxs)(o.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"55px",gap:"0px 10px"},children:[(v||S)&&(0,p.jsx)(o.zxk,{id:"callhome-action",variant:"secondary","data-test-id":"call-home-toggle-button",onClick:()=>{E(!0),h(!0)},disabled:s||!B,children:"Disable Call Home"}),(0,p.jsx)(o.zxk,{id:"callhome-action",type:"button",variant:T,"data-test-id":"call-home-toggle-button",onClick:()=>{B?(E(!1),h(!0)):t("/support/register")},disabled:s||!B,children:"Save Configuration"})]})]})})]})]})},y=(0,n.Z)(l.lazy((()=>s.e(8833).then(s.bind(s,58833))))),v=(0,n.Z)(l.lazy((()=>s.e(1516).then(s.bind(s,51516))))),C=(0,n.Z)(l.lazy((()=>s.e(483).then(s.bind(s,70483))))),S=()=>(0,p.jsxs)(i.Z5,{children:[(0,p.jsx)(i.AW,{path:"register",element:(0,p.jsx)(v,{})}),(0,p.jsx)(i.AW,{path:"profile",element:(0,p.jsx)(C,{})}),(0,p.jsx)(i.AW,{path:"call-home",element:(0,p.jsx)(b,{})}),(0,p.jsx)(i.AW,{path:"inspect",element:(0,p.jsx)(y,{})}),(0,p.jsx)(i.AW,{path:"*",element:(0,p.jsx)(a.Z,{})})]})}}]);
//# sourceMappingURL=3067.3ea1776d.chunk.js.map