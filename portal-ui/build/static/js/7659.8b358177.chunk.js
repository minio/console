"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7659,9478],{57314:function(e,n,t){var i=t(1413),a=t(72791),o=t(61889),r=t(30829),l=t(20068),s=t(27391),c=t(11135),u=t(25787),d=t(23814),f=t(84570),p=t(80184);n.Z=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},d.YI),d.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:14,margin:0,alignItems:"flex-start",paddingTop:"20px",flexWrap:"wrap",display:"flex"}),textBoxContainer:{flexGrow:1,position:"relative"},cssOutlinedInput:{borderColor:"#EAEAEA",padding:16},rootContainer:{"& .MuiOutlinedInput-inputMultiline":(0,i.Z)((0,i.Z)({},d.YI.inputLabel),{},{fontSize:13,minHeight:150}),"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#07193E",borderWidth:1},"& textarea":{color:"#07193E",fontSize:13,fontWeight:600,"&:placeholder":{color:"#858585",opacity:1,fontWeight:400}}}}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,c=e.id,u=e.name,d=e.disabled,h=void 0!==d&&d,m=e.tooltip,x=void 0===m?"":m,v=e.index,g=void 0===v?0:v,Z=e.error,j=void 0===Z?"":Z,b=e.required,C=void 0!==b&&b,y=e.placeholder,I=void 0===y?"":y,N=e.classes,w={"data-index":g};return(0,p.jsx)(a.Fragment,{children:(0,p.jsxs)(o.ZP,{item:!0,xs:12,className:"".concat(N.fieldContainer," ").concat(""!==j?N.errorInField:""),children:[""!==n&&(0,p.jsxs)(r.Z,{htmlFor:c,className:N.inputLabel,children:[(0,p.jsxs)("span",{children:[n,C?"*":""]}),""!==x&&(0,p.jsx)("div",{className:N.tooltipContainer,children:(0,p.jsx)(l.Z,{title:x,placement:"top-start",children:(0,p.jsx)("div",{className:N.tooltip,children:(0,p.jsx)(f.Z,{})})})})]}),(0,p.jsx)("div",{className:N.textBoxContainer,children:(0,p.jsx)(s.Z,{id:c,name:u,fullWidth:!0,value:i,disabled:h,onChange:t,multiline:!0,rows:5,inputProps:w,error:""!==j,helperText:j,placeholder:I,InputLabelProps:{shrink:!0},InputProps:{classes:{notchedOutline:N.cssOutlinedInput,root:N.rootContainer}},variant:"outlined"})})]})})}))},67659:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var i=t(72791),a=t(16871),o=t(61889),r=t(58493),l=t(29439),s=t(1413),c=t(26181),u=t.n(c),d=t(11135),f=t(25787),p=t(40986),h=t(64554),m=t(36151),x=t(81207),v=t(29478),g=t(23814),Z=t(51691),j=t(2148),b=t(15900),C=t(87995),y=t(81551),I=t(80184),N=(0,f.Z)((function(e){return(0,d.Z)((0,s.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},g.Qw))}))((function(e){var n=e.classes,t=e.configurationName,a=e.closeResetModalAndRefresh,o=e.resetOpen,r=(0,y.TL)(),s=(0,i.useState)(!1),c=(0,l.Z)(s,2),u=c[0],d=c[1];(0,i.useEffect)((function(){u&&x.Z.invoke("POST","/api/v1/configs/".concat(t,"/reset")).then((function(e){d(!1),a(!0)})).catch((function(e){d(!1),r((0,C.Ih)(e))}))}),[a,t,u,r]);return(0,I.jsx)(j.Z,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:o,titleIcon:(0,I.jsx)(b.NvT,{}),isLoading:u,onConfirm:function(){d(!0)},onClose:function(){a(!1)},confirmationContent:(0,I.jsxs)(i.Fragment,{children:[u&&(0,I.jsx)(p.Z,{}),(0,I.jsxs)(Z.Z,{children:["Are you sure you want to restore these configurations to default values?",(0,I.jsx)("br",{}),(0,I.jsx)("b",{className:n.wrapText,children:"Please note that this may cause your system to not be accessible"})]})]})})})),w=(0,f.Z)((function(e){return(0,d.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},g.YI),g.Je),{},{settingsFormContainer:{display:"grid",gridTemplateColumns:"1fr",gridGap:"10px"}}))}))((function(e){var n=e.selectedConfiguration,t=e.classes,s=e.className,c=void 0===s?"":s,d=(0,y.TL)(),f=(0,a.s0)(),g=(0,i.useState)([]),Z=(0,l.Z)(g,2),j=Z[0],b=Z[1],w=(0,i.useState)(!1),S=(0,l.Z)(w,2),P=S[0],k=S[1],E=(0,i.useState)(!0),T=(0,l.Z)(E,2),F=T[0],R=T[1],L=(0,i.useState)([]),O=(0,l.Z)(L,2),A=O[0],W=O[1],_=(0,i.useState)(!1),B=(0,l.Z)(_,2),D=B[0],Y=B[1];(0,i.useEffect)((function(){if(F){var e=u()(n,"configuration_id",!1);if(e)return void x.Z.invoke("GET","/api/v1/configs/".concat(e)).then((function(e){var n=u()(e,"key_values",[]);W(n),R(!1)})).catch((function(e){R(!1),d((0,C.Ih)(e))}));R(!1)}}),[F,n,d]),(0,i.useEffect)((function(){if(P){var e={key_values:(0,r.DD)(j)};x.Z.invoke("PUT","/api/v1/configs/".concat(n.configuration_id),e).then((function(e){k(!1),d((0,C.cN)(e.restart)),f("/settings")})).catch((function(e){k(!1),d((0,C.Ih)(e))}))}}),[P,d,n,j,f]);var M=(0,i.useCallback)((function(e){b(e)}),[b]);return(0,I.jsxs)(i.Fragment,{children:[D&&(0,I.jsx)(N,{configurationName:n.configuration_id,closeResetModalAndRefresh:function(e){Y(!1),d((0,C.cN)(e)),e&&R(!0)},resetOpen:D}),F?(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(p.Z,{})}):(0,I.jsx)(h.Z,{sx:{padding:"15px",height:"100%"},children:(0,I.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),k(!0)},className:c,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,I.jsx)(o.ZP,{item:!0,xs:12,className:t.settingsFormContainer,children:(0,I.jsx)(v.default,{fields:r.DP[n.configuration_id],onChange:M,defaultVals:A})}),(0,I.jsxs)(o.ZP,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,I.jsx)(m.Z,{type:"button",variant:"outlined",color:"secondary",sx:{padding:{xs:"3px",md:"20px"}},onClick:function(){Y(!0)},children:"Restore Defaults"}),"\xa0 \xa0",(0,I.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",disabled:P,children:"Save"})]})]})})]})})),S=function(){var e=(0,a.TH)().pathname,n=void 0===e?"":e,t=n.substring(n.lastIndexOf("/")+1),i=r.bx.find((function(e){return e.configuration_id===t})),l="".concat(t);return(0,I.jsx)(o.ZP,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:i&&(0,I.jsx)(w,{className:"".concat(l),selectedConfiguration:i})})}},29478:function(e,n,t){t.r(n),t.d(n,{default:function(){return N},valueDef:function(){return I}});var i=t(93433),a=t(29439),o=t(1413),r=t(72791),l=t(11135),s=t(25787),c=t(61889),u=t(23814),d=t(21435),f=t(26181),p=t.n(f),h=t(48573),m=t.n(h),x=t(30829),v=t(20068),g=t(84570),Z=t(47919),j=t(80184),b=(0,s.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.YI),u.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15,flex:1},inputBoxSpacer:{marginBottom:7},inputLabel:(0,o.Z)((0,o.Z)({},u.YI.inputLabel),{},{margin:0,alignItems:"flex-start",paddingTop:"20px",minWidth:162})}))}))((function(e){var n=e.elements,t=e.name,o=e.label,l=e.tooltip,s=void 0===l?"":l,u=e.commonPlaceholder,f=void 0===u?"":u,h=e.onChange,b=e.withBorder,C=void 0!==b&&b,y=e.classes,I=(0,r.useState)([""]),N=(0,a.Z)(I,2),w=N[0],S=N[1],P=(0,r.createRef)();(0,r.useEffect)((function(){if(1===w.length&&""===w[0]&&n&&""!==n){var e=n.split(",");e.push(""),S(e)}}),[n,w]),(0,r.useEffect)((function(){if(w.length>1){var e=P.current;e&&e.scrollIntoView(!1)}}),[w,P]);var k=(0,r.useRef)(!0);(0,r.useLayoutEffect)((function(){k.current?k.current=!1:T()}),[w]);var E=function(e){e.persist();var n=(0,i.Z)(w);n[p()(e.target,"dataset.index",0)]=e.target.value,S(n)},T=m()((function(){var e=w.filter((function(e){return""!==e.trim()})).join(",");h(e)}),500),F=w.map((function(e,n){return(0,j.jsx)("div",{className:y.inputBoxSpacer,children:(0,j.jsx)(d.Z,{id:"".concat(t,"-").concat(n.toString()),label:"",name:"".concat(t,"-").concat(n.toString()),value:w[n],onChange:E,index:n,placeholder:f,overlayIcon:n===w.length-1?(0,j.jsx)(Z.Z,{}):null,overlayAction:function(){!function(e){if(""!==e[e.length-1].trim()){var n=(0,i.Z)(e);n.push(""),S(n)}}(w)}},"csv-".concat(t,"-").concat(n.toString()))})}));return(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:y.fieldContainer,children:[(0,j.jsxs)(x.Z,{className:y.inputLabel,children:[(0,j.jsx)("span",{children:o}),""!==s&&(0,j.jsx)("div",{className:y.tooltipContainer,children:(0,j.jsx)(v.Z,{title:s,placement:"top-start",children:(0,j.jsx)("div",{className:y.tooltip,children:(0,j.jsx)(g.Z,{})})})})]}),(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(C?y.inputWithBorder:""),children:[F,(0,j.jsx)("div",{ref:P})]})]})})})),C=t(57314),y=t(37516),I=function(e,n,t){var i="on|off"===n?"off":"";if(t.length>0){var a=t.find((function(n){return n.key===e}));a&&(i=a.value)}return i},N=(0,s.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)({},u.DF),{},{formFieldRow:(0,o.Z)({},u.DF.formFieldRow)},u.oO))}))((function(e){var n=e.onChange,t=e.fields,o=e.defaultVals,l=e.classes,s=(0,r.useState)([]),u=(0,a.Z)(s,2),f=u[0],p=u[1],h=t||[],m=o||[];(0,r.useEffect)((function(){var e=[];t.forEach((function(n){var t={key:n.name,value:I(n.name,n.type,m)};e.push(t)})),p(e)}),[t,o]),(0,r.useEffect)((function(){n(f)}),[f]);var x=function(e,n,t){var a=(0,i.Z)(f);a[t]={key:e,value:n},p(a)},v=function(e,n){switch(e.type){case"on|off":var t=f[n]?f[n].value:"off";return(0,j.jsx)(y.Z,{onChange:function(t){var i=t.target.checked?"on":"off";x(e.name,i,n)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"on"===t});case"csv":return(0,j.jsx)(b,{elements:f[n]?f[n].value:"",label:e.label,name:e.name,onChange:function(t){return x(e.name,t,n)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,j.jsx)(C.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},placeholder:e.placeholder});default:return(0,j.jsx)(d.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:f[n]?f[n].value:"",onChange:function(t){return x(e.name,t.target.value,n)},multiline:!!e.multiline,placeholder:e.placeholder})}};return(0,j.jsx)(c.ZP,{container:!0,children:(0,j.jsx)(c.ZP,{xs:12,item:!0,className:l.fieldBox,children:h.map((function(e,n){return(0,j.jsx)(c.ZP,{item:!0,xs:12,className:l.formFieldRow,children:v(e,n)},e.name)}))})})}))}}]);
//# sourceMappingURL=7659.8b358177.chunk.js.map