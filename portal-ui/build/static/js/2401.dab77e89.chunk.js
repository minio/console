"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2401,6549],{50280:function(e,n,t){var s=t(18489),a=t(50390),r=t(25594),i=t(86509),o=t(4285),l=t(72462),c=t(62559);n.Z=(0,o.Z)((function(e){return(0,i.Z)((0,s.Z)({},l.xx))}))((function(e){var n=e.classes,t=e.label,s=void 0===t?"":t,i=e.content,o=e.multiLine,l=void 0!==o&&o;return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(r.ZP,{className:n.prefinedContainer,children:[""!==s&&(0,c.jsx)(r.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:s}),(0,c.jsx)(r.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,c.jsx)(r.ZP,{item:!0,xs:12,className:l?n.innerContentMultiline:n.innerContent,children:i})})]})})}))},76352:function(e,n,t){t.d(n,{Z:function(){return M}});var s,a=t(23430),r=t(18489),i=t(50390),o=t(34424),l=t(95467),c=t(97771),d=t(84402),u=t(78426),m=t(93085),f=t(86509),p=t(4285),x=t(72462),g=t(44149),h=t(38342),Z=t.n(h),j=t(92125),v=t(19538),b=t(21278),k=t(62559),C=function(){clearInterval(s)},y={displayErrorMessage:g.zb},S=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),y)((0,p.Z)((function(e){return(0,f.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,t=e.modalSnackMessage,r=e.displayErrorMessage,o=e.customStyle,l=(0,i.useState)(!1),c=(0,a.Z)(l,2),d=c[0],u=c[1],m=(0,i.useState)(!1),f=(0,a.Z)(m,2),p=f[0],x=f[1],g=(0,i.useCallback)((function(){x(!1)}),[]);(0,i.useEffect)((function(){p||(r({detailedError:"",errorMessage:""}),u(!1))}),[r,p]),(0,i.useEffect)((function(){""!==t.message&&"error"===t.type&&x(!0)}),[g,t.message,t.type]);var h=Z()(t,"message",""),y=Z()(t,"detailedErrorMsg","");return"error"!==t.type||""===h?null:(0,k.jsx)(i.Fragment,{children:(0,k.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(p?n.modalErrorShow:""),style:o,onMouseOver:C,onMouseLeave:function(){s=setInterval(g,1e4)},children:[(0,k.jsx)("button",{className:n.closeButton,onClick:g,children:(0,k.jsx)(b.Z,{})}),(0,k.jsxs)("div",{className:n.errorTitle,children:[(0,k.jsx)("span",{className:n.messageIcon,children:(0,k.jsx)(v.Z,{})}),(0,k.jsx)("span",{className:n.errorLabel,children:h})]}),""!==y&&(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:n.detailsContainerLink,children:(0,k.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,k.jsx)(j.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,k.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:y})]})]})})}))),N=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:g.MK}),M=(0,p.Z)((function(e){return(0,f.Z)((0,r.Z)((0,r.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(N((function(e){var n=e.onClose,t=e.modalOpen,s=e.title,o=e.children,f=e.classes,p=e.wideLimit,x=void 0===p||p,g=e.modalSnackMessage,h=e.noContentPadding,Z=e.setModalSnackMessage,j=e.titleIcon,v=void 0===j?null:j,C=(0,i.useState)(!1),y=(0,a.Z)(C,2),N=y[0],M=y[1];(0,i.useEffect)((function(){Z("")}),[Z]),(0,i.useEffect)((function(){if(g){if(""===g.message)return void M(!1);"error"!==g.type&&M(!0)}}),[g]);var P=x?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},E="";return g&&(E=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(E=g.message)),(0,k.jsxs)(d.Z,(0,r.Z)((0,r.Z)({open:t,classes:f},P),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:f.root,children:[(0,k.jsxs)(u.Z,{className:f.title,children:[(0,k.jsxs)("div",{className:f.titleText,children:[v," ",s]}),(0,k.jsx)("div",{className:f.closeContainer,children:(0,k.jsx)(l.Z,{"aria-label":"close",className:f.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,k.jsx)(b.Z,{})})})]}),(0,k.jsx)(S,{}),(0,k.jsx)(c.Z,{open:N,className:f.snackBarModal,onClose:function(){M(!1),Z("")},message:E,ContentProps:{className:"".concat(f.snackBar," ").concat(g&&"error"===g.type?f.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),(0,k.jsx)(m.Z,{className:h?"":f.content,children:o})]}))})))},59176:function(e,n,t){var s=t(35531),a=t(23430),r=t(18489),i=t(50390),o=t(34424),l=t(86509),c=t(4285),d=t(81378),u=t(25594),m=t(25233),f=t(72462),p=t(44149),x=t(30324),g=t(8174),h=t(23165),Z=t(62559),j=(0,o.$j)(null,{setModalErrorSnackMessage:p.zb});n.Z=(0,c.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,r.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))(j((function(e){var n=e.classes,t=e.selectedPolicy,r=void 0===t?[]:t,o=e.setSelectedPolicy,l=e.setModalErrorSnackMessage,c=(0,i.useState)([]),f=(0,a.Z)(c,2),p=f[0],j=f[1],v=(0,i.useState)(!1),b=(0,a.Z)(v,2),k=b[0],C=b[1],y=(0,i.useState)(""),S=(0,a.Z)(y,2),N=S[0],M=S[1],P=(0,i.useCallback)((function(){C(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;C(!1),j(n.sort(m.g4))})).catch((function(e){C(!1),l(e)}))}),[l]);(0,i.useEffect)((function(){C(!0)}),[]),(0,i.useEffect)((function(){k&&P()}),[k,P]);var E=p.filter((function(e){return e.name.includes(N)}));return(0,Z.jsx)(i.Fragment,{children:(0,Z.jsxs)(u.ZP,{item:!0,xs:12,children:[k&&(0,Z.jsx)(d.Z,{}),p.length>0?(0,Z.jsxs)(i.Fragment,{children:[(0,Z.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,Z.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,Z.jsx)("div",{className:n.searchBox,children:(0,Z.jsx)(h.Z,{placeholder:"Filter Policy",onChange:function(e){M(e)}})})]}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,Z.jsx)(g.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,a=n.checked,i=(0,s.Z)(r);a?i.push(t):i=i.filter((function(e){return e!==t})),i=i.filter((function(e){return""!==e})),o(i)},selectedItems:r,isLoading:k,records:E,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,Z.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},16549:function(e,n,t){t.r(n);var s=t(23430),a=t(18489),r=t(50390),i=t(34424),o=t(38342),l=t.n(o),c=t(86509),d=t(4285),u=t(66946),m=t(81378),f=t(25594),p=t(72462),x=t(44149),g=t(76352),h=t(30324),Z=t(59176),j=t(50280),v=t(62559),b={setModalErrorSnackMessage:x.zb},k=(0,i.$j)(null,b);n.default=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.oO),p.bK),{},{tableBlock:(0,a.Z)((0,a.Z)({},p.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(k((function(e){var n=e.classes,t=e.closeModalAndRefresh,a=e.selectedUser,i=e.selectedGroup,o=e.setModalErrorSnackMessage,c=e.open,d=(0,r.useState)(!1),p=(0,s.Z)(d,2),x=p[0],b=p[1],k=(0,r.useState)([]),C=(0,s.Z)(k,2),y=C[0],S=C[1],N=(0,r.useState)([]),M=(0,s.Z)(N,2),P=M[0],E=M[1];(0,r.useEffect)((function(){if(c){if(null!==i)return void(i&&h.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(i))).then((function(e){var n=l()(e,"policy","");S(n.split(",")),E(n.split(","))})).catch((function(e){o(e),b(!1)})));var e=l()(a,"policy",[]);S(e),E(e)}}),[c,i,a]);var B=l()(a,"accessKey","");return(0,v.jsxs)(g.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(j.Z,{label:"Selected ".concat(null!==i?"Group":"User"),content:null!==i?i:B})}),(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(j.Z,{label:"Current Policy",content:y.join(", ")})}),(0,v.jsx)("div",{className:n.tableBlock,children:(0,v.jsx)(Z.Z,{selectedPolicy:P,setSelectedPolicy:E})}),(0,v.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,v.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){E(y)},children:"Reset"}),(0,v.jsx)(u.Z,{type:"button",variant:"contained",color:"primary",disabled:x,onClick:function(){var e="user",n=null;null!==i?(e="group",n=i):null!==a&&(n=a.accessKey),b(!0),h.Z.invoke("PUT","/api/v1/set-policy",{name:P,entityName:n,entityType:e}).then((function(){b(!1),t()})).catch((function(e){b(!1),o(e)}))},children:"Save"})]}),x&&(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(m.Z,{})})]})})))}}]);
//# sourceMappingURL=2401.dab77e89.chunk.js.map