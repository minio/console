"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9567],{46707:function(e,n,i){var l=i(1413),t=(i(72791),i(80184));n.Z=function(e){return(0,t.jsxs)("svg",(0,l.Z)((0,l.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 256 256"},e),{},{children:[(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"certificate_svg__a",children:(0,t.jsx)("path",{"data-name":"Rect\\xE1ngulo 2156",fill:"#07193e",d:"M0 0h256v222.048H0z"})})}),(0,t.jsxs)("g",{"data-name":"Grupo 4763",transform:"translate(0 17)",clipPath:"url(#certificate_svg__a)",fill:"#07193e",children:[(0,t.jsx)("path",{"data-name":"Trazado 8152",d:"M240-.002H16a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h120l4.64-5.6 7.44-9.12A66.72 66.72 0 0 1 256 98.958v-82.96a16 16 0 0 0-16-16m-130.96 149.7H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 1 1 0 14.592m0-56H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 0 1 0 14.592m66.96-39.3a6.419 6.419 0 0 1-6.4 6.4H46.4a6.419 6.419 0 0 1-6.4-6.4v-1.792a6.419 6.419 0 0 1 6.4-6.4h123.2a6.419 6.419 0 0 1 6.4 6.4Z"}),(0,t.jsx)("path",{"data-name":"Trazado 8153",d:"M256 137.486a50.96 50.96 0 1 0-86.16 36.72l-15.52 18.96 7.2 28.88 29.28-35.68a50.018 50.018 0 0 0 28.4 0l29.28 35.68 7.2-28.88-15.52-18.96a50.75 50.75 0 0 0 15.84-36.72m-50.928 29.688a29.688 29.688 0 0 1-.072-59.376h.072a29.688 29.688 0 0 1 0 59.376"})]}),(0,t.jsx)("path",{"data-name":"Rect\\xE1ngulo 2157",fill:"none",d:"M0 0h256v256H0z"})]}))}},92217:function(e,n,i){var l=i(1413),t=i(72791),r=i(61889),a=i(30829),o=i(20068),d=i(64554),s=i(11135),c=i(25787),u=i(84570),v=i(23814),m=i(56096),p=i(75952),Z=i(78029),x=i.n(Z),g=i(90932),y=i(27454),f=i(80184);n.Z=(0,c.Z)((function(e){return(0,s.Z)((0,l.Z)({},v.YI))}))((function(e){var n=e.value,i=e.label,l=void 0===i?"":i,s=e.tooltip,c=void 0===s?"":s,v=e.mode,Z=void 0===v?"json":v,_=e.classes,h=e.onBeforeChange,j=(e.readOnly,e.editorHeight),k=void 0===j?"250px":j;return(0,f.jsxs)(t.Fragment,{children:[(0,f.jsx)(r.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,f.jsxs)(a.Z,{className:_.inputLabel,children:[(0,f.jsx)("span",{children:l}),""!==c&&(0,f.jsx)("div",{className:_.tooltipContainer,children:(0,f.jsx)(o.Z,{title:c,placement:"top-start",children:(0,f.jsx)("div",{className:_.tooltip,children:(0,f.jsx)(u.Z,{})})})})]})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,style:{maxHeight:k,overflow:"auto",border:"1px solid #eaeaea"},children:(0,f.jsx)(g.Z,{value:n,language:Z,onChange:function(e){h(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:k||"initial",color:"#000000"}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,f.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,f.jsx)(y.Z,{tooltip:"Copy to Clipboard",children:(0,f.jsx)(x(),{text:n,children:(0,f.jsx)(p.zx,{type:"button",id:"copy-code-mirror",icon:(0,f.jsx)(m.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},54639:function(e,n,i){i.d(n,{Z:function(){return _}});var l=i(29439),t=i(1413),r=i(72791),a=i(26181),o=i.n(a),d=i(61889),s=i(30829),c=i(20068),u=i(13400),v=i(99663),m=i(86711),p=i(11135),Z=i(25787),x=i(23814),g=i(84570),y=i(22512),f=i(80184),_=(0,Z.Z)((function(e){return(0,p.Z)((0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},x.YI),x.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},x.bV),{},{inputLabel:(0,t.Z)((0,t.Z)({},x.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,t.Z)((0,t.Z)({},x.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,i=e.classes,t=e.onChange,a=e.id,p=e.name,Z=e.disabled,x=void 0!==Z&&Z,_=e.tooltip,h=void 0===_?"":_,j=e.required,k=e.error,b=void 0===k?"":k,C=e.accept,P=void 0===C?"":C,w=e.value,S=void 0===w?"":w,K=(0,r.useState)(!1),I=(0,l.Z)(K,2),A=I[0],E=I[1];return(0,f.jsx)(r.Fragment,{children:(0,f.jsxs)(d.ZP,{item:!0,xs:12,className:"".concat(i.fileInputField," ").concat(i.fieldBottom," ").concat(i.fieldContainer," ").concat(""!==b?i.errorInField:""),children:[""!==n&&(0,f.jsxs)(s.Z,{htmlFor:a,className:"".concat(""!==b?i.fieldLabelError:""," ").concat(i.inputLabel),children:[(0,f.jsxs)("span",{children:[n,j?"*":""]}),""!==h&&(0,f.jsx)("div",{className:i.tooltipContainer,children:(0,f.jsx)(c.Z,{title:h,placement:"top-start",children:(0,f.jsx)("div",{className:i.tooltip,children:(0,f.jsx)(g.Z,{})})})})]}),A||""===S?(0,f.jsxs)("div",{className:i.textBoxContainer,children:[(0,f.jsx)("input",{type:"file",name:p,onChange:function(e){var n=o()(e,"target.files[0].name","");!function(e,n){var i=e.target.files[0],l=new FileReader;l.readAsDataURL(i),l.onload=function(){var e=l.result;if(e){var i=e.toString().split("base64,");2===i.length&&n(i[1])}}}(e,(function(e){t(e,n)}))},accept:P,required:j,disabled:x,className:i.fileInputField}),""!==S&&(0,f.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){E(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,f.jsx)(m.Z,{})}),""!==b&&(0,f.jsx)(y.Z,{errorMessage:b})]}):(0,f.jsxs)("div",{className:i.fileReselect,children:[(0,f.jsx)("div",{className:i.valueString,children:S}),(0,f.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){E(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,f.jsx)(v.Z,{})})]})]})})}))},80666:function(e,n,i){i(72791);var l=i(11135),t=i(25787),r=i(90983),a=i(81918),o=i(91614),d=i(61889),s=i(20890),c=i(64554),u=i(94721),v=i(90493),m=i(15021),p=i(20653),Z=i(49900),x=i(52502),g=i(46431),y=i.n(g),f=i(46707),_=i(80184);n.Z=(0,t.Z)((function(e){return(0,l.Z)({certificateIcon:{float:"left",paddingTop:"5px !important",paddingRight:"10px !important"},certificateInfo:{float:"right"},certificateWrapper:{height:"auto",margin:5,border:"1px solid #E2E2E2",userSelect:"text",borderRadius:4,"& h6":{fontWeight:"bold"},"& div":{padding:0}},certificateExpiry:{color:"#616161",display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:5,"& .label":{fontWeight:"bold"}},certificateDomains:{color:"#616161","& .label":{fontWeight:"bold"}},certificatesList:{border:"1px solid #E2E2E2",borderRadius:4,color:"#616161",textTransform:"lowercase",overflowY:"scroll",maxHeight:145,marginBottom:10},certificatesListItem:{padding:"0px 16px",borderBottom:"1px solid #E2E2E2","& div":{minWidth:0},"& svg":{fontSize:12,marginRight:10,opacity:.5},"& span":{fontSize:12}}})}))((function(e){var n=e.classes,i=e.certificateInfo,l=e.onDelete,t=void 0===l?function(){}:l,g=i.domains||[];return(0,_.jsx)(a.Z,{variant:"outlined",color:"primary",className:n.certificateWrapper,label:(0,_.jsxs)(o.Z,{children:[(0,_.jsx)(d.ZP,{item:!0,xs:1,className:n.certificateIcon,children:(0,_.jsx)(f.Z,{})}),(0,_.jsxs)(d.ZP,{item:!0,xs:11,className:n.certificateInfo,children:[(0,_.jsx)(s.Z,{variant:"subtitle1",display:"block",gutterBottom:!0,children:i.name}),(0,_.jsxs)(c.Z,{className:n.certificateExpiry,children:[(0,_.jsx)(x.Z,{color:"inherit",fontSize:"small"}),"\xa0",(0,_.jsx)("span",{className:"label",children:"Expiry:\xa0"}),(0,_.jsx)("span",{children:(0,_.jsx)(y(),{format:"YYYY/MM/DD",children:i.expiry})})]}),(0,_.jsx)(u.Z,{}),(0,_.jsx)("br",{}),(0,_.jsx)(c.Z,{className:n.certificateDomains,children:(0,_.jsx)("span",{className:"label",children:"".concat(g.length," Domain (s):")})}),(0,_.jsx)(v.Z,{className:n.certificatesList,children:g.map((function(e,i){return(0,_.jsxs)(m.ZP,{className:n.certificatesListItem,children:[(0,_.jsx)(p.Z,{children:(0,_.jsx)(r.Z,{})}),(0,_.jsx)(Z.Z,{primary:e})]},"".concat(e,"-").concat(i))}))})]})]}),onDelete:t},i.name)}))},76683:function(e,n,i){i.r(n);var l=i(93433),t=i(29439),r=i(1413),a=i(75952),o=i(11135),d=i(25787),s=i(23814),c=i(72791),u=i(60364),v=i(25469),m=i(81207),p=i(37516),Z=i(61889),x=i(54639),g=i(21435),y=i(83679),f=i(51691),_=i(20165),h=i(3579),j=i(84741),k=i(40968),b=i(23508),C=i(80666),P=i(50896),w=i(87995),S=i(18073),K=i(43896),I=i(92217),A=i(80184);n.default=(0,d.Z)((function(e){return(0,o.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},s.oZ),s.bK),{},{bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}}},(0,s.Bz)(e.spacing(4))),s.QV),s.DF),s.oO),s.AK))}))((function(e){var n,i,o,d,s,E,N,q,R,z,F,G,D,T,M,V,B,L,O,U,W,H,Y,Q,J,X,$,ee,ne,ie,le,te,re=e.classes,ae=(0,v.TL)(),oe=(0,u.v9)((function(e){return e.tenants.tenantInfo})),de=(0,c.useState)(0),se=(0,t.Z)(de,2),ce=se[0],ue=se[1],ve=(0,c.useState)(""),me=(0,t.Z)(ve,2),pe=me[0],Ze=me[1],xe=(0,c.useState)(!1),ge=(0,t.Z)(xe,2),ye=ge[0],fe=ge[1],_e=(0,c.useState)("vault"),he=(0,t.Z)(_e,2),je=he[0],ke=he[1],be=(0,c.useState)("1"),Ce=(0,t.Z)(be,2),Pe=Ce[0],we=Ce[1],Se=(0,c.useState)(""),Ke=(0,t.Z)(Se,2),Ie=Ke[0],Ae=Ke[1],Ee=(0,c.useState)(!1),Ne=(0,t.Z)(Ee,2),qe=Ne[0],Re=Ne[1],ze=(0,c.useState)({fsGroup:"1000",fsGroupChangePolicy:"Always",runAsGroup:"1000",runAsNonRoot:!0,runAsUser:"1000"}),Fe=(0,t.Z)(ze,2),Ge=Fe[0],De=Fe[1],Te=(0,c.useState)(null),Me=(0,t.Z)(Te,2),Ve=Me[0],Be=Me[1],Le=(0,c.useState)(null),Oe=(0,t.Z)(Le,2),Ue=Oe[0],We=Oe[1],He=(0,c.useState)(null),Ye=(0,t.Z)(He,2),Qe=Ye[0],Je=Ye[1],Xe=(0,c.useState)(null),$e=(0,t.Z)(Xe,2),en=$e[0],nn=$e[1],ln=(0,c.useState)(null),tn=(0,t.Z)(ln,2),rn=tn[0],an=tn[1],on=(0,c.useState)(!1),dn=(0,t.Z)(on,2),sn=dn[0],cn=dn[1],un=(0,c.useState)(!1),vn=(0,t.Z)(un,2),mn=vn[0],pn=vn[1],Zn=(0,c.useState)(null),xn=(0,t.Z)(Zn,2),gn=xn[0],yn=xn[1],fn=(0,c.useState)(null),_n=(0,t.Z)(fn,2),hn=_n[0],jn=_n[1],kn=(0,c.useState)(null),bn=(0,t.Z)(kn,2),Cn=bn[0],Pn=bn[1],wn=(0,c.useState)([]),Sn=(0,t.Z)(wn,2),Kn=Sn[0],In=Sn[1],An=(0,c.useState)(!1),En=(0,t.Z)(An,2),Nn=En[0],qn=En[1],Rn=(0,c.useState)(!1),zn=(0,t.Z)(Rn,2),Fn=zn[0],Gn=zn[1],Dn=(0,c.useState)(!1),Tn=(0,t.Z)(Dn,2),Mn=Tn[0],Vn=Tn[1],Bn=(0,c.useState)(null),Ln=(0,t.Z)(Bn,2),On=Ln[0],Un=Ln[1],Wn=(0,c.useState)(null),Hn=(0,t.Z)(Wn,2),Yn=Hn[0],Qn=Hn[1],Jn=(0,c.useState)(null),Xn=(0,t.Z)(Jn,2),$n=Xn[0],ei=Xn[1],ni=(0,c.useState)(null),ii=(0,t.Z)(ni,2),li=ii[0],ti=ii[1],ri=(0,c.useState)(null),ai=(0,t.Z)(ri,2),oi=ai[0],di=ai[1],si=(0,c.useState)({}),ci=(0,t.Z)(si,2),ui=ci[0],vi=ci[1],mi=function(e){vi((0,j.he)(ui,e))},pi=(0,c.useState)(!1),Zi=(0,t.Z)(pi,2),xi=Zi[0],gi=Zi[1];(0,c.useEffect)((function(){var e=[];if(ye){var n,i,t,r,a,o,d,s,c,u,v,m,p,Z,x,g,y,f,_,h,j,b,C,P,w,S,K,I;if(e=[].concat((0,l.Z)(e),[{fieldKey:"replicas",required:!0,value:Pe,customValidation:parseInt(Pe)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:Ge.runAsUser,customValidation:""===Ge.runAsUser||parseInt(Ge.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:Ge.runAsGroup,customValidation:""===Ge.runAsGroup||parseInt(Ge.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:Ge.fsGroup,customValidation:""===Ge.fsGroup||parseInt(Ge.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),sn&&(e=[].concat((0,l.Z)(e),[{fieldKey:"serverKey",required:!1,value:(null===li||void 0===li?void 0:li.encoded_key)||""},{fieldKey:"serverCert",required:!1,value:(null===li||void 0===li?void 0:li.encoded_cert)||""},{fieldKey:"clientKey",required:!1,value:(null===Cn||void 0===Cn?void 0:Cn.encoded_key)||""},{fieldKey:"clientCert",required:!1,value:(null===Cn||void 0===Cn?void 0:Cn.encoded_cert)||""}])),"vault"===je)e=[].concat((0,l.Z)(e),[{fieldKey:"vault_endpoint",required:!0,value:null===Ve||void 0===Ve?void 0:Ve.endpoint},{fieldKey:"vault_id",required:!0,value:null===Ve||void 0===Ve||null===(n=Ve.approle)||void 0===n?void 0:n.id},{fieldKey:"vault_secret",required:!0,value:null===Ve||void 0===Ve||null===(i=Ve.approle)||void 0===i?void 0:i.secret},{fieldKey:"vault_ping",required:!1,value:null===Ve||void 0===Ve||null===(t=Ve.status)||void 0===t?void 0:t.ping,customValidation:parseInt(null===Ve||void 0===Ve||null===(r=Ve.status)||void 0===r?void 0:r.ping)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:null===Ve||void 0===Ve||null===(a=Ve.approle)||void 0===a?void 0:a.retry,customValidation:parseInt(null===Ve||void 0===Ve||null===(o=Ve.approle)||void 0===o?void 0:o.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}]);if("aws"===je)e=[].concat((0,l.Z)(e),[{fieldKey:"aws_endpoint",required:!0,value:null===Ue||void 0===Ue||null===(d=Ue.secretsmanager)||void 0===d?void 0:d.endpoint},{fieldKey:"aws_region",required:!0,value:null===Ue||void 0===Ue||null===(s=Ue.secretsmanager)||void 0===s?void 0:s.region},{fieldKey:"aws_accessKey",required:!0,value:null===Ue||void 0===Ue||null===(c=Ue.secretsmanager)||void 0===c||null===(u=c.credentials)||void 0===u?void 0:u.accesskey},{fieldKey:"aws_secretKey",required:!0,value:null===Ue||void 0===Ue||null===(v=Ue.secretsmanager)||void 0===v||null===(m=v.credentials)||void 0===m?void 0:m.secretkey}]);if("gemalto"===je)e=[].concat((0,l.Z)(e),[{fieldKey:"gemalto_endpoint",required:!0,value:null===Qe||void 0===Qe||null===(p=Qe.keysecure)||void 0===p?void 0:p.endpoint},{fieldKey:"gemalto_token",required:!0,value:null===Qe||void 0===Qe||null===(Z=Qe.keysecure)||void 0===Z||null===(x=Z.credentials)||void 0===x?void 0:x.token},{fieldKey:"gemalto_domain",required:!0,value:null===Qe||void 0===Qe||null===(g=Qe.keysecure)||void 0===g||null===(y=g.credentials)||void 0===y?void 0:y.domain},{fieldKey:"gemalto_retry",required:!1,value:null===Qe||void 0===Qe||null===(f=Qe.keysecure)||void 0===f||null===(_=f.credentials)||void 0===_?void 0:_.retry,customValidation:parseInt(null===Qe||void 0===Qe||null===(h=Qe.keysecure)||void 0===h||null===(j=h.credentials)||void 0===j?void 0:j.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}]);if("azure"===je)e=[].concat((0,l.Z)(e),[{fieldKey:"azure_endpoint",required:!0,value:null===en||void 0===en||null===(b=en.keyvault)||void 0===b?void 0:b.endpoint},{fieldKey:"azure_tenant_id",required:!0,value:null===en||void 0===en||null===(C=en.keyvault)||void 0===C||null===(P=C.credentials)||void 0===P?void 0:P.tenant_id},{fieldKey:"azure_client_id",required:!0,value:null===en||void 0===en||null===(w=en.keyvault)||void 0===w||null===(S=w.credentials)||void 0===S?void 0:S.client_id},{fieldKey:"azure_client_secret",required:!0,value:null===en||void 0===en||null===(K=en.keyvault)||void 0===K||null===(I=K.credentials)||void 0===I?void 0:I.client_secret}])}var A=(0,k.R)(e);Gn(0===Object.keys(A).length),vi(A)}),[sn,ye,je,null===li||void 0===li?void 0:li.encoded_key,null===li||void 0===li?void 0:li.encoded_cert,null===Cn||void 0===Cn?void 0:Cn.encoded_key,null===Cn||void 0===Cn?void 0:Cn.encoded_cert,null===$n||void 0===$n?void 0:$n.encoded_key,null===$n||void 0===$n?void 0:$n.encoded_cert,null===oi||void 0===oi?void 0:oi.encoded_key,null===oi||void 0===oi?void 0:oi.encoded_cert,Ge,Ve,Ue,Qe,en,rn,Pe]);var yi=function(){qe||(Re(!0),m.Z.invoke("GET","/api/v1/namespaces/".concat(null===oe||void 0===oe?void 0:oe.namespace,"/tenants/").concat(null===oe||void 0===oe?void 0:oe.name,"/encryption")).then((function(e){Ze(e.raw),e.vault?(ke("vault"),Be(e.vault)):e.aws?(ke("aws"),We(e.aws)):e.gemalto?(ke("gemalto"),Je(e.gemalto)):e.gcp?(ke("gcp"),an(e.gcp)):e.azure&&(ke("azure"),nn(e.azure)),fe(!0),Ae(e.image),we(e.replicas),e.securityContext&&De(e.securityContext),(e.server_tls||e.minio_mtls||e.kms_mtls)&&cn(!0),e.server_tls&&yn(e.server_tls),e.minio_mtls&&jn(e.minio_mtls),e.kms_mtls&&(Un(e.kms_mtls.crt),Qn(e.kms_mtls.ca)),Re(!1)})).catch((function(e){console.error(e),Re(!1)})))};(0,c.useEffect)((function(){yi()}),[]);var fi=function(e){In([].concat((0,l.Z)(Kn),[e.name])),e.name===(null===gn||void 0===gn?void 0:gn.name)&&yn(null),e.name===(null===hn||void 0===hn?void 0:hn.name)&&jn(null),e.name===(null===On||void 0===On?void 0:On.name)&&Un(null),e.name===(null===Yn||void 0===Yn?void 0:Yn.name)&&Qn(null)};return(0,A.jsxs)(c.Fragment,{children:[xi&&(0,A.jsx)(b.Z,{isOpen:xi,title:ye?"Enable encryption at rest for tenant?":"Disable encryption at rest for tenant?",confirmText:ye?"Enable":"Disable",cancelText:"Cancel",onClose:function(){return gi(!1)},onConfirm:function(){var e,n,i,l,t,a,o,d,s,c,u,v,p,Z,x,g,y,f,_,h,j,k,b,C,P,S,K,I,A,E,N,q,R,z,F,G,D,T;if(ye){var M={};switch(je){case"gemalto":M={gemalto:{keysecure:{endpoint:(null===Qe||void 0===Qe||null===(e=Qe.keysecure)||void 0===e?void 0:e.endpoint)||"",credentials:{token:(null===Qe||void 0===Qe||null===(n=Qe.keysecure)||void 0===n||null===(i=n.credentials)||void 0===i?void 0:i.token)||"",domain:(null===Qe||void 0===Qe||null===(l=Qe.keysecure)||void 0===l||null===(t=l.credentials)||void 0===t?void 0:t.domain)||"",retry:parseInt(null===Qe||void 0===Qe||null===(a=Qe.keysecure)||void 0===a||null===(o=a.credentials)||void 0===o?void 0:o.retry)}}}};break;case"aws":M={aws:{secretsmanager:{endpoint:(null===Ue||void 0===Ue||null===(d=Ue.secretsmanager)||void 0===d?void 0:d.endpoint)||"",region:(null===Ue||void 0===Ue||null===(s=Ue.secretsmanager)||void 0===s?void 0:s.region)||"",kmskey:(null===Ue||void 0===Ue||null===(c=Ue.secretsmanager)||void 0===c?void 0:c.kmskey)||"",credentials:{accesskey:(null===Ue||void 0===Ue||null===(u=Ue.secretsmanager)||void 0===u||null===(v=u.credentials)||void 0===v?void 0:v.accesskey)||"",secretkey:(null===Ue||void 0===Ue||null===(p=Ue.secretsmanager)||void 0===p||null===(Z=p.credentials)||void 0===Z?void 0:Z.secretkey)||"",token:(null===Ue||void 0===Ue||null===(x=Ue.secretsmanager)||void 0===x||null===(g=x.credentials)||void 0===g?void 0:g.token)||""}}}};break;case"azure":M={azure:{keyvault:{endpoint:(null===en||void 0===en||null===(y=en.keyvault)||void 0===y?void 0:y.endpoint)||"",credentials:{tenant_id:(null===en||void 0===en||null===(f=en.keyvault)||void 0===f||null===(_=f.credentials)||void 0===_?void 0:_.tenant_id)||"",client_id:(null===en||void 0===en||null===(h=en.keyvault)||void 0===h||null===(j=h.credentials)||void 0===j?void 0:j.client_id)||"",client_secret:(null===en||void 0===en||null===(k=en.keyvault)||void 0===k||null===(b=k.credentials)||void 0===b?void 0:b.client_secret)||""}}}};break;case"gcp":M={gcp:{secretmanager:{project_id:(null===rn||void 0===rn||null===(C=rn.secretmanager)||void 0===C?void 0:C.project_id)||"",endpoint:(null===rn||void 0===rn||null===(P=rn.secretmanager)||void 0===P?void 0:P.endpoint)||"",credentials:{client_email:(null===rn||void 0===rn||null===(S=rn.secretmanager)||void 0===S||null===(K=S.credentials)||void 0===K?void 0:K.client_email)||"",client_id:(null===rn||void 0===rn||null===(I=rn.secretmanager)||void 0===I||null===(A=I.credentials)||void 0===A?void 0:A.client_id)||"",private_key_id:(null===rn||void 0===rn||null===(E=rn.secretmanager)||void 0===E||null===(N=E.credentials)||void 0===N?void 0:N.private_key_id)||"",private_key:(null===rn||void 0===rn||null===(q=rn.secretmanager)||void 0===q||null===(R=q.credentials)||void 0===R?void 0:R.private_key)||""}}}};break;case"vault":M={vault:{endpoint:(null===Ve||void 0===Ve?void 0:Ve.endpoint)||"",engine:(null===Ve||void 0===Ve?void 0:Ve.engine)||"",namespace:(null===Ve||void 0===Ve?void 0:Ve.namespace)||"",prefix:(null===Ve||void 0===Ve?void 0:Ve.prefix)||"",approle:{engine:(null===Ve||void 0===Ve||null===(z=Ve.approle)||void 0===z?void 0:z.engine)||"",id:(null===Ve||void 0===Ve||null===(F=Ve.approle)||void 0===F?void 0:F.id)||"",secret:(null===Ve||void 0===Ve||null===(G=Ve.approle)||void 0===G?void 0:G.secret)||"",retry:parseInt(null===Ve||void 0===Ve||null===(D=Ve.approle)||void 0===D?void 0:D.retry)},status:{ping:parseInt(null===Ve||void 0===Ve||null===(T=Ve.status)||void 0===T?void 0:T.ping)}}}}var V={},B={},L={};null!==Cn&&void 0!==Cn&&Cn.encoded_key&&null!==Cn&&void 0!==Cn&&Cn.encoded_cert&&(B={minio_mtls:{key:null===Cn||void 0===Cn?void 0:Cn.encoded_key,crt:null===Cn||void 0===Cn?void 0:Cn.encoded_cert}}),null!==li&&void 0!==li&&li.encoded_key&&null!==li&&void 0!==li&&li.encoded_cert&&(V={server_tls:{key:null===li||void 0===li?void 0:li.encoded_key,crt:null===li||void 0===li?void 0:li.encoded_cert}});var O=null,U=null;null!==$n&&void 0!==$n&&$n.encoded_key&&null!==$n&&void 0!==$n&&$n.encoded_cert&&(O={key:null===$n||void 0===$n?void 0:$n.encoded_key,crt:null===$n||void 0===$n?void 0:$n.encoded_cert}),null!==oi&&void 0!==oi&&oi.encoded_cert&&(U={ca:null===oi||void 0===oi?void 0:oi.encoded_cert}),(O||U)&&(L={kms_mtls:(0,r.Z)((0,r.Z)({},O),U)});var W=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({raw:ce?pe:"",secretsToBeDeleted:Kn||[],replicas:Pe,securityContext:Ge,image:Ie},B),V),L),M);mn||(pn(!0),m.Z.invoke("PUT","/api/v1/namespaces/".concat(null===oe||void 0===oe?void 0:oe.namespace,"/tenants/").concat(null===oe||void 0===oe?void 0:oe.name,"/encryption"),W).then((function(){gi(!1),pn(!1),yi()})).catch((function(e){pn(!1),ae((0,w.Ih)(e))})))}else mn||(pn(!0),m.Z.invoke("DELETE","/api/v1/namespaces/".concat(null===oe||void 0===oe?void 0:oe.namespace,"/tenants/").concat(null===oe||void 0===oe?void 0:oe.name,"/encryption"),{}).then((function(){gi(!1),pn(!1),yi()})).catch((function(e){pn(!1),ae((0,w.Ih)(e))})))},confirmationContent:(0,A.jsx)(f.Z,{children:ye?"Data will be encrypted using and external KMS":"Current encrypted information will not be accessible"})}),(0,A.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,A.jsx)(Z.ZP,{item:!0,xs:!0,children:(0,A.jsx)("h1",{className:re.sectionTitle,children:"Encryption"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,A.jsx)(p.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:ye,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:function(){fe(!ye)},description:""})}),(0,A.jsx)(Z.ZP,{xs:12,children:(0,A.jsx)("hr",{className:re.hrClass})}),ye&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsxs)(S.Z,{value:ce,onChange:function(e,n){ue(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,A.jsx)(K.Z,{id:"kms-options",label:"Options"}),(0,A.jsx)(K.Z,{id:"kms-raw-configuration",label:"Raw Edit"})]})}),ce?(0,A.jsx)(c.Fragment,{children:(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(I.Z,{value:pe,mode:"yaml",onBeforeChange:function(e,n,i){Ze(i)},editorHeight:"550px"})})}):(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,className:re.encryptionTypeOptions,children:(0,A.jsx)(y.Z,{currentSelection:je,id:"encryptionType",name:"encryptionType",label:"KMS",onChange:function(e){ke(e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===je&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{endpoint:e.target.value}))},label:"Endpoint",value:(null===Ve||void 0===Ve?void 0:Ve.endpoint)||"",error:ui.vault_ping||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"vault_engine",name:"vault_engine",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{engine:e.target.value}))},label:"Engine",value:(null===Ve||void 0===Ve?void 0:Ve.engine)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{namespace:e.target.value}))},label:"Namespace",value:(null===Ve||void 0===Ve?void 0:Ve.namespace)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{prefix:e.target.value}))},label:"Prefix",value:(null===Ve||void 0===Ve?void 0:Ve.prefix)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"App Role"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{approle:(0,r.Z)((0,r.Z)({},null===Ve||void 0===Ve?void 0:Ve.approle),{},{engine:e.target.value})}))},label:"Engine",value:(null===Ve||void 0===Ve||null===(n=Ve.approle)||void 0===n?void 0:n.engine)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:Nn?"text":"password",id:"vault_id",name:"vault_id",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{approle:(0,r.Z)((0,r.Z)({},null===Ve||void 0===Ve?void 0:Ve.approle),{},{id:e.target.value})}))},label:"AppRole ID",value:(null===Ve||void 0===Ve||null===(i=Ve.approle)||void 0===i?void 0:i.id)||"",required:!0,error:ui.vault_id||"",overlayIcon:Nn?(0,A.jsx)(_.Z,{}):(0,A.jsx)(h.Z,{}),overlayAction:function(){return qn(!Nn)}})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:Mn?"text":"password",id:"vault_secret",name:"vault_secret",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{approle:(0,r.Z)((0,r.Z)({},null===Ve||void 0===Ve?void 0:Ve.approle),{},{secret:e.target.value})}))},label:"AppRole Secret",value:(null===Ve||void 0===Ve||null===(o=Ve.approle)||void 0===o?void 0:o.secret)||"",required:!0,error:ui.vault_secret||"",overlayIcon:Mn?(0,A.jsx)(_.Z,{}):(0,A.jsx)(h.Z,{}),overlayAction:function(){return Vn(!Mn)}})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{approle:(0,r.Z)((0,r.Z)({},null===Ve||void 0===Ve?void 0:Ve.approle),{},{retry:e.target.value})}))},label:"Retry (Seconds)",error:ui.vault_retry||"",value:(null===Ve||void 0===Ve||null===(d=Ve.approle)||void 0===d?void 0:d.retry)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Status"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){return Be((0,r.Z)((0,r.Z)({},Ve),{},{status:(0,r.Z)((0,r.Z)({},null===Ve||void 0===Ve?void 0:Ve.status),{},{ping:e.target.value})}))},label:"Ping (Seconds)",error:ui.vault_ping||"",value:(null===Ve||void 0===Ve||null===(s=Ve.status)||void 0===s?void 0:s.ping)||""})})]}),"azure"===je&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){return nn((0,r.Z)((0,r.Z)({},en),{},{keyvault:(0,r.Z)((0,r.Z)({},null===en||void 0===en?void 0:en.keyvault),{},{endpoint:e.target.value})}))},label:"Endpoint",error:ui.azure_endpoint||"",value:(null===en||void 0===en||null===(E=en.keyvault)||void 0===E?void 0:E.endpoint)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Credentials"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){var n;return nn((0,r.Z)((0,r.Z)({},en),{},{keyvault:(0,r.Z)((0,r.Z)({},null===en||void 0===en?void 0:en.keyvault),{},{credentials:(0,r.Z)((0,r.Z)({},null===en||void 0===en||null===(n=en.keyvault)||void 0===n?void 0:n.credentials),{},{tenant_id:e.target.value})})}))},label:"Tenant ID",value:(null===en||void 0===en||null===(N=en.keyvault)||void 0===N||null===(q=N.credentials)||void 0===q?void 0:q.tenant_id)||"",error:ui.azure_tenant_id||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){var n;return nn((0,r.Z)((0,r.Z)({},en),{},{keyvault:(0,r.Z)((0,r.Z)({},null===en||void 0===en?void 0:en.keyvault),{},{credentials:(0,r.Z)((0,r.Z)({},null===en||void 0===en||null===(n=en.keyvault)||void 0===n?void 0:n.credentials),{},{client_id:e.target.value})})}))},label:"Client ID",value:(null===en||void 0===en||null===(R=en.keyvault)||void 0===R||null===(z=R.credentials)||void 0===z?void 0:z.client_id)||"",error:ui.azure_client_id||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){var n;return nn((0,r.Z)((0,r.Z)({},en),{},{keyvault:(0,r.Z)((0,r.Z)({},null===en||void 0===en?void 0:en.keyvault),{},{credentials:(0,r.Z)((0,r.Z)({},null===en||void 0===en||null===(n=en.keyvault)||void 0===n?void 0:n.credentials),{},{client_secret:e.target.value})})}))},label:"Client Secret",value:(null===en||void 0===en||null===(F=en.keyvault)||void 0===F||null===(G=F.credentials)||void 0===G?void 0:G.client_secret)||"",error:ui.azure_client_secret||""})})]}),"gcp"===je&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{project_id:e.target.value})}))},label:"Project ID",value:(null===rn||void 0===rn?void 0:rn.secretmanager.project_id)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===rn||void 0===rn?void 0:rn.secretmanager.endpoint)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Credentials"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager.credentials),{},{client_email:e.target.value})})}))},label:"Client Email",value:(null===rn||void 0===rn||null===(D=rn.secretmanager.credentials)||void 0===D?void 0:D.client_email)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager.credentials),{},{client_id:e.target.value})})}))},label:"Client ID",value:(null===rn||void 0===rn||null===(T=rn.secretmanager.credentials)||void 0===T?void 0:T.client_id)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager.credentials),{},{private_key_id:e.target.value})})}))},label:"Private Key ID",value:(null===rn||void 0===rn||null===(M=rn.secretmanager.credentials)||void 0===M?void 0:M.private_key_id)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){return an((0,r.Z)((0,r.Z)({},rn),{},{secretmanager:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===rn||void 0===rn?void 0:rn.secretmanager.credentials),{},{private_key:e.target.value})})}))},label:"Private Key",value:(null===rn||void 0===rn||null===(V=rn.secretmanager.credentials)||void 0===V?void 0:V.private_key)||""})})]}),"aws"===je&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===Ue||void 0===Ue||null===(B=Ue.secretsmanager)||void 0===B?void 0:B.endpoint)||"",required:!0,error:ui.aws_endpoint||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_region",name:"aws_region",onChange:function(e){return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{region:e.target.value})}))},label:"Region",value:(null===Ue||void 0===Ue||null===(L=Ue.secretsmanager)||void 0===L?void 0:L.region)||"",error:ui.aws_region||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{kmskey:e.target.value})}))},label:"KMS Key",value:(null===Ue||void 0===Ue||null===(O=Ue.secretsmanager)||void 0===O?void 0:O.kmskey)||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Credentials"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){var n;return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue||null===(n=Ue.secretsmanager)||void 0===n?void 0:n.credentials),{},{accesskey:e.target.value})})}))},label:"Access Key",value:(null===Ue||void 0===Ue||null===(U=Ue.secretsmanager)||void 0===U||null===(W=U.credentials)||void 0===W?void 0:W.accesskey)||"",error:ui.aws_accessKey||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){var n;return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue||null===(n=Ue.secretsmanager)||void 0===n?void 0:n.credentials),{},{secretkey:e.target.value})})}))},label:"Secret Key",value:(null===Ue||void 0===Ue||null===(H=Ue.secretsmanager)||void 0===H||null===(Y=H.credentials)||void 0===Y?void 0:Y.secretkey)||"",error:ui.aws_secretKey||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"aws_token",name:"aws_token",onChange:function(e){var n;return We((0,r.Z)((0,r.Z)({},Ue),{},{secretsmanager:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue?void 0:Ue.secretsmanager),{},{credentials:(0,r.Z)((0,r.Z)({},null===Ue||void 0===Ue||null===(n=Ue.secretsmanager)||void 0===n?void 0:n.credentials),{},{token:e.target.value})})}))},label:"Token",value:(null===Ue||void 0===Ue||null===(Q=Ue.secretsmanager)||void 0===Q||null===(J=Q.credentials)||void 0===J?void 0:J.token)||""})})]}),"gemalto"===je&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){return Je((0,r.Z)((0,r.Z)({},Qe),{},{keysecure:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe?void 0:Qe.keysecure),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===Qe||void 0===Qe||null===(X=Qe.keysecure)||void 0===X?void 0:X.endpoint)||"",error:ui.gemalto_endpoint||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Credentials"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){var n;return Je((0,r.Z)((0,r.Z)({},Qe),{},{keysecure:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe?void 0:Qe.keysecure),{},{credentials:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe||null===(n=Qe.keysecure)||void 0===n?void 0:n.credentials),{},{token:e.target.value})})}))},label:"Token",value:(null===Qe||void 0===Qe||null===($=Qe.keysecure)||void 0===$||null===(ee=$.credentials)||void 0===ee?void 0:ee.token)||"",error:ui.gemalto_token||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){var n;return Je((0,r.Z)((0,r.Z)({},Qe),{},{keysecure:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe?void 0:Qe.keysecure),{},{credentials:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe||null===(n=Qe.keysecure)||void 0===n?void 0:n.credentials),{},{domain:e.target.value})})}))},label:"Domain",value:(null===Qe||void 0===Qe||null===(ne=Qe.keysecure)||void 0===ne||null===(ie=ne.credentials)||void 0===ie?void 0:ie.domain)||"",error:ui.gemalto_domain||"",required:!0})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){var n;return Je((0,r.Z)((0,r.Z)({},Qe),{},{keysecure:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe?void 0:Qe.keysecure),{},{credentials:(0,r.Z)((0,r.Z)({},null===Qe||void 0===Qe||null===(n=Qe.keysecure)||void 0===n?void 0:n.credentials),{},{retry:e.target.value})})}))},label:"Retry (seconds)",value:(null===Qe||void 0===Qe||null===(le=Qe.keysecure)||void 0===le||null===(te=le.credentials)||void 0===te?void 0:te.retry)||"",error:ui.gemalto_retry||""})})]})]}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"Additional Configuration for KES"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(p.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:sn,onChange:function(){return cn(!sn)},label:"Custom Certificates"})}),sn&&(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:re.fieldGroup,children:[(0,A.jsx)("legend",{className:re.descriptionText,children:"Encryption server certificates"}),gn?(0,A.jsx)(C.Z,{certificateInfo:gn,onDelete:function(){return fi(gn)}}):(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(x.Z,{onChange:function(e,n){ti({encoded_key:e||"",id:(null===li||void 0===li?void 0:li.id)||"",key:n||"",cert:(null===li||void 0===li?void 0:li.cert)||"",encoded_cert:(null===li||void 0===li?void 0:li.encoded_cert)||""}),mi("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",value:null===li||void 0===li?void 0:li.key}),(0,A.jsx)(x.Z,{onChange:function(e,n){ti({encoded_key:(null===li||void 0===li?void 0:li.encoded_key)||"",id:(null===li||void 0===li?void 0:li.id)||"",key:(null===li||void 0===li?void 0:li.key)||"",cert:n||"",encoded_cert:e||""}),mi("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",value:null===li||void 0===li?void 0:li.cert})]})]})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:re.fieldGroup,children:[(0,A.jsx)("legend",{className:re.descriptionText,children:"MinIO mTLS certificates (connection between MinIO and the Encryption server)"}),hn?(0,A.jsx)(C.Z,{certificateInfo:hn,onDelete:function(){return fi(hn)}}):(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(x.Z,{onChange:function(e,n){Pn({encoded_key:e||"",id:(null===Cn||void 0===Cn?void 0:Cn.id)||"",key:n||"",cert:(null===Cn||void 0===Cn?void 0:Cn.cert)||"",encoded_cert:(null===Cn||void 0===Cn?void 0:Cn.encoded_cert)||""}),mi("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",value:null===Cn||void 0===Cn?void 0:Cn.key}),(0,A.jsx)(x.Z,{onChange:function(e,n){Pn({encoded_key:(null===Cn||void 0===Cn?void 0:Cn.encoded_key)||"",id:(null===Cn||void 0===Cn?void 0:Cn.id)||"",key:(null===Cn||void 0===Cn?void 0:Cn.key)||"",cert:n||"",encoded_cert:e||""}),mi("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",value:null===Cn||void 0===Cn?void 0:Cn.cert})]})]})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:re.fieldGroup,children:[(0,A.jsx)("legend",{className:re.descriptionText,children:"KMS mTLS certificates (connection between the Encryption server and the KMS)"}),On?(0,A.jsx)(C.Z,{certificateInfo:On,onDelete:function(){return fi(On)}}):(0,A.jsxs)(c.Fragment,{children:[(0,A.jsx)(x.Z,{onChange:function(e,n){ei({encoded_key:e||"",id:(null===$n||void 0===$n?void 0:$n.id)||"",key:n||"",cert:(null===$n||void 0===$n?void 0:$n.cert)||"",encoded_cert:(null===$n||void 0===$n?void 0:$n.encoded_cert)||""})},accept:".key,.pem",id:"kms_mtls_key",name:"kms_mtls_key",label:"Key",value:null===$n||void 0===$n?void 0:$n.key}),(0,A.jsx)(x.Z,{onChange:function(e,n){return ei({encoded_key:(null===$n||void 0===$n?void 0:$n.encoded_key)||"",id:(null===$n||void 0===$n?void 0:$n.id)||"",key:(null===$n||void 0===$n?void 0:$n.key)||"",cert:n||"",encoded_cert:e||""})},accept:".cer,.crt,.cert,.pem",id:"kms_mtls_cert",name:"kms_mtls_cert",label:"Cert",value:(null===$n||void 0===$n?void 0:$n.cert)||""})]}),Yn?(0,A.jsx)(C.Z,{certificateInfo:Yn,onDelete:function(){return fi(Yn)}}):(0,A.jsx)(x.Z,{onChange:function(e,n){return di({encoded_key:(null===oi||void 0===oi?void 0:oi.encoded_key)||"",id:(null===oi||void 0===oi?void 0:oi.id)||"",key:(null===oi||void 0===oi?void 0:oi.key)||"",cert:n||"",encoded_cert:e||""})},accept:".cer,.crt,.cert,.pem",id:"kms_mtls_ca",name:"kms_mtls_ca",label:"CA",value:(null===oi||void 0===oi?void 0:oi.cert)||""})]})})]}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:"text",id:"image",name:"image",onChange:function(e){return Ae(e.target.value)},label:"Image",placeholder:"minio/kes:v0.17.6",value:Ie})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(g.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){return we(e.target.value)},label:"Replicas",value:Pe,required:!0,error:ui.replicas||""})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(P.Z,{children:"SecurityContext for KES"})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsxs)("div",{className:"".concat(re.multiContainer," ").concat(re.responsiveContainer),children:[(0,A.jsx)("div",{className:"".concat(re.formFieldRow," ").concat(re.rightSpacer),children:(0,A.jsx)(g.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){De((0,r.Z)((0,r.Z)({},Ge),{},{runAsUser:e.target.value}))},label:"Run As User",value:Ge.runAsUser,required:!0,error:ui.kes_securityContext_runAsUser||"",min:"0"})}),(0,A.jsx)("div",{className:"".concat(re.formFieldRow," ").concat(re.rightSpacer),children:(0,A.jsx)(g.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){De((0,r.Z)((0,r.Z)({},Ge),{},{runAsGroup:e.target.value}))},label:"Run As Group",value:Ge.runAsGroup,required:!0,error:ui.kes_securityContext_runAsGroup||"",min:"0"})}),(0,A.jsx)("div",{className:"".concat(re.formFieldRow," ").concat(re.rightSpacer),children:(0,A.jsx)(g.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){De((0,r.Z)((0,r.Z)({},Ge),{},{fsGroup:e.target.value}))},label:"FsGroup",value:Ge.fsGroup,required:!0,error:ui.kes_securityContext_fsGroup||"",min:"0"})})]})}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,children:(0,A.jsx)(p.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:Ge.runAsNonRoot,onChange:function(e){var n=e.target.checked;De((0,r.Z)((0,r.Z)({},Ge),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})]}),(0,A.jsx)(Z.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,A.jsx)(a.zx,{id:"save-encryption",type:"submit",variant:"callAction",disabled:!Fn,onClick:function(){return gi(!0)},label:"Save"})})]})]})}))},22512:function(e,n,i){var l=i(72791),t=i(20890),r=i(11135),a=i(25787),o=i(80184);n.Z=(0,a.Z)((function(e){var n;return(0,r.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,i=e.errorMessage,r=e.withBreak,a=void 0===r||r;return(0,o.jsxs)(l.Fragment,{children:[a&&(0,o.jsx)("br",{}),(0,o.jsx)(t.Z,{component:"p",variant:"body1",className:n.errorBlock,children:i})]})}))},61120:function(e,n,i){function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}i.d(n,{Z:function(){return l}})},60136:function(e,n,i){i.d(n,{Z:function(){return t}});var l=i(89611);function t(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&(0,l.Z)(e,n)}},82963:function(e,n,i){i.d(n,{Z:function(){return r}});var l=i(71002),t=i(97326);function r(e,n){if(n&&("object"===(0,l.Z)(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,t.Z)(e)}}}]);
//# sourceMappingURL=9567.93e1e8a0.chunk.js.map