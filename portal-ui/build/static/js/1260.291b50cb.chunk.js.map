{"version":3,"file":"static/js/1260.291b50cb.chunk.js","mappings":"0OA0BA,MAiCA,EAjCmBA,KACjB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MA4BjB,OA3BAC,EAAAA,EAAAA,YAAU,KACOC,MACb,MAAMC,EAAgBA,MACpBC,EAAAA,EAAAA,MACAP,GAASQ,EAAAA,EAAAA,KAAW,IAGpBR,EAAS,CAAES,KAAM,wBAEjBC,aAAaC,QAAQ,eAAgB,IACrCD,aAAaC,QAAQ,gBAAiB,IACtCX,GAASY,EAAAA,EAAAA,OACTV,EAAS,SAAS,EAEdW,EAAQH,aAAaI,QAAQ,cACnCC,EAAAA,EACGC,OAAO,OAAO,iBAAmB,CAAEH,UACnCI,MAAK,KACJX,GAAe,IAEhBY,OAAOC,IACNC,QAAQC,MAAMF,GACdb,GAAe,GACf,EAEND,EAAQ,GACP,CAACL,EAAUE,KACPoB,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,GAAG,C","sources":["screens/LogoutPage/LogoutPage.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../store\";\nimport { ErrorResponseHandler } from \"../../common/types\";\nimport { clearSession } from \"../../common/utils\";\nimport { userLogged } from \"../../systemSlice\";\nimport { resetSession } from \"../Console/consoleSlice\";\nimport api from \"../../common/api\";\nimport LoadingComponent from \"../../common/LoadingComponent\";\n\nconst LogoutPage = () => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const logout = () => {\n      const deleteSession = () => {\n        clearSession();\n        dispatch(userLogged(false));\n\n        // Disconnect OB Websocket\n        dispatch({ type: \"socket/OBDisconnect\" });\n\n        localStorage.setItem(\"userLoggedIn\", \"\");\n        localStorage.setItem(\"redirect-path\", \"\");\n        dispatch(resetSession());\n        navigate(`/login`);\n      };\n      const state = localStorage.getItem(\"auth-state\");\n      api\n        .invoke(\"POST\", `/api/v1/logout`, { state })\n        .then(() => {\n          deleteSession();\n        })\n        .catch((err: ErrorResponseHandler) => {\n          console.error(err);\n          deleteSession();\n        });\n    };\n    logout();\n  }, [dispatch, navigate]);\n  return <LoadingComponent />;\n};\n\nexport default LogoutPage;\n"],"names":["LogoutPage","dispatch","useAppDispatch","navigate","useNavigate","useEffect","logout","deleteSession","clearSession","userLogged","type","localStorage","setItem","resetSession","state","getItem","api","invoke","then","catch","err","console","error","_jsx","LoadingComponent"],"sourceRoot":""}