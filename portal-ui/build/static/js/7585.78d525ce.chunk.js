"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7585],{75578:function(e,n,t){var a=t(1413),o=t(72791),r=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,r.jsx)(o.Suspense,{fallback:n,children:(0,r.jsx)(e,(0,a.Z)({},t))})}return t}},50276:function(e,n,t){var a=t(1413),o=t(29439),r=t(72791),i=t(64554),l=t(43896),s=t(83449),c=t(47283),u=t(82851),d=t(25787),p=t(13967),h=t(11135),m=t(95193),f=t(80184),A={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,h.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,h=void 0===d?"0":d,b=e.routes,g=e.isRouteTabs,v=r.useState(h),x=(0,o.Z)(v,2),E=x[0],N=x[1],T=(0,p.Z)(),Z=(0,m.Z)(T.breakpoints.down("md")),j=[],C=[];return n?(n.forEach((function(e){j.push(e.tabConfig),C.push(e.content)})),(0,f.jsx)(s.ZP,{value:"".concat(E),children:(0,f.jsxs)(i.Z,{className:t.tabsContainer,children:[(0,f.jsx)(i.Z,{className:t.tabsHeaderContainer,children:(0,f.jsx)(c.Z,{onChange:function(e,n){N(n)},orientation:Z?"horizontal":"vertical",variant:Z?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:j.map((function(e,n){return e?(0,f.jsx)(l.Z,(0,a.Z)((0,a.Z)({className:t.tabHeader,value:"".concat(n),style:A},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,f.jsxs)(i.Z,{className:t.tabContentContainer,children:[g?null:C.map((function(e,n){return(0,f.jsx)(u.Z,{classes:(0,a.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,f.jsx)("div",{className:t.tabPanel,children:b}):null]})]})})):null}))},77585:function(e,n,t){t.r(n);var a=t(37762),o=t(29439),r=t(1413),i=t(72791),l=t(60364),s=t(79271),c=t(91523),u=t(11135),d=t(25787),p=t(26181),h=t.n(p),m=t(61889),f=t(42649),A=t(75460),b=t(23814),g=t(81207),v=t(32291),x=t(92388),E=t(45248),N=t(14917),T=t(33548),Z=t(28789),j=t(88449),C=t(74794),y=t(84669),S=t(50276),P=t(85531),M=t(75578),_=t(56087),w=t(49724),z=t(80184),R=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5609),t.e(8138)]).then(t.bind(t,82859))}))),I=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(7757),t.e(6523),t.e(2011),t.e(3909),t.e(1030)]).then(t.bind(t,21353))}))),k=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(2426),t.e(6431),t.e(9145)]).then(t.bind(t,59145))}))),B=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(8735),t.e(2983),t.e(1379)]).then(t.bind(t,51379))}))),U=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(1501)]).then(t.bind(t,27331))}))),W=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(5026),t.e(9605)]).then(t.bind(t,69605))}))),D=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(3801),t.e(426)]).then(t.bind(t,426))}))),L=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(2878)]).then(t.bind(t,55521))}))),F=(0,M.Z)(i.lazy((function(){return t.e(8495).then(t.bind(t,48495))}))),O=(0,M.Z)(i.lazy((function(){return t.e(4934).then(t.bind(t,74934))}))),Y=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(3801),t.e(3518)]).then(t.bind(t,83518))}))),V=(0,M.Z)(i.lazy((function(){return t.e(7021).then(t.bind(t,37021))}))),H=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(2426),t.e(1918),t.e(6431),t.e(8396),t.e(2684)]).then(t.bind(t,12684))}))),G=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(2426),t.e(1918),t.e(6431),t.e(8396),t.e(6683)]).then(t.bind(t,76683))}))),Q=(0,M.Z)(i.lazy((function(){return t.e(8350).then(t.bind(t,78350))}))),$=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(3801),t.e(2676)]).then(t.bind(t,92676))}))),J=(0,M.Z)(i.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(5026),t.e(9449)]).then(t.bind(t,99449))}))),X=(0,l.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,selectedNamespace:e.tenants.tenantDetails.currentNamespace,tenantInfo:e.tenants.tenantDetails.tenantInfo}}),{setErrorSnackMessage:f.Ih,setSnackBarMessage:f.y1,setTenantDetailsLoad:A.V2,setTenantName:A.V7,setTenantInfo:A.fe});n.default=(0,d.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},b.oZ),{},{pageContainer:{border:"1px solid #EAEAEA",width:"100%",height:"100%"},contentSpacer:(0,r.Z)((0,r.Z)({},b.Bw.contentSpacer),{},{minHeight:400}),redState:{color:e.palette.error.main,"& .min-icon":{width:16,height:16}},yellowState:{color:e.palette.warning.main,"& .min-icon":{width:16,height:16}},greenState:{color:e.palette.success.main,"& .min-icon":{width:16,height:16}},greyState:{color:"grey","& .min-icon":{width:16,height:16}},healthStatusIcon:{position:"relative",fontSize:10,left:26,height:10,top:4}},(0,b.Bz)(e.spacing(4))),{},{tenantActionButton:{"& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}},"& .min-icon":{width:12,marginLeft:5,"@media (max-width: 900px)":{width:16,marginLeft:0}}},deleteBtn:{color:"#f44336",border:"1px solid rgba(244, 67, 54, 0.5)"}}))}))(X((function(e){var n=e.classes,t=e.match,r=e.history,l=e.loadingTenant,u=e.selectedTenant,d=e.tenantInfo,p=e.selectedNamespace,f=e.setErrorSnackMessage,A=e.setSnackBarMessage,b=e.setTenantDetailsLoad,M=e.setTenantName,X=e.setTenantInfo,q=(0,i.useState)(!1),K=(0,o.Z)(q,2),ee=K[0],ne=K[1],te=t.params.tenantName,ae=t.params.tenantNamespace,oe=(0,i.useState)(!1),re=(0,o.Z)(oe,2),ie=re[0],le=re[1];(0,i.useEffect)((function(){l||te===u&&ae===p||(M(te,ae),b(!0))}),[l,u,p,b,X,M,te,ae]),(0,i.useEffect)((function(){l&&g.Z.invoke("GET","/api/v1/namespaces/".concat(ae,"/tenants/").concat(te)).then((function(e){var n,t=e.pools?e.pools:[],o=0,r=0,i=0,l=(0,a.Z)(t);try{for(l.s();!(n=l.n()).done;){var s=n.value,c=s.volumes_per_server*s.servers*s.volume_configuration.size;s.label="pool-".concat(i),void 0!==s.name&&""!==s.name||(s.name=s.label),s.capacity=(0,E.ae)(c+""),s.volumes=s.servers*s.volumes_per_server,o+=s.servers,r+=s.volumes,i+=1}}catch(u){l.e(u)}finally{l.f()}e.total_instances=o,e.total_volumes=r,X(e),b(!1)})).catch((function(e){f(e),b(!1)}))}),[l,ae,te,X,b,f]);var se=h()(t,"path","/").split("/"),ce=se[se.length-1]||"summary";":podName"!==ce&&"pods"!==ce||(ce="pods");var ue=(0,i.useState)(ce),de=(0,o.Z)(ue,2),pe=de[0],he=de[1];(0,i.useEffect)((function(){he(ce)}),[ce]);var me,fe=function(e){return"/namespaces/".concat(ae,"/tenants/").concat(te,"/").concat(e)};return(0,z.jsxs)(i.Fragment,{children:[ee&&(0,z.jsx)(R,{open:ee,closeModalAndRefresh:function(){ne(!1),b(!0)},tenant:te,namespace:ae}),ie&&null!==d&&(0,z.jsx)(Q,{deleteOpen:ie,selectedTenant:d,closeDeleteModalAndRefresh:function(e){le(!1),e&&(A("Tenant Deleted"),r.push("/tenants"))}}),(0,z.jsx)(v.Z,{label:(0,z.jsx)(i.Fragment,{children:(0,z.jsx)(y.Z,{to:_.gA.TENANTS,label:"Tenants"})}),actions:(0,z.jsx)(i.Fragment,{})}),(0,z.jsxs)(C.Z,{className:n.pageContainer,children:[(0,z.jsx)(m.ZP,{item:!0,xs:12,children:(0,z.jsx)(N.Z,{icon:(0,z.jsxs)(i.Fragment,{children:[(0,z.jsx)("div",{className:n.healthStatusIcon,children:d&&d.status&&(0,z.jsx)("span",{className:(me=d.status.health_status,"red"===me?n.redState:"yellow"===me?n.yellowState:"green"===me?n.greenState:n.greyState),children:(0,z.jsx)(x.J$,{})})}),(0,z.jsx)(j.Z,{})]}),title:t.params.tenantName,subTitle:(0,z.jsxs)(i.Fragment,{children:["Namespace: ",ae," / Capacity:"," ",(0,E.ae)(((null===d||void 0===d?void 0:d.total_size)||0).toString(10))]}),actions:(0,z.jsxs)("div",{children:[(0,z.jsxs)(P.Z,{tooltip:"Delete",variant:"outlined","aria-label":"Delete",onClick:function(){le(!0)},color:"secondary",classes:{root:"".concat(n.tenantActionButton," ").concat(n.deleteBtn)},size:"large",children:[(0,z.jsx)("span",{children:"Delete"})," ",(0,z.jsx)(x.XH,{})]}),(0,z.jsxs)(P.Z,{classes:{root:n.tenantActionButton},tooltip:"Edit YAML",color:"primary",variant:"outlined","aria-label":"Edit YAML",onClick:function(){ne(!0)},size:"large",children:[(0,z.jsx)("span",{children:"YAML"}),(0,z.jsx)(T.Z,{})]}),(0,z.jsxs)(P.Z,{classes:{root:n.tenantActionButton},tooltip:"Management Console",onClick:function(){r.push("/namespaces/".concat(ae,"/tenants/").concat(te,"/hop"))},disabled:!d||!(0,w.Yk)(d),variant:"outlined",color:"primary",children:[(0,z.jsx)("span",{children:"Console"})," ",(0,z.jsx)(x.YE,{style:{height:16}})]}),(0,z.jsxs)(P.Z,{classes:{root:n.tenantActionButton},tooltip:"Refresh",color:"primary",variant:"outlined","aria-label":"Refresh List",onClick:function(){b(!0)},children:[(0,z.jsx)("span",{children:"Refresh"})," ",(0,z.jsx)(Z.default,{})]})]})})}),(0,z.jsxs)(S.Z,{selectedTab:pe,isRouteTabs:!0,routes:(0,z.jsx)("div",{className:n.contentSpacer,children:(0,z.jsx)(s.F0,{history:r,children:(0,z.jsxs)(s.rs,{children:[(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_SUMMARY,component:I}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_METRICS,component:F}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_TRACE,component:O}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_IDENTITY_PROVIDER,component:V}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_SECURITY,component:H}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_ENCRYPTION,component:G}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_POOLS,component:B}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_PODS,component:$}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_PODS_LIST,component:U}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_PVCS,component:Y}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_VOLUMES,component:L}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_LICENSE,component:k}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_MONITORING,component:J}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_LOGGING,component:W}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT_EVENTS,component:D}),(0,z.jsx)(s.AW,{path:_.gA.NAMESPACE_TENANT,component:function(){return(0,z.jsx)(s.l_,{to:"/namespaces/".concat(ae,"/tenants/").concat(te,"/summary")})}})]})})}),children:[{tabConfig:{label:"Summary",value:"summary",component:c.rU,to:fe("summary")}},{tabConfig:{label:"Metrics",value:"metrics",component:c.rU,to:fe("metrics")}},{tabConfig:{label:"Identity Provider",value:"identity-provider",component:c.rU,to:fe("identity-provider")}},{tabConfig:{label:"Security",value:"security",component:c.rU,to:fe("security")}},{tabConfig:{label:"Encryption",value:"encryption",component:c.rU,to:fe("encryption")}},{tabConfig:{label:"Pools",value:"pools",component:c.rU,to:fe("pools")}},{tabConfig:{label:"Pods",value:"pods",component:c.rU,to:fe("pods")}},{tabConfig:{label:"Monitoring",value:"monitoring",component:c.rU,to:fe("monitoring")}},{tabConfig:{label:"Audit Log",value:"logging",component:c.rU,to:fe("logging")}},{tabConfig:{label:"Volumes",value:"volumes",component:c.rU,to:fe("volumes")}},{tabConfig:{label:"Events",value:"events",component:c.rU,to:fe("events")}},{tabConfig:{label:"License",value:"license",component:c.rU,to:fe("license")}}]})]})]})})))},83449:function(e,n,t){t.d(n,{ZP:function(){return l},_i:function(){return s},pQ:function(){return u},uU:function(){return c}});var a=t(29439),o=t(72791),r=t(80184),i=o.createContext(null);function l(e){var n=e.children,t=e.value,l=function(){var e=o.useState(null),n=(0,a.Z)(e,2),t=n[0],r=n[1];return o.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),s=o.useMemo((function(){return{idPrefix:l,value:t}}),[l,t]);return(0,r.jsx)(i.Provider,{value:s,children:n})}function s(){return o.useContext(i)}function c(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function u(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}},47283:function(e,n,t){var a=t(87462),o=t(63366),r=t(72791),i=t(18073),l=t(83449),s=t(80184),c=["children"],u=r.forwardRef((function(e,n){var t=e.children,u=(0,o.Z)(e,c),d=(0,l._i)();if(null===d)throw new TypeError("No TabContext provided");var p=r.Children.map(t,(function(e){return r.isValidElement(e)?r.cloneElement(e,{"aria-controls":(0,l.uU)(d,e.props.value),id:(0,l.pQ)(d,e.props.value)}):null}));return(0,s.jsx)(i.Z,(0,a.Z)({},u,{ref:n,value:d.value,children:p}))}));n.Z=u},82851:function(e,n,t){t.d(n,{Z:function(){return A}});var a=t(87462),o=t(63366),r=t(72791),i=t(28182),l=t(47630),s=t(93736),c=t(90767),u=t(95159);function d(e){return(0,u.Z)("MuiTabPanel",e)}(0,t(30208).Z)("MuiTabPanel",["root"]);var p=t(83449),h=t(80184),m=["children","className","value"],f=(0,l.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),A=r.forwardRef((function(e,n){var t=(0,s.Z)({props:e,name:"MuiTabPanel"}),r=t.children,l=t.className,u=t.value,A=(0,o.Z)(t,m),b=(0,a.Z)({},t),g=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},d,n)}(b),v=(0,p._i)();if(null===v)throw new TypeError("No TabContext provided");var x=(0,p.uU)(v,u),E=(0,p.pQ)(v,u);return(0,h.jsx)(f,(0,a.Z)({"aria-labelledby":E,className:(0,i.Z)(g.root,l),hidden:u!==v.value,id:x,ref:n,role:"tabpanel",ownerState:b},A,{children:u===v.value&&r}))}))}}]);
//# sourceMappingURL=7585.78d525ce.chunk.js.map