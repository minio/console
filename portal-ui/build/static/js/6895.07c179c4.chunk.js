"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:function(e,n,t){t.r(n);var i=t(29439),r=t(1413),a=t(72791),o=t(16871),c=t(43504),l=t(75952),s=t(60364),u=t(11135),d=t(25787),f=t(61889),h=t(81207),b=t(23814),p=t(32291),m=t(14917),v=t(64554),x=t(28789),E=t(56087),T=t(74794),Z=t(50276),C=t(84669),j=t(38442),_=t(75578),F=t(38734),g=t(87995),y=t(9859),S=t(25469),w=t(27454),P=t(80184),I=a.lazy((function(){return Promise.resolve().then(t.bind(t,37746))})),M=a.lazy((function(){return Promise.resolve().then(t.bind(t,56673))})),N=(0,_.Z)(a.lazy((function(){return t.e(9968).then(t.bind(t,39968))}))),A=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(2180)]).then(t.bind(t,47494))}))),U=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(8253)]).then(t.bind(t,84738))}))),k=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(9515),t.e(3328)]).then(t.bind(t,63328))}))),B=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(1440)]).then(t.bind(t,25702))}))),L=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(5171),t.e(2983),t.e(9179)]).then(t.bind(t,32512))}))),R=(0,_.Z)(a.lazy((function(){return Promise.all([t.e(5171),t.e(6484),t.e(2983),t.e(51)]).then(t.bind(t,51))})));n.default=(0,d.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({pageContainer:{height:"100%"},screenTitle:{border:0,paddingTop:0}},b.Bw),b.qg),{},{capitalize:{textTransform:"capitalize"}},b.bp),b.Si),(0,b.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,S.TL)(),r=(0,o.s0)(),u=(0,o.UO)(),d=(0,s.v9)(g.N5),b=(0,s.v9)(y.HQ),_=(0,s.v9)(y.G6),O=(0,s.v9)(g.gw),z=(0,a.useState)(!1),K=(0,i.Z)(z,2),D=K[0],G=K[1],W=(0,a.useState)(!1),H=(0,i.Z)(W,2),Q=H[0],Y=H[1],V=u.bucketName||"",q=u[0]||"";q=q||"summary";var J=(0,a.useState)(q),X=(0,i.Z)(J,2),$=X[0],ee=X[1],ne=(0,j.F)(V,[E.Ft.S3_DELETE_BUCKET,E.Ft.S3_FORCE_DELETE_BUCKET]),te=(0,j.F)(V,[E.Ft.S3_LIST_BUCKET]);(0,a.useEffect)((function(){ee(q)}),[q]),(0,a.useEffect)((function(){D||(t((0,y.d5)(!0)),G(!0))}),[D,t,G]),(0,a.useEffect)((function(){b&&h.Z.invoke("GET","/api/v1/buckets/".concat(V)).then((function(e){t((0,y.d5)(!1)),t((0,y.f4)(e))})).catch((function(e){t((0,y.d5)(!1)),t((0,g.Ih)(e))}))}),[V,b,t]);var ie="/buckets/".concat(V),re={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},ae=function(e){var n=re[e];return n=n?"".concat(ie).concat(n):"".concat(ie).concat("/admin/summary")};return(0,P.jsxs)(a.Fragment,{children:[Q&&(0,P.jsx)(N,{deleteOpen:Q,selectedBucket:V,closeDeleteModalAndRefresh:function(e){!function(e){Y(!1),e&&r("/buckets")}(e)}}),(0,P.jsx)(p.Z,{label:(0,P.jsx)(C.Z,{to:"/buckets",label:"Buckets"}),actions:(0,P.jsx)(w.Z,{tooltip:te?"Browse Bucket":(0,E.MK)(E.D[E.EI.BUCKET_VIEWER],"browsing this bucket"),children:(0,P.jsx)(l.z,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:function(){r("/buckets/".concat(V,"/browse"))},icon:(0,P.jsx)(M,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!te})})}),(0,P.jsxs)(T.Z,{className:n.pageContainer,children:[(0,P.jsx)(f.ZP,{item:!0,xs:12,children:(0,P.jsx)(m.Z,{classes:{screenTitle:n.screenTitle},icon:(0,P.jsx)(a.Fragment,{children:(0,P.jsx)(I,{width:40})}),title:V,subTitle:(0,P.jsxs)(j.s,{scopes:[E.Ft.S3_GET_BUCKET_POLICY],resource:V,children:[(0,P.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,P.jsx)("span",{className:n.capitalize,style:{fontWeight:600,fontSize:15},children:null===_||void 0===_?void 0:_.access.toLowerCase()})]}),actions:(0,P.jsxs)(a.Fragment,{children:[(0,P.jsx)(j.s,{scopes:[E.Ft.S3_DELETE_BUCKET,E.Ft.S3_FORCE_DELETE_BUCKET],resource:V,errorProps:{disabled:!0},children:(0,P.jsx)(w.Z,{tooltip:ne?"":(0,E.MK)([E.Ft.S3_DELETE_BUCKET,E.Ft.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,P.jsx)(l.z,{id:"delete-bucket-button",onClick:function(){Y(!0)},label:"Delete Bucket",icon:(0,P.jsx)(F.XHJ,{}),variant:"secondary",disabled:!ne})})}),(0,P.jsx)(l.z,{id:"refresh-bucket-info",onClick:function(){t((0,y.d5)(!0))},label:"Refresh",icon:(0,P.jsx)(x.default,{})})]})})}),(0,P.jsx)(v.Z,{sx:{border:"1px solid #eaeaea"},children:(0,P.jsxs)(Z.Z,{selectedTab:$,isRouteTabs:!0,routes:(0,P.jsx)("div",{className:n.contentSpacer,children:(0,P.jsxs)(o.Z5,{children:[(0,P.jsx)(o.AW,{path:"summary",element:(0,P.jsx)(k,{})}),(0,P.jsx)(o.AW,{path:"events",element:(0,P.jsx)(B,{})}),d&&(0,P.jsx)(o.AW,{path:"replication",element:(0,P.jsx)(L,{})}),d&&(0,P.jsx)(o.AW,{path:"lifecycle",element:(0,P.jsx)(R,{})}),(0,P.jsx)(o.AW,{path:"access",element:(0,P.jsx)(U,{})}),(0,P.jsx)(o.AW,{path:"prefix",element:(0,P.jsx)(A,{})}),(0,P.jsx)(o.AW,{path:"*",element:(0,P.jsx)(o.Fg,{to:"/buckets/".concat(V,"/admin/summary")})})]})}),children:[{tabConfig:{label:"Summary",value:"summary",component:c.rU,to:ae("summary")}},{tabConfig:{label:"Events",value:"events",component:c.rU,disabled:!(0,j.F)(V,[E.Ft.S3_GET_BUCKET_NOTIFICATIONS,E.Ft.S3_PUT_BUCKET_NOTIFICATIONS]),to:ae("events")}},{tabConfig:{label:"Replication",value:"replication",component:c.rU,disabled:!d||O.enabled&&O.curSite||!(0,j.F)(V,[E.Ft.S3_GET_REPLICATION_CONFIGURATION,E.Ft.S3_PUT_REPLICATION_CONFIGURATION]),to:ae("replication")}},{tabConfig:{label:"Lifecycle",value:"lifecycle",component:c.rU,disabled:!d||!(0,j.F)(V,[E.Ft.S3_GET_LIFECYCLE_CONFIGURATION,E.Ft.S3_PUT_LIFECYCLE_CONFIGURATION]),to:ae("lifecycle")}},{tabConfig:{label:"Access Audit",value:"access",component:c.rU,disabled:!(0,j.F)(V,[E.Ft.ADMIN_GET_POLICY,E.Ft.ADMIN_LIST_USER_POLICIES,E.Ft.ADMIN_LIST_USERS]),to:ae("access")}},{tabConfig:{label:"Access Rules",value:"prefix",component:c.rU,disabled:!(0,j.F)(V,[E.Ft.S3_GET_BUCKET_POLICY]),to:ae("prefix")}}]})})]})]})}))},75578:function(e,n,t){var i=t(1413),r=t(72791),a=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,a.jsx)(r.Suspense,{fallback:n,children:(0,a.jsx)(e,(0,i.Z)({},t))})}return t}},27454:function(e,n,t){var i=t(1413),r=t(72791),a=t(20068),o=t(80184);n.Z=function(e){var n=e.tooltip,t=e.children,c=e.errorProps,l=void 0===c?null:c;return(0,o.jsx)(a.Z,{title:n,children:(0,o.jsx)("span",{children:l?(0,r.cloneElement)(t,(0,i.Z)({},l)):t})})}},50276:function(e,n,t){var i=t(1413),r=t(29439),a=t(72791),o=t(64554),c=t(43896),l=t(83449),s=t(47283),u=t(82851),d=t(25787),f=t(13967),h=t(11135),b=t(95193),p=t(16871),m=t(80184),v={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,h.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,h=void 0===d?"0":d,x=e.routes,E=e.isRouteTabs,T=(0,f.Z)(),Z=(0,p.TH)().pathname,C=void 0===Z?"":Z,j=(0,b.Z)(T.breakpoints.down("md")),_=(0,a.useState)(h),F=(0,r.Z)(_,2),g=F[0],y=F[1],S=[],w=[];if((0,a.useEffect)((function(){if(E){var e=n.find((function(e){return e.tabConfig.to===C}));e&&y(e.tabConfig.value)}}),[E,n,C]),!n)return null;n.forEach((function(e){S.push(e.tabConfig),w.push(e.content)}));return(0,m.jsx)(l.ZP,{value:"".concat(g),children:(0,m.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,m.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,m.jsx)(s.Z,{onChange:function(e,n){y(n)},orientation:j?"horizontal":"vertical",variant:j?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:S.map((function(e,n){return e?(0,m.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:v},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,m.jsxs)(o.Z,{className:t.tabContentContainer,children:[E?null:w.map((function(e,n){return(0,m.jsx)(u.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),E?(0,m.jsx)("div",{className:t.tabPanel,children:x}):null]})]})})}))},83449:function(e,n,t){t.d(n,{ZP:function(){return c},_i:function(){return l},pQ:function(){return u},uU:function(){return s}});var i=t(29439),r=t(72791),a=t(80184),o=r.createContext(null);function c(e){var n=e.children,t=e.value,c=function(){var e=r.useState(null),n=(0,i.Z)(e,2),t=n[0],a=n[1];return r.useEffect((function(){a("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),l=r.useMemo((function(){return{idPrefix:c,value:t}}),[c,t]);return(0,a.jsx)(o.Provider,{value:l,children:n})}function l(){return r.useContext(o)}function s(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function u(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}},47283:function(e,n,t){var i=t(87462),r=t(63366),a=t(72791),o=t(18073),c=t(83449),l=t(80184),s=["children"],u=a.forwardRef((function(e,n){var t=e.children,u=(0,r.Z)(e,s),d=(0,c._i)();if(null===d)throw new TypeError("No TabContext provided");var f=a.Children.map(t,(function(e){return a.isValidElement(e)?a.cloneElement(e,{"aria-controls":(0,c.uU)(d,e.props.value),id:(0,c.pQ)(d,e.props.value)}):null}));return(0,l.jsx)(o.Z,(0,i.Z)({},u,{ref:n,value:d.value,children:f}))}));n.Z=u},82851:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(87462),r=t(63366),a=t(72791),o=t(28182),c=t(66934),l=t(31402),s=t(94419),u=t(21217);function d(e){return(0,u.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var f=t(83449),h=t(80184),b=["children","className","value"],p=(0,c.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),m=a.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTabPanel"}),a=t.children,c=t.className,u=t.value,m=(0,r.Z)(t,b),v=(0,i.Z)({},t),x=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},d,n)}(v),E=(0,f._i)();if(null===E)throw new TypeError("No TabContext provided");var T=(0,f.uU)(E,u),Z=(0,f.pQ)(E,u);return(0,h.jsx)(p,(0,i.Z)({"aria-labelledby":Z,className:(0,o.Z)(x.root,c),hidden:u!==E.value,id:T,ref:n,role:"tabpanel",ownerState:v},m,{children:u===E.value&&a}))}))},95193:function(e,n,t){var i;t.d(n,{Z:function(){return f}});var r=t(29439),a=t(72791),o=t(69120),c=t(33073),l=t(40162);function s(e,n,t,i,o){var c="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,s=a.useState((function(){return o&&c?t(e).matches:i?i(e).matches:n})),u=(0,r.Z)(s,2),d=u[0],f=u[1];return(0,l.Z)((function(){var n=!0;if(c){var i=t(e),r=function(){n&&f(i.matches)};return r(),i.addListener(r),function(){n=!1,i.removeListener(r)}}}),[e,t,c]),d}var u=(i||(i=t.t(a,2))).useSyncExternalStore;function d(e,n,t,i){var o=a.useCallback((function(){return n}),[n]),c=a.useMemo((function(){if(null!==i){var n=i(e).matches;return function(){return n}}return o}),[o,e,i]),l=a.useMemo((function(){if(null===t)return[o,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[o,t,e]),s=(0,r.Z)(l,2),d=s[0],f=s[1];return u(f,d,c)}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,o.Z)(),i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,r=(0,c.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),a=r.defaultMatches,l=void 0!==a&&a,f=r.matchMedia,h=void 0===f?i?window.matchMedia:null:f,b=r.ssrMatchMedia,p=void 0===b?null:b,m=r.noSsr;var v="function"===typeof e?e(t):e;v=v.replace(/^@media( ?)/m,"");var x=void 0!==u?d:s,E=x(v,l,h,p,m);return E}}}]);
//# sourceMappingURL=6895.07c179c4.chunk.js.map