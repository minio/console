(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[132],{453:function(e,t,a){"use strict";var c=a(1),n=a(2),s=a(443),i=a(307),l=a(319),r=a(122),o=a(0);t.a=Object(l.a)((function(e){return Object(i.a)(Object(c.a)({},r.t))}))((function(e){var t=e.classes,a=e.label,c=void 0===a?"":a,i=e.content,l=e.multiLine,r=void 0!==l&&l;return Object(o.jsx)(n.Fragment,{children:Object(o.jsxs)(s.a,{className:t.prefinedContainer,children:[""!==c&&Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedTitle,children:c}),Object(o.jsx)(s.a,{item:!0,xs:12,className:t.predefinedList,children:Object(o.jsx)(s.a,{item:!0,xs:12,className:r?t.innerContentMultiline:t.innerContent,children:i})})]})})}))},544:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(1),n=a(412),s=a(2),i=a(0),l=["children","value","index"],r=function(e){var t=e.children,a=e.value,r=e.index,o=Object(n.a)(e,l);return Object(i.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),style:{marginTop:"5px"}},o),{},{children:a===r&&Object(i.jsx)(s.Fragment,{children:t})}))}},958:function(e,t,a){"use strict";a.r(t);var c=a(16),n=a(1),s=a(2),i=a.n(s),l=a(41),r=a(443),o=a(819),u=a(823),j=a(374),b=a(385),d=a(307),O=a(319),m=a(122),h=a(32),x=a(52),f=a(777),p=a(398),v=a(399),g=a(408),y=a(453),S=a(646),C=a(544),k=a(0),N={setModalErrorSnackMessage:h.h},w=Object(l.b)(null,N);t.default=Object(O.a)((function(e){return Object(d.a)(Object(n.a)(Object(n.a)(Object(n.a)({tabsHeader:{marginBottom:"1rem"}},m.q),m.k),m.A))}))(w((function(e){var t=e.classes,a=e.closeModalAndRefresh,n=e.selectedUser,l=e.open,d=e.setModalErrorSnackMessage,O=Object(s.useState)(!1),m=Object(c.a)(O,2),h=m[0],N=m[1],w=Object(s.useState)(""),E=Object(c.a)(w,2),K=E[0],M=E[1],P=Object(s.useState)(""),U=Object(c.a)(P,2),F=U[0],G=U[1],R=Object(s.useState)(!1),T=Object(c.a)(R,2),A=T[0],B=T[1],L=Object(s.useState)([]),D=Object(c.a)(L,2),H=D[0],I=D[1],J=Object(s.useState)([]),q=Object(c.a)(J,2),V=q[0],_=q[1],z=Object(s.useState)([]),Q=Object(c.a)(z,2),W=Q[0],X=Q[1],Y=Object(s.useState)(0),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useCallback)((function(){if(!n)return null;x.a.invoke("GET","/api/v1/user?name=".concat(encodeURI(n.accessKey))).then((function(e){N(!1),M(e.accessKey),I(e.memberOf||[]),X(e.memberOf||[]),B("enabled"===e.status)})).catch((function(e){N(!1),d(e)}))}),[n,d]);Object(s.useEffect)((function(){null===n?(M(""),G(""),I([])):te()}),[n,te]);var ae=""!==K.trim()&&(""!==F.trim()&&null===n||null!==n);return Object(k.jsxs)(p.a,{onClose:function(){a()},modalOpen:l,title:null!==n?"Edit User":"Create User",children:[null!==n&&Object(k.jsx)("div",{className:t.floatingEnabled,children:Object(k.jsx)(g.a,{indicatorLabels:["Enabled","Disabled"],checked:A,value:"user_enabled",id:"user-status",name:"user-status",onChange:function(e){B(e.target.checked)},switchOnly:!0})}),Object(k.jsx)(i.a.Fragment,{children:Object(k.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),F.length<8)return d({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void N(!1);h||(N(!0),null!==n?x.a.invoke("PUT","/api/v1/user?name=".concat(encodeURI(n.accessKey)),{status:A?"enabled":"disabled",groups:H,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})):x.a.invoke("POST","/api/v1/users",{accessKey:K,secretKey:F,groups:H,policies:V}).then((function(e){N(!1),a()})).catch((function(e){N(!1),d(e)})))}(e)},children:Object(k.jsxs)(r.a,{container:!0,children:[Object(k.jsxs)(r.a,{item:!0,xs:12,children:[Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"accesskey-input",name:"accesskey-input",label:"Access Key",value:K,onChange:function(e){M(e.target.value)},disabled:null!==n})}),null!==n?Object(k.jsx)(y.a,{label:"Current Groups",content:W.join(", ")}):Object(k.jsx)("div",{className:t.formFieldRow,children:Object(k.jsx)(v.a,{id:"standard-multiline-static",name:"standard-multiline-static",label:"Secret Key",type:"password",value:F,onChange:function(e){G(e.target.value)},autoComplete:"current-password"})}),Object(k.jsx)(r.a,{item:!0,xs:12,className:t.tabsHeader,children:Object(k.jsxs)(o.a,{value:$,onChange:function(e,t){ee(t)},children:[Object(k.jsx)(u.a,{label:"Policies"}),Object(k.jsx)(u.a,{label:"Groups"})]})}),Object(k.jsx)(C.a,{value:$,index:0,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(S.a,{selectedPolicy:V,setSelectedPolicy:_})})}),Object(k.jsx)(C.a,{value:$,index:1,children:Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(f.a,{selectedGroups:H,setSelectedGroups:function(e){I(e)}})})}),h&&Object(k.jsx)(r.a,{item:!0,xs:12,children:Object(k.jsx)(j.a,{})})]}),Object(k.jsxs)(r.a,{item:!0,xs:12,className:t.modalButtonBar,children:[Object(k.jsx)(b.a,{type:"button",variant:"outlined",color:"primary",onClick:function(){null===n?(M(""),G(""),I([])):I([])},children:"Clear"}),Object(k.jsx)(b.a,{type:"submit",variant:"contained",color:"primary",disabled:h||!ae,children:"Save"})]})]})})})]})})))}}]);
//# sourceMappingURL=132.8ca12ce9.chunk.js.map