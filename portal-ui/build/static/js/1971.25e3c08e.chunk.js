"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1971],{76352:function(e,r,t){t.d(r,{Z:function(){return E}});var a,o=t(23430),n=t(18489),s=t(50390),i=t(34424),l=t(95467),c=t(97771),d=t(84402),u=t(78426),m=t(93085),p=t(86509),f=t(4285),g=t(72462),h=t(44149),x=t(38342),C=t.n(x),j=t(92125),Z=t(19538),b=t(21278),v=t(62559),y=function(){clearInterval(a)},k={displayErrorMessage:h.zb},S=(0,i.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),k)((0,f.Z)((function(e){return(0,p.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var r=e.classes,t=e.modalSnackMessage,n=e.displayErrorMessage,i=e.customStyle,l=(0,s.useState)(!1),c=(0,o.Z)(l,2),d=c[0],u=c[1],m=(0,s.useState)(!1),p=(0,o.Z)(m,2),f=p[0],g=p[1],h=(0,s.useCallback)((function(){g(!1)}),[]);(0,s.useEffect)((function(){f||(n({detailedError:"",errorMessage:""}),u(!1))}),[n,f]),(0,s.useEffect)((function(){""!==t.message&&"error"===t.type&&g(!0)}),[h,t.message,t.type]);var x=C()(t,"message",""),k=C()(t,"detailedErrorMsg","");return"error"!==t.type||""===x?null:(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)("div",{className:"".concat(r.modalErrorContainer," ").concat(f?r.modalErrorShow:""),style:i,onMouseOver:y,onMouseLeave:function(){a=setInterval(h,1e4)},children:[(0,v.jsx)("button",{className:r.closeButton,onClick:h,children:(0,v.jsx)(b.Z,{})}),(0,v.jsxs)("div",{className:r.errorTitle,children:[(0,v.jsx)("span",{className:r.messageIcon,children:(0,v.jsx)(Z.Z,{})}),(0,v.jsx)("span",{className:r.errorLabel,children:x})]}),""!==k&&(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)("div",{className:r.detailsContainerLink,children:(0,v.jsxs)("button",{className:r.detailsButton,onClick:function(){u(!d)},children:["Details",(0,v.jsx)(j.Z,{className:"".concat(r.arrowElement," ").concat(d?r.arrowOpen:"")})]})}),(0,v.jsx)("div",{className:"".concat(r.extraDetailsContainer," ").concat(d?r.extraDetailsOpen:""),children:k})]})]})})}))),N=(0,i.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK}),E=(0,f.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)({},g.Qw),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},g.sN))}))(N((function(e){var r=e.onClose,t=e.modalOpen,a=e.title,i=e.children,p=e.classes,f=e.wideLimit,g=void 0===f||f,h=e.modalSnackMessage,x=e.noContentPadding,C=e.setModalSnackMessage,j=e.titleIcon,Z=void 0===j?null:j,y=(0,s.useState)(!1),k=(0,o.Z)(y,2),N=k[0],E=k[1];(0,s.useEffect)((function(){C("")}),[C]),(0,s.useEffect)((function(){if(h){if(""===h.message)return void E(!1);"error"!==h.type&&E(!0)}}),[h]);var M=g?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return h&&(w=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(w=h.message)),(0,v.jsxs)(d.Z,(0,n.Z)((0,n.Z)({open:t,classes:p},M),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&r()},className:p.root,children:[(0,v.jsxs)(u.Z,{className:p.title,children:[(0,v.jsxs)("div",{className:p.titleText,children:[Z," ",a]}),(0,v.jsx)("div",{className:p.closeContainer,children:(0,v.jsx)(l.Z,{"aria-label":"close",className:p.closeButton,onClick:r,disableRipple:!0,size:"small",children:(0,v.jsx)(b.Z,{})})})]}),(0,v.jsx)(S,{}),(0,v.jsx)(c.Z,{open:N,className:p.snackBarModal,onClose:function(){E(!1),C("")},message:w,ContentProps:{className:"".concat(p.snackBar," ").concat(h&&"error"===h.type?p.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),(0,v.jsx)(m.Z,{className:x?"":p.content,children:i})]}))})))},1971:function(e,r,t){t.r(r);var a=t(35531),o=t(18489),n=t(25594),s=t(66946),i=t(86509),l=t(4285),c=(t(50390),t(76352)),d=t(17777),u=t(72462),m=t(77138),p=t(62559);r.default=(0,l.Z)((function(e){return(0,i.Z)((0,o.Z)({buttonContainer:{textAlign:"right"},errorsList:{height:"calc(100vh - 280px)"}},u.ID))}))((function(e){var r=e.open,t=e.onCloseFormatErrorsList,o=e.errorsList,i=e.classes;return(0,p.jsx)(c.Z,{modalOpen:r,title:"Format Errors",onClose:t,titleIcon:(0,p.jsx)(m.cn,{}),children:(0,p.jsxs)(n.ZP,{container:!0,children:[(0,p.jsxs)(n.ZP,{item:!0,xs:12,className:i.modalFormScrollable,children:["There were some issues trying to format the selected CSI Drives, please fix the issues and try again.",(0,p.jsx)("br",{}),(0,p.jsx)(d.Z,{columns:[{label:"Node",elementKey:"node"},{label:"Drive",elementKey:"drive"},{label:"Message",elementKey:"error"}],entityName:"Format Errors",idField:"drive",records:o,isLoading:!1,customPaperHeight:i.errorsList,textSelectable:!0,noBackground:!0})]}),(0,p.jsxs)(n.ZP,{item:!0,xs:12,className:i.modalButtonBar,children:[(0,p.jsx)(s.Z,{color:"primary",variant:"outlined",onClick:function(){!function(e,r){var t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(r)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}("csiFormatErrors.json",JSON.stringify((0,a.Z)(o)))},children:"Download"}),(0,p.jsx)(s.Z,{onClick:t,color:"primary",variant:"contained",autoFocus:!0,children:"Done"})]})]})})}))}}]);
//# sourceMappingURL=1971.25e3c08e.chunk.js.map