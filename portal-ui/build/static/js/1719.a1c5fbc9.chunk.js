"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1719],{66964:function(e,n,t){var a=t(18489),o=t(50390),i=t(12066),s=t(25594),r=t(36554),l=t(94187),c=t(95467),d=t(86509),u=t(62449),m=t(4285),p=t(72462),v=t(97538),h=t(44977),Z=t(62559),f=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)({},p.gM))}));function x(e){var n=f();return(0,Z.jsx)(i.Z,(0,a.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,a.Z)((0,a.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,f=e.autoComplete,b=void 0===f?"off":f,j=e.disabled,g=void 0!==j&&j,y=e.multiline,P=void 0!==y&&y,C=e.tooltip,N=void 0===C?"":C,E=e.index,I=void 0===E?0:E,L=e.error,S=void 0===L?"":L,k=e.required,w=void 0!==k&&k,T=e.placeholder,M=void 0===T?"":T,A=e.min,F=e.max,R=e.overlayId,B=e.overlayIcon,z=void 0===B?null:B,K=e.overlayObject,D=void 0===K?null:K,O=e.extraInputProps,W=void 0===O?{}:O,H=e.overlayAction,G=e.noLabelMinWidth,Y=void 0!==G&&G,$=e.pattern,_=void 0===$?"":$,q=e.autoFocus,Q=void 0!==q&&q,U=e.classes,V=e.className,X=void 0===V?"":V,J=e.onKeyPress,ee=(0,a.Z)({"data-index":I},W);return"number"===p&&A&&(ee.min=A),"number"===p&&F&&(ee.max=F),""!==_&&(ee.pattern=_),(0,Z.jsx)(o.Fragment,{children:(0,Z.jsxs)(s.ZP,{container:!0,className:(0,h.Z)(""!==X?X:"",""!==S?U.errorInField:U.inputBoxContainer),children:[""!==n&&(0,Z.jsxs)(r.Z,{htmlFor:d,className:Y?U.noMinWidthLabel:U.inputLabel,children:[(0,Z.jsxs)("span",{children:[n,w?"*":""]}),""!==N&&(0,Z.jsx)("div",{className:U.tooltipContainer,children:(0,Z.jsx)(l.Z,{title:N,placement:"top-start",children:(0,Z.jsx)("div",{className:U.tooltip,children:(0,Z.jsx)(v.Z,{})})})})]}),(0,Z.jsxs)("div",{className:U.textBoxContainer,children:[(0,Z.jsx)(x,{id:d,name:u,fullWidth:!0,value:i,autoFocus:Q,disabled:g,onChange:t,type:p,multiline:P,autoComplete:b,inputProps:ee,error:""!==S,helperText:S,placeholder:M,className:U.inputRebase,onKeyPress:J}),z&&(0,Z.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,Z.jsx)(c.Z,{onClick:H?function(){H()}:function(){return null},id:R,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),D&&(0,Z.jsx)("div",{className:"".concat(U.overlayAction," ").concat(""!==n?"withLabel":""),children:D})]})]})})}))},21639:function(e,n,t){var a=t(23430),o=t(50390),i=t(30324);n.Z=function(e,n){var t=(0,o.useState)(!1),s=(0,a.Z)(t,2),r=s[0],l=s[1];return[r,function(t,a,o){l(!0),i.Z.invoke(t,a,o).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},60656:function(e,n,t){var a=t(18489),o=t(50390),i=t(84402),s=t(78426),r=t(93085),l=t(7887),c=t(66946),d=t(7521),u=t(95467),m=t(21278),p=t(86509),v=t(4285),h=t(72462),Z=t(62559);n.Z=(0,v.Z)((function(e){return(0,p.Z)((0,a.Z)({},h.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,p=e.onClose,v=e.onCancel,h=e.onConfirm,f=e.classes,x=void 0===f?{}:f,b=e.title,j=void 0===b?"":b,g=e.isLoading,y=e.confirmationContent,P=e.cancelText,C=void 0===P?"Cancel":P,N=e.confirmText,E=void 0===N?"Confirm":N,I=e.confirmButtonProps,L=void 0===I?{}:I,S=e.cancelButtonProps,k=void 0===S?{}:S,w=e.titleIcon,T=void 0===w?null:w;return(0,Z.jsxs)(i.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&p()},className:x.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,Z.jsxs)(s.Z,{className:x.title,children:[(0,Z.jsxs)("div",{className:x.titleText,children:[T," ",j]}),(0,Z.jsx)("div",{className:x.closeContainer,children:(0,Z.jsx)(u.Z,{"aria-label":"close",className:x.closeButton,onClick:p,disableRipple:!0,size:"small",children:(0,Z.jsx)(m.Z,{})})})]}),(0,Z.jsx)(r.Z,{className:x.content,children:y}),(0,Z.jsxs)(l.Z,{className:x.actions,children:[(0,Z.jsx)(c.Z,(0,a.Z)((0,a.Z)({className:x.cancelButton,onClick:v||p,disabled:g,type:"button"},k),{},{variant:"outlined",color:"primary",id:"confirm-cancel",children:C})),(0,Z.jsx)(d.Z,(0,a.Z)((0,a.Z)({className:x.confirmButton,type:"button",onClick:h,loading:g,disabled:g,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,Z.jsx)(o.Fragment,{}),autoFocus:!0,id:"confirm-ok"},L),{},{children:E}))]})]})}))},51719:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(23430),o=t(18489),i=t(50390),s=t(34424),r=t(86509),l=t(4285),c=t(72462),d=t(28948),u=t(44149),m=t(30324),p=t(8174),v=t(23473),h=t(66964),Z=t(25594),f=t(21639),x=t(60656),b=t(86362),j=t(62559),g=(0,s.$j)(null,{setErrorSnackMessage:u.Ih})((function(e){var n=e.deleteOpen,t=e.selectedPod,o=e.closeDeleteModalAndRefresh,s=e.setErrorSnackMessage,r=(0,i.useState)(""),l=(0,a.Z)(r,2),c=l[0],d=l[1],u=(0,f.Z)((function(){return o(!0)}),(function(e){return s(e)})),m=(0,a.Z)(u,2),p=m[0],g=m[1];return(0,j.jsx)(x.Z,{title:"Delete Pod",confirmText:"Delete",isOpen:n,titleIcon:(0,j.jsx)(b.Nv,{}),isLoading:p,onConfirm:function(){c===t.name?g("DELETE","/api/v1/namespaces/".concat(t.namespace,"/tenants/").concat(t.tenant,"/pods/").concat(t.name)):s({errorMessage:"Tenant name is incorrect",detailedError:""})},onClose:function(){return o(!1)},confirmButtonProps:{disabled:c!==t.name||p},confirmationContent:(0,j.jsxs)(v.Z,{children:["To continue please type ",(0,j.jsx)("b",{children:t.name})," in the box.",(0,j.jsx)(Z.ZP,{item:!0,xs:12,children:(0,j.jsx)(h.Z,{id:"retype-pod",name:"retype-pod",onChange:function(e){d(e.target.value)},label:"",value:c})})]})})})),y=t(12066),P=t(65771),C=t(13336),N=(0,s.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:u.Ih}),E=(0,l.Z)((function(e){return(0,r.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},c.oZ),c.VX),(0,c.Bz)(e.spacing(4))))}))(N((function(e){var n=e.classes,t=e.match,o=e.history,s=e.loadingTenant,r=(0,i.useState)([]),l=(0,a.Z)(r,2),c=l[0],v=l[1],h=(0,i.useState)(!0),f=(0,a.Z)(h,2),x=f[0],b=f[1],N=(0,i.useState)(!1),E=(0,a.Z)(N,2),I=E[0],L=E[1],S=(0,i.useState)(null),k=(0,a.Z)(S,2),w=k[0],T=k[1],M=(0,i.useState)(""),A=(0,a.Z)(M,2),F=A[0],R=A[1],B=t.params.tenantName,z=t.params.tenantNamespace,K=c.filter((function(e){return e.name.toLowerCase().includes(F.toLowerCase())})),D=[{type:"view",onClick:function(e){o.push("/namespaces/".concat(z,"/tenants/").concat(B,"/pods/").concat(e.name))}},{type:"delete",onClick:function(e){e.tenant=B,e.namespace=z,T(e),L(!0)}}];return(0,i.useEffect)((function(){s&&b(!0)}),[s]),(0,i.useEffect)((function(){x&&m.Z.invoke("GET","/api/v1/namespaces/".concat(z,"/tenants/").concat(B,"/pods")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].time=(0,d.v1)((t-parseInt(e[n].timeCreated)).toString())}v(e),b(!1)})).catch((function(e){(0,u.Ih)({errorMessage:"Error loading pods",detailedError:e.detailedError})}))}),[x,B,z]),(0,j.jsxs)(i.Fragment,{children:[I&&(0,j.jsx)(g,{deleteOpen:I,selectedPod:w,closeDeleteModalAndRefresh:function(e){L(!1),b(!0)}}),(0,j.jsx)("h1",{className:n.sectionTitle,children:"Pods"}),(0,j.jsx)(Z.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,j.jsx)(y.Z,{placeholder:"Search Pods",className:n.searchField,id:"search-resource",label:"",InputProps:{disableUnderline:!0,startAdornment:(0,j.jsx)(P.Z,{position:"start",children:(0,j.jsx)(C.Z,{})})},onChange:function(e){R(e.target.value)},variant:"standard"})}),(0,j.jsx)(Z.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(p.Z,{columns:[{label:"Name",elementKey:"name",width:200},{label:"Status",elementKey:"status"},{label:"Age",elementKey:"time"},{label:"Pod IP",elementKey:"podIP"},{label:"Restarts",elementKey:"restarts",renderFunction:function(e){return null!==e?e:0}},{label:"Node",elementKey:"node"}],isLoading:x,records:K,itemActions:D,entityName:"Pods",idField:"name"})})]})})))},21278:function(e,n,t){var a=t(64119);n.Z=void 0;var o=a(t(66830)),i=t(62559),s=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=s},65771:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(36222),o=t(1048),i=t(32793),s=t(50390),r=t(44977),l=t(50076),c=t(91442),d=t(35477),u=t(14478),m=t(23060),p=t(8208),v=t(10594);function h(e){return(0,v.Z)("MuiInputAdornment",e)}var Z,f=(0,t(43349).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),x=t(15573),b=t(62559),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],g=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===t.variant&&(0,a.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),y=s.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiInputAdornment"}),a=t.children,p=t.className,v=t.component,f=void 0===v?"div":v,y=t.disablePointerEvents,P=void 0!==y&&y,C=t.disableTypography,N=void 0!==C&&C,E=t.position,I=t.variant,L=(0,o.Z)(t,j),S=(0,m.Z)()||{},k=I;I&&S.variant,S&&!k&&(k=S.variant);var w=(0,i.Z)({},t,{hiddenLabel:S.hiddenLabel,size:S.size,disablePointerEvents:P,position:E,variant:k}),T=function(e){var n=e.classes,t=e.disablePointerEvents,a=e.hiddenLabel,o=e.position,i=e.size,s=e.variant,r={root:["root",t&&"disablePointerEvents",o&&"position".concat((0,c.Z)(o)),s,a&&"hiddenLabel",i&&"size".concat((0,c.Z)(i))]};return(0,l.Z)(r,h,n)}(w);return(0,b.jsx)(u.Z.Provider,{value:null,children:(0,b.jsx)(g,(0,i.Z)({as:f,ownerState:w,className:(0,r.Z)(T.root,p),ref:n},L,{children:"string"!==typeof a||N?(0,b.jsxs)(s.Fragment,{children:["start"===E?Z||(Z=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,b.jsx)(d.Z,{color:"text.secondary",children:a})}))})}))}}]);
//# sourceMappingURL=1719.a1c5fbc9.chunk.js.map