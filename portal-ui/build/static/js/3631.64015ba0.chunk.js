"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3631],{33690:function(e,o,t){t.r(o);var n=t(29439),r=t(1413),c=t(72791),i=t(60364),a=t(36151),l=t(11135),s=t(25787),d=t(61889),u=t(23814),f=t(42649),m=t(81207),p=t(56028),x=t(90673),b=t(92388),g=t(92217),h=t(80184);(0,l.Z)((0,r.Z)((0,r.Z)({},u.ID),u.bK));var Z=(0,i.$j)(null,{setModalErrorSnackMessage:f.zb});o.default=(0,s.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)((0,r.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},u.DF),u.ID),u.bK))}))(Z((function(e){var o=e.classes,t=e.open,r=e.bucketName,i=e.actualPolicy,l=e.actualDefinition,s=e.closeModalAndRefresh,u=e.setModalErrorSnackMessage,f=(0,c.useState)(!1),Z=(0,n.Z)(f,2),j=Z[0],y=Z[1],C=(0,c.useState)(""),k=(0,n.Z)(C,2),v=k[0],S=k[1],B=(0,c.useState)(""),P=(0,n.Z)(B,2),M=P[0],N=P[1];return(0,c.useEffect)((function(){S(i),N(l?JSON.stringify(JSON.parse(l),null,4):"")}),[S,i,N,l]),(0,h.jsx)(p.Z,{title:"Change Access Policy",modalOpen:t,onClose:function(){s()},titleIcon:(0,h.jsx)(b.QX,{}),children:(0,h.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j||(y(!0),m.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/set-policy"),{access:v,definition:M}).then((function(e){y(!1),s()})).catch((function(e){y(!1),u(e)})))},children:(0,h.jsxs)(d.ZP,{container:!0,children:[(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:o.modalFormScrollable,children:[(0,h.jsx)(d.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,h.jsx)(x.Z,{value:v,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){S(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"CUSTOM"===v&&(0,h.jsx)(d.ZP,{item:!0,xs:12,className:o.codeMirrorContainer,children:(0,h.jsx)(g.Z,{label:"Write Policy",value:M,onBeforeChange:function(e,o,t){N(t)},editorHeight:"350px"})})]}),(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[(0,h.jsx)(a.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){s()},disabled:j,children:"Cancel"}),(0,h.jsx)(a.Z,{type:"submit",variant:"contained",color:"primary",disabled:j||"CUSTOM"===v&&!M,children:"Set"})]})]})})})})))},92217:function(e,o,t){var n=t(93433),r=t(29439),c=t(1413),i=t(72791),a=t(61889),l=(t(2574),t(69874)),s=t(9461),d=t(73975),u=t(80745),f=t(30829),m=t(20068),p=t(64554),x=t(11135),b=t(25787),g=t(84570),h=t(23814),Z=t(92388),j=t(40603),y=t(78029),C=t.n(y),k=t(64294),v=t(80184),S={json:d.AV,yaml:function(){return s.i.define(u.r)}},B=k.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),P=k.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});o.Z=(0,b.Z)((function(e){return(0,x.Z)((0,c.Z)({},h.YI))}))((function(e){var o=e.value,t=e.label,c=void 0===t?"":t,s=e.tooltip,d=void 0===s?"":s,u=e.mode,x=void 0===u?"json":u,b=e.classes,h=e.onBeforeChange,y=e.readOnly,k=void 0!==y&&y,M=e.editorHeight,N=void 0===M?"250px":M,O=(0,i.useState)(!1),F=(0,r.Z)(O,2),E=F[0],w=F[1],T=[];return S[x]&&(T=[].concat((0,n.Z)(T),[S[x]()])),(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(f.Z,{className:b.inputLabel,children:[(0,v.jsx)("span",{children:c}),""!==d&&(0,v.jsx)("div",{className:b.tooltipContainer,children:(0,v.jsx)(m.Z,{title:d,placement:"top-start",children:(0,v.jsx)("div",{className:b.tooltip,children:(0,v.jsx)(g.Z,{})})})})]}),(0,v.jsx)(a.ZP,{item:!0,xs:12,children:(0,v.jsx)("br",{})}),(0,v.jsxs)(a.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,v.jsx)(a.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.ZP,{value:o,theme:E?P:B,extensions:T,editable:!k,basicSetup:!0,height:N,onChange:function(e,o){h(null,null,e)}})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:E?"#282c34":"#f7f7f7"},children:(0,v.jsxs)(p.Z,{className:E?"dark-theme":"",sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}},"&.dark-theme button":{background:"#FFFFFF"}},children:[(0,v.jsx)(j.Z,{tooltip:"Change theme",onClick:function(){w(!E)},text:"",icon:(0,v.jsx)(Z.EO,{}),color:"primary",variant:"outlined"}),(0,v.jsx)(C(),{text:o,children:(0,v.jsx)(j.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,v.jsx)(Z.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},56028:function(e,o,t){var n=t(29439),r=t(1413),c=t(72791),i=t(60364),a=t(13400),l=t(55646),s=t(5574),d=t(65661),u=t(39157),f=t(11135),m=t(25787),p=t(23814),x=t(42649),b=t(29823),g=t(28057),h=t(80184),Z=(0,i.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK});o.Z=(0,m.Z)((function(e){return(0,f.Z)((0,r.Z)((0,r.Z)({},p.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(Z((function(e){var o=e.onClose,t=e.modalOpen,i=e.title,f=e.children,m=e.classes,p=e.wideLimit,x=void 0===p||p,Z=e.modalSnackMessage,j=e.noContentPadding,y=e.setModalSnackMessage,C=e.titleIcon,k=void 0===C?null:C,v=(0,c.useState)(!1),S=(0,n.Z)(v,2),B=S[0],P=S[1];(0,c.useEffect)((function(){y("")}),[y]),(0,c.useEffect)((function(){if(Z){if(""===Z.message)return void P(!1);"error"!==Z.type&&P(!0)}}),[Z]);var M=x?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},N="";return Z&&(N=Z.detailedErrorMsg,(""===Z.detailedErrorMsg||Z.detailedErrorMsg.length<5)&&(N=Z.message)),(0,h.jsxs)(s.Z,(0,r.Z)((0,r.Z)({open:t,classes:m},M),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&o()},className:m.root,children:[(0,h.jsxs)(d.Z,{className:m.title,children:[(0,h.jsxs)("div",{className:m.titleText,children:[k," ",i]}),(0,h.jsx)("div",{className:m.closeContainer,children:(0,h.jsx)(a.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:o,disableRipple:!0,size:"small",children:(0,h.jsx)(b.Z,{})})})]}),(0,h.jsx)(g.Z,{isModal:!0}),(0,h.jsx)(l.Z,{open:B,className:m.snackBarModal,onClose:function(){P(!1),y("")},message:N,ContentProps:{className:"".concat(m.snackBar," ").concat(Z&&"error"===Z.type?m.errorSnackBar:"")},autoHideDuration:Z&&"error"===Z.type?1e4:5e3}),(0,h.jsx)(u.Z,{className:j?"":m.content,children:f})]}))})))},61120:function(e,o,t){function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.d(o,{Z:function(){return n}})},60136:function(e,o,t){t.d(o,{Z:function(){return r}});var n=t(89611);function r(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&(0,n.Z)(e,o)}},6215:function(e,o,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.d(o,{Z:function(){return c}});var r=t(97326);function c(e,o){if(o&&("object"===n(o)||"function"===typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}}}]);
//# sourceMappingURL=3631.64015ba0.chunk.js.map