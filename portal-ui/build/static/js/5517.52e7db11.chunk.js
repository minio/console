"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5517,3956],{23956:function(e,n,t){t.r(n);var s=t(29439),r=(t(72791),t(11135)),i=t(25787),o=t(51691),a=t(9505),c=t(2148),l=t(23742),u=t(45248),d=t(87995),h=t(81551),x=t(80184);n.default=(0,i.Z)((function(e){return(0,r.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}})}))((function(e){var n=e.classes,t=e.closeDeleteModalAndRefresh,r=e.deleteOpen,i=e.selectedServiceAccount,m=(0,h.TL)(),f=(0,a.Z)((function(){return t(!0)}),(function(e){return m((0,d.Ih)(e))})),p=(0,s.Z)(f,2),Z=p[0],j=p[1];if(!i)return null;return(0,x.jsx)(c.Z,{title:"Delete Service Account",confirmText:"Delete",isOpen:r,titleIcon:(0,x.jsx)(l.NvT,{}),isLoading:Z,onConfirm:function(){j("DELETE","/api/v1/service-accounts/".concat((0,u.LL)(i)))},onClose:function(){return t(!1)},confirmationContent:(0,x.jsxs)(o.Z,{children:["Are you sure you want to delete service account"," ",(0,x.jsx)("b",{className:n.wrapText,children:i}),"?"]})})}))},81806:function(e,n,t){var s=t(1413),r=t(45987),i=(t(72791),t(11135)),o=t(25787),a=t(80184),c=["classes","children"];n.Z=(0,o.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,i=(0,r.Z)(e,c);return(0,a.jsx)("button",(0,s.Z)((0,s.Z)({},i),{},{className:n.root,children:t}))}))},37798:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var s=t(1413),r=t(72791),i=t(26181),o=t.n(i),a=t(11135),c=t(25787),l=t(56028),u=t(61889),d=t(77196),h=t(63466),x=t(85531),m=t(78029),f=t.n(m),p=t(23742),Z=t(23814),j=t(80184),g=(0,c.Z)((function(e){return(0,a.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,s.Z)((0,s.Z)({},Z.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,t=void 0===n?"":n,s=e.value,r=void 0===s?"":s,i=e.classes,o=void 0===i?{}:i;return(0,j.jsxs)("div",{className:o.container,children:[(0,j.jsxs)("div",{className:o.inputLabel,children:[t,":"]}),(0,j.jsx)("div",{className:o.inputWithCopy,children:(0,j.jsx)(d.Z,{value:r,readOnly:!0,endAdornment:(0,j.jsx)(h.Z,{position:"end",children:(0,j.jsx)(f(),{text:r,children:(0,j.jsx)(x.Z,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:(0,j.jsx)(p.TIy,{})})})})})})]})})),v=t(89357),y=t(40603),b=function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+n),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},S=(0,c.Z)((function(e){return(0,a.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})}))((function(e){var n=e.classes,t=e.newServiceAccount,i=e.open,a=e.closeModal,c=e.entity;if(!t)return null;var d=o()(t,"console",null),h=o()(t,"idp",!1);return(0,j.jsx)(l.Z,{modalOpen:i,onClose:function(){a()},title:(0,j.jsx)("div",{className:n.promptTitle,children:(0,j.jsxs)("div",{children:["New ",c," Created"]})}),titleIcon:(0,j.jsx)(p.tVY,{}),children:(0,j.jsxs)(u.ZP,{container:!0,children:[(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:["A new ",c," has been created with the following details:",!h&&d&&(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,j.jsx)("div",{className:n.credentialTitle,children:"Console Credentials"}),Array.isArray(d)&&d.map((function(e,n){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{label:"Access Key",value:e.accessKey}),(0,j.jsx)(g,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(d)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{label:"Access Key",value:d.accessKey}),(0,j.jsx)(g,{label:"Secret Key",value:d.secretKey})]})]})}),(null===d||void 0===d)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{label:"Access Key",value:t.accessKey||""}),(0,j.jsx)(g,{label:"Secret Key",value:t.secretKey||""})]}),h?(0,j.jsx)("div",{className:n.warningBlock,children:"Please Login via the configured external identity provider."}):(0,j.jsxs)("div",{className:n.warningBlock,children:[(0,j.jsx)(v.Z,{}),(0,j.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.buttonContainer,children:!h&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(y.Z,{id:"download-button",tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",text:"Download for import",className:n.buttonSpacer,onClick:function(){var e={};d?e=Array.isArray(d)?d.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:d.url,accessKey:d.accessKey,secretKey:d.secretKey,api:"s3v4",path:"auto"}:e={url:t.url,accessKey:t.accessKey,secretKey:t.secretKey,api:"s3v4",path:"auto"};b("credentials.json",JSON.stringify((0,s.Z)({},e)))},icon:(0,j.jsx)(p._8t,{}),variant:"contained",color:"primary"}),Array.isArray(d)&&d.length>1&&(0,j.jsx)(y.Z,{id:"download-all-button",tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",text:"Download all access credentials",className:n.buttonSpacer,onClick:function(){var e={};d&&(e=d.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));b("all_credentials.json",JSON.stringify((0,s.Z)({},e)))},icon:(0,j.jsx)(p._8t,{}),variant:"contained",color:"primary"})]})})]})})}))},25739:function(e,n,t){t(72791);var s=t(64554),r=t(50896),i=t(80184);n.Z=function(e){var n=e.children,t=e.title,o=e.helpbox,a=e.icon;return(0,i.jsxs)(s.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(r.Z,{icon:a,children:t}),(0,i.jsx)(s.Z,{sx:{height:16}}),n]}),o]})}},60680:function(e,n,t){t(72791);var s=t(11135),r=t(25787),i=t(80184);n.Z=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,i.jsx)("h1",{className:n.root,children:t})}))},14662:function(e,n,t){t.d(n,{Z:function(){return I}});var s=t(1413),r=t(29439),i=t(72791),o=t(64554),a=t(43896),c=t(80184),l=i.createContext(null);function u(e){var n=e.children,t=e.value,s=function(){var e=i.useState(null),n=(0,r.Z)(e,2),t=n[0],s=n[1];return i.useEffect((function(){s("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),o=i.useMemo((function(){return{idPrefix:s,value:t}}),[s,t]);return(0,c.jsx)(l.Provider,{value:o,children:n})}function d(){return i.useContext(l)}function h(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function x(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}var m=t(87462),f=t(63366),p=t(18073),Z=["children"],j=i.forwardRef((function(e,n){var t=e.children,s=(0,f.Z)(e,Z),r=d();if(null===r)throw new TypeError("No TabContext provided");var o=i.Children.map(t,(function(e){return i.isValidElement(e)?i.cloneElement(e,{"aria-controls":h(r,e.props.value),id:x(r,e.props.value)}):null}));return(0,c.jsx)(p.Z,(0,m.Z)({},s,{ref:n,value:r.value,children:o}))})),g=t(28182),v=t(66934),y=t(31402),b=t(94419),S=t(21217);function A(e){return(0,S.Z)("MuiTabPanel",e)}(0,t(75878).Z)("MuiTabPanel",["root"]);var C=["children","className","value"],w=(0,v.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),P=i.forwardRef((function(e,n){var t=(0,y.Z)({props:e,name:"MuiTabPanel"}),s=t.children,r=t.className,i=t.value,o=(0,f.Z)(t,C),a=(0,m.Z)({},t),l=function(e){var n=e.classes;return(0,b.Z)({root:["root"]},A,n)}(a),u=d();if(null===u)throw new TypeError("No TabContext provided");var p=h(u,i),Z=x(u,i);return(0,c.jsx)(w,(0,m.Z)({"aria-labelledby":Z,className:(0,g.Z)(l.root,r),hidden:i!==u.value,id:p,ref:n,role:"tabpanel",ownerState:a},o,{children:i===u.value&&s}))})),N=t(25787),E=t(13967),T=t(11135),k=t(95193),F={minHeight:60},I=(0,N.Z)((function(e){return(0,T.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,l=e.selectedTab,d=void 0===l?"0":l,h=e.routes,x=e.isRouteTabs,m=i.useState(d),f=(0,r.Z)(m,2),p=f[0],Z=f[1],g=(0,E.Z)(),v=(0,k.Z)(g.breakpoints.down("md")),y=[],b=[];return n?(n.forEach((function(e){y.push(e.tabConfig),b.push(e.content)})),(0,c.jsx)(u,{value:"".concat(p),children:(0,c.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,c.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,c.jsx)(j,{onChange:function(e,n){Z(n)},orientation:v?"horizontal":"vertical",variant:v?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:y.map((function(e,n){return e?(0,c.jsx)(a.Z,(0,s.Z)((0,s.Z)({className:t.tabHeader,value:"".concat(n),style:F},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,c.jsxs)(o.Z,{className:t.tabContentContainer,children:[x?null:b.map((function(e,n){return(0,c.jsx)(P,{classes:(0,s.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),x?(0,c.jsx)("div",{className:t.tabPanel,children:h}):null]})]})})):null}))},16502:function(e,n,t){t(72791);var s=t(11135),r=t(25787),i=t(80184);n.Z=(0,r.Z)((function(e){return(0,s.Z)({headerContainer:{backgroundColor:"#e78794",borderRadius:3,marginBottom:20,padding:1,paddingBottom:15},labelHeadline:{color:"#000000",fontSize:14,marginLeft:20},labelText:{color:"#000000",fontSize:14,marginLeft:20,marginRight:40}})}))((function(e){var n=e.classes,t=e.label,s=e.title;return(0,i.jsxs)("div",{className:n.headerContainer,children:[(0,i.jsx)("h4",{className:n.labelHeadline,children:s}),(0,i.jsx)("div",{className:n.labelText,children:t})]})}))},58400:function(e,n,t){var s=t(93433),r=t(29439),i=t(1413),o=t(72791),a=t(11135),c=t(25787),l=t(40986),u=t(61889),d=t(21639),h=t(23814),x=t(81207),m=t(92983),f=t(59114),p=t(87995),Z=t(81551),j=t(74616),g=t(60364),v=t(80184);n.Z=(0,c.Z)((function(e){return(0,a.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,i.Z)({},h.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},h.qg),h.VX),h.OR),h.jY))}))((function(e){var n=e.classes,t=(e.selectedPolicy,(0,Z.TL)()),i=(0,o.useState)([]),a=(0,r.Z)(i,2),c=a[0],h=a[1],y=(0,o.useState)(!1),b=(0,r.Z)(y,2),S=b[0],A=b[1],C=(0,o.useState)(""),w=(0,r.Z)(C,2),P=w[0],N=w[1],E=(0,g.v9)((function(e){return e.createUser.selectedPolicies})),T=(0,o.useCallback)((function(){A(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;A(!1),h(n.sort(d.g4))})).catch((function(e){A(!1),t((0,p.zb)(e))}))}),[t]);(0,o.useEffect)((function(){A(!0)}),[]),(0,o.useEffect)((function(){S&&T()}),[S,T]);var k=c.filter((function(e){return e.name.includes(P)}));return(0,v.jsx)(u.ZP,{container:!0,children:(0,v.jsxs)(u.ZP,{item:!0,xs:12,children:[S&&(0,v.jsx)(l.Z,{}),c.length>0?(0,v.jsxs)(o.Fragment,{children:[(0,v.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,v.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(f.Z,{placeholder:"Start typing to search for a Policy",onChange:function(e){N(e)},value:P})})]}),(0,v.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,style:{paddingBottom:16},children:(0,v.jsx)(m.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,r=n.value,i=n.checked,o=(0,s.Z)(E);i?o.push(r):o=o.filter((function(e){return e!==r})),o=o.filter((function(e){return""!==e})),t((0,j.ue)(o))},selectedItems:E,isLoading:S,records:k,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})}))},49076:function(e,n,t){t.r(n);var s=t(37762),r=t(29439),i=t(72791),o=t(60364),a=t(51691),c=t(16871),l=t(87995),u=t(23742),d=t(45248),h=t(56087),x=t(9505),m=t(2148),f=t(16502),p=t(92983),Z=t(81207),j=t(72401),g=t(80184),v={setErrorSnackMessage:l.Ih},y=(0,o.$j)(null,v);n.default=y((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,o=e.selectedUsers,l=e.setErrorSnackMessage,v=(0,c.s0)(),y=function(){return n(!1)},b=(0,x.Z)((function(){return n(!0)}),(function(e){return l(e)})),S=(0,r.Z)(b,2),A=S[0],C=S[1],w=(0,i.useState)(!0),P=(0,r.Z)(w,2),N=P[0],E=P[1],T=(0,i.useState)(!1),k=(0,r.Z)(T,2),F=k[0],I=k[1],L=(0,i.useState)([]),R=(0,r.Z)(L,2),M=R[0],U=R[1],D=localStorage.getItem("userLoggedIn")||"";if((0,i.useEffect)((function(){o&&Z.Z.invoke("POST","/api/v1/users/service-accounts",o).then((function(e){U(e.userServiceAccountList),e.hasSA&&I(!0),E(!1)})).catch((function(e){l(e),E(!1)}))}),[o,l]),!o)return null;var O=o.map((function(e){return(0,g.jsx)("div",{children:(0,g.jsx)("b",{children:e})},e)})),B=[{type:"view",onClick:function(e){v("".concat(h.gA.USERS,"/").concat((0,d.LL)(e.userName))),y()}}],K="Are you sure you want to delete the following "+o.length+" user"+(o.length>1?"s?":"?");return N?(0,g.jsx)(j.Z,{}):(0,g.jsx)(m.Z,{title:"Delete User".concat(o.length>1?"s":""),confirmText:"Delete",isOpen:t,titleIcon:(0,g.jsx)(u.NvT,{}),isLoading:A,onConfirm:function(){var e,t=(0,s.Z)(o);try{for(t.s();!(e=t.n()).done;){var r=e.value;r===D?(l({errorMessage:"Cannot delete currently logged in user",detailedError:"Cannot delete currently logged in user ".concat(D)}),n(!0)):(C("DELETE","/api/v1/user/".concat((0,d.LL)(r))),n(!0),v("".concat(h.gA.USERS)))}}catch(i){t.e(i)}finally{t.f()}},onClose:y,confirmationContent:(0,g.jsx)(a.Z,{children:F?(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(f.Z,{label:"Click on a user to view the full listing of asociated Service Accounts. All Service Accounts associated with a user will be deleted along with the user. Are you sure you want to continue?",title:"Warning: One or more users selected has associated Service Accounts. "}),(0,g.jsx)(p.Z,{itemActions:B,columns:[{label:"Username",elementKey:"userName"},{label:"# Associated Service Accounts",elementKey:"numSAs"}],isLoading:N,records:M,entityName:"User Service Accounts",idField:"userName",customPaperHeight:"250"})]}):(0,g.jsxs)(i.Fragment,{children:[K,O]})})})}))},83658:function(e,n,t){var s=t(93433),r=t(29439),i=t(1413),o=t(72791),a=t(11135),c=t(25787),l=t(40986),u=t(26181),d=t.n(u),h=t(61889),x=t(21639),m=t(23814),f=t(81207),p=t(92983),Z=t(59114),j=t(87995),g=t(81551),v=t(80184);n.Z=(0,c.Z)((function(e){return(0,a.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},actionsTitle:{fontWeight:400,color:"#000",fontSize:14,alignSelf:"center",marginRight:48,"@media (max-width: 900px)":{marginRight:0}},searchBox:{flex:1,marginLeft:"2rem"}},m.VX),m.OR),m.jY))}))((function(e){var n=e.classes,t=e.selectedGroups,i=e.setSelectedGroups,a=(0,g.TL)(),c=(0,o.useState)([]),u=(0,r.Z)(c,2),m=u[0],y=u[1],b=(0,o.useState)(!1),S=(0,r.Z)(b,2),A=S[0],C=S[1],w=(0,o.useState)(""),P=(0,r.Z)(w,2),N=P[0],E=P[1],T=(0,o.useCallback)((function(){f.Z.invoke("GET","/api/v1/groups").then((function(e){var n=d()(e,"groups",[]);n||(n=[]),y(n.sort(x.V2)),C(!1)})).catch((function(e){a((0,j.zb)(e)),C(!1)}))}),[a]);(0,o.useEffect)((function(){C(!0)}),[]),(0,o.useEffect)((function(){A&&T()}),[A,T]);var k=t||[],F=m.filter((function(e){return e.includes(N)}));return(0,v.jsx)(o.Fragment,{children:(0,v.jsxs)(h.ZP,{item:!0,xs:12,children:[A&&(0,v.jsx)(l.Z,{}),null!==m&&m.length>0?(0,v.jsxs)(o.Fragment,{children:[(0,v.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,v.jsx)("label",{className:n.actionsTitle,children:"Assign Groups"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(Z.Z,{placeholder:"Start typing to search for Groups",adornmentPosition:"end",onChange:E,value:N})})]}),(0,v.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(p.Z,{columns:[{label:"Group",elementKey:""}],onSelect:function(e){var n=e.target,t=n.value,r=n.checked,o=(0,s.Z)(k);return r?o.push(t):o=o.filter((function(e){return e!==t})),i(o),o},selectedItems:k,isLoading:A,records:F,entityName:"Groups",idField:"",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Groups Available"})]})})}))},98202:function(e,n,t){t.r(n),t.d(n,{default:function(){return be}});var s=t(72791),r=t(16871),i=t(50099),o=t(93433),a=t(29439),c=t(1413),l=t(11135),u=t(25787),d=t(81207),h=t(61889),x=t(40986),m=t(21639),f=t(23742),p=t(23814),Z=t(92983),j=t(32291),g=t(45248),v=t(23804),y=t(81806),b=t(74794),S=t(59114),A=t(75578),C=t(56087),w=t(40603),P=t(38442),N=t(87995),E=t(81551),T=t(80184),k=(0,A.Z)(s.lazy((function(){return Promise.resolve().then(t.bind(t,49076))}))),F=(0,A.Z)(s.lazy((function(){return t.e(9221).then(t.bind(t,49221))}))),I=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},p.OR),p.qg),{},{searchField:(0,c.Z)((0,c.Z)({},p.qg.searchField),{},{marginRight:"auto",maxWidth:380})},p.VX),(0,p.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,E.TL)(),i=(0,r.s0)(),c=(0,s.useState)([]),l=(0,a.Z)(c,2),u=l[0],p=l[1],A=(0,s.useState)(!0),I=(0,a.Z)(A,2),L=I[0],R=I[1],M=(0,s.useState)(!1),U=(0,a.Z)(M,2),D=U[0],O=U[1],B=(0,s.useState)(!1),K=(0,a.Z)(B,2),_=K[0],z=K[1],G=(0,s.useState)(""),V=(0,a.Z)(G,2),W=V[0],H=V[1],Y=(0,s.useState)([]),J=(0,a.Z)(Y,2),q=J[0],X=J[1],Q=(0,P.F)(C.C3,[C.Ft.ADMIN_LIST_USERS]),$=(0,P.F)(C.C3,[C.Ft.ADMIN_GET_USER]),ee=(0,P.F)(C.C3,[C.Ft.ADMIN_ADD_USER_TO_GROUP]),ne=(0,P.F)(C.C3,[C.Ft.ADMIN_DELETE_USER]);(0,s.useEffect)((function(){L&&(Q?d.Z.invoke("GET","/api/v1/users").then((function(e){var n=null===e.users?[]:e.users;R(!1),p(n.sort(m.LQ))})).catch((function(e){R(!1),t((0,N.Ih)(e))})):R(!1))}),[L,t,Q]);var te=u.filter((function(e){return e.accessKey.includes(W)})),se=function(e){i("".concat(C.gA.USERS,"/").concat((0,g.LL)(e.accessKey)))},re=[{type:"view",onClick:se,disableButtonFunction:function(){return!$}},{type:"edit",onClick:se,disableButtonFunction:function(){return!$}}];return(0,T.jsxs)(s.Fragment,{children:[D&&(0,T.jsx)(k,{deleteOpen:D,selectedUsers:q,closeDeleteModalAndRefresh:function(e){!function(e){O(!1),e&&R(!0),X([])}(e)}}),_&&(0,T.jsx)(F,{open:_,checkedUsers:q,closeModalAndRefresh:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];z(!1),e&&X([])}(e)}}),(0,T.jsx)(j.Z,{label:"Users"}),(0,T.jsxs)(b.Z,{children:[(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,T.jsx)(S.Z,{placeholder:"Search Users",onChange:H,overrideClass:n.searchField,value:W}),(0,T.jsx)(P.s,{resource:C.C3,scopes:[C.Ft.ADMIN_DELETE_USER],matchAll:!0,errorProps:{disabled:!0},children:(0,T.jsx)(w.Z,{tooltip:"Delete Selected",onClick:function(){O(!0)},text:"Delete Selected",icon:(0,T.jsx)(f.pJl,{}),color:"secondary",disabled:0===q.length,variant:"outlined","aria-label":"delete-selected-users"})}),(0,T.jsx)(P.s,{scopes:[C.Ft.ADMIN_ADD_USER_TO_GROUP],resource:C.C3,errorProps:{disabled:!0},children:(0,T.jsx)(w.Z,{tooltip:"Add to Group",text:"Add to Group",icon:(0,T.jsx)(f.wws,{}),color:"primary",disabled:q.length<=0,onClick:function(){q.length>0&&z(!0)},variant:"outlined"})}),(0,T.jsx)(P.s,{scopes:[C.Ft.ADMIN_CREATE_USER,C.Ft.ADMIN_LIST_USER_POLICIES,C.Ft.ADMIN_LIST_GROUPS],resource:C.HQ,matchAll:!0,errorProps:{disabled:!0},children:(0,T.jsx)(w.Z,{tooltip:"Create User",text:"Create User",icon:(0,T.jsx)(f.dtP,{}),color:"primary",onClick:function(){i("".concat(C.gA.USER_ADD))},variant:"contained"})})]}),L&&(0,T.jsx)(x.Z,{}),!L&&(0,T.jsxs)(s.Fragment,{children:[u.length>0&&(0,T.jsxs)(s.Fragment,{children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,marginBottom:"15px",children:(0,T.jsx)(P.s,{scopes:[C.Ft.ADMIN_LIST_USERS],resource:C.C3,errorProps:{disabled:!0},children:(0,T.jsx)(Z.Z,{itemActions:re,columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:ee||ne?function(e){var n=e.target,t=(n=void 0===n?{}:n).value,s=void 0===t?"":t,r=n.checked,i=void 0!==r&&r,a=(0,o.Z)(q);return i?a.push(s):a=a.filter((function(e){return e!==s})),X(a),a}:void 0,selectedItems:q,isLoading:L,records:te,entityName:"Users",idField:"accessKey"})})}),(0,T.jsx)(v.Z,{title:"Users",iconComponent:(0,T.jsx)(f.oyc,{}),help:(0,T.jsxs)(s.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,T.jsx)("br",{}),"Groups provide a simplified method for managing shared permissions among users with common access patterns and workloads.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"Users inherit access permissions to data and resources through the groups they belong to.",(0,T.jsx)("br",{}),"MinIO uses Policy-Based Access Control (PBAC) to define the authorized actions and resources to which an authenticated user has access. Each policy describes one or more actions and conditions that outline the permissions of a user or group of users.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"Each user can access only those resources and operations which are explicitly granted by the built-in role. MinIO denies access to any other resource or action by default.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"You can learn more at our"," ",(0,T.jsx)("a",{href:"https://docs.min.io/minio/k8s/tutorials/user-management.html?ref=con",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})})]}),0===u.length&&(0,T.jsx)(h.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"start",children:(0,T.jsx)(h.ZP,{item:!0,xs:8,children:(0,T.jsx)(v.Z,{title:"Users",iconComponent:(0,T.jsx)(f.oyc,{}),help:(0,T.jsxs)(s.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,T.jsx)("br",{}),"Groups provide a simplified method for managing shared permissions among users with common access patterns and workloads.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"Users inherit access permissions to data and resources through the groups they belong to.",(0,T.jsx)("br",{}),"MinIO uses Policy-Based Access Control (PBAC) to define the authorized actions and resources to which an authenticated user has access. Each policy describes one or more actions and conditions that outline the permissions of a user or group of users.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"Each user can access only those resources and operations which are explicitly granted by the built-in role. MinIO denies access to any other resource or action by default.",(0,T.jsxs)(P.s,{scopes:[C.Ft.ADMIN_CREATE_USER,C.Ft.ADMIN_LIST_USER_POLICIES,C.Ft.ADMIN_LIST_GROUPS],matchAll:!0,resource:C.C3,children:[(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"To get started,"," ",(0,T.jsx)(y.Z,{onClick:function(){i("".concat(C.gA.USER_ADD))},children:"Create a User"}),"."]})]})})})})]})]})]})})),L=t(37762),R=t(36151),M=t(83658),U=t(56028),D=t(54163),O=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)({buttonContainer:{textAlign:"right"}},p.bK),p.oO))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,r=e.selectedUser,i=e.open,o=(0,E.TL)(),c=(0,s.useState)(!1),l=(0,a.Z)(c,2),u=l[0],m=l[1],f=(0,s.useState)(""),p=(0,a.Z)(f,2),Z=p[0],j=p[1],v=(0,s.useState)(""),y=(0,a.Z)(v,2),b=y[0],S=y[1],A=(0,s.useState)(!1),C=(0,a.Z)(A,2),w=C[0],P=C[1],k=(0,s.useState)([]),F=(0,a.Z)(k,2),I=F[0],L=F[1],O=(0,s.useCallback)((function(){if(!r)return null;d.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(r))).then((function(e){m(!1),j(e.accessKey),L(e.memberOf||[]),P("enabled"===e.status)})).catch((function(e){m(!1),o((0,N.zb)(e))}))}),[r,o]);(0,s.useEffect)((function(){null===r?(j(""),S(""),L([])):O()}),[r,O]);var B=""!==Z.trim()&&(""!==b.trim()&&null===r||null!==r);return(0,T.jsx)(U.Z,{onClose:function(){t()},modalOpen:i,title:"Set Groups",titleIcon:(0,T.jsx)(D.Z,{}),children:(0,T.jsx)(s.Fragment,{children:(0,T.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u||(m(!0),null!==r?d.Z.invoke("PUT","/api/v1/user/".concat((0,g.LL)(r)),{status:w?"enabled":"disabled",groups:I}).then((function(e){m(!1),t()})).catch((function(e){m(!1),o((0,N.zb)(e))})):d.Z.invoke("POST","/api/v1/users",{accessKey:Z,secretKey:b,groups:I}).then((function(e){m(!1),t()})).catch((function(e){m(!1),o((0,N.zb)(e))})))},children:(0,T.jsxs)(h.ZP,{container:!0,children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,T.jsx)(M.Z,{selectedGroups:I,setSelectedGroups:function(e){L(e)}})}),(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,T.jsx)(R.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){null===r?(j(""),S(""),L([])):L([])},children:"Clear"}),(0,T.jsx)(R.Z,{type:"submit",variant:"contained",color:"primary",disabled:u||!B,children:"Save"})]}),u&&(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(x.Z,{})})]})})})})})),B=t(58400),K=t(60364),_=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)({},p.oO),{},{buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))((function(e){var n=e.classes,t=e.closeModalAndRefresh,r=e.selectedUser,i=e.currentPolicies,o=e.open,c=(0,E.TL)(),l=(0,s.useState)(!1),u=(0,a.Z)(l,2),m=u[0],f=u[1],p=(0,s.useState)([]),Z=(0,a.Z)(p,2),j=Z[0],g=Z[1],v=(0,s.useState)([]),y=(0,a.Z)(v,2),b=y[0],S=y[1],A=(0,K.v9)((function(e){return e.createUser.selectedPolicies}));return(0,s.useEffect)((function(){if(o){var e,n=[],t=(0,L.Z)(i);try{for(t.s();!(e=t.n()).done;){var s=e.value;n.push(s.policy)}}catch(r){t.e(r)}finally{t.f()}g(n),S(n)}}),[o,r]),(0,T.jsxs)(U.Z,{onClose:function(){t()},modalOpen:o,title:"Set Policies",children:[(0,T.jsx)(h.ZP,{container:!0,children:(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(B.Z,{selectedPolicy:b})})}),(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,T.jsx)("button",{type:"button",color:"primary",className:n.clearButton,onClick:function(){S(j)},children:"Reset"}),(0,T.jsx)(R.Z,{type:"button",variant:"contained",color:"primary",disabled:m,onClick:function(){var e=r;f(!0),d.Z.invoke("PUT","/api/v1/set-policy",{name:A,entityName:e,entityType:"user"}).then((function(){f(!1),t()})).catch((function(e){f(!1),c((0,N.zb)(e))}))},children:"Save"})]}),m&&(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(x.Z,{})})]})})),z=t(64554),G=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)({},p.bl),p.ID))}))((function(e){e.classes,e.open,e.closeModalAndRefresh,e.user;return(0,T.jsx)(s.Fragment,{children:"zxzzzz"})})),V=t(23956),W=t(37798),H=t(60680),Y=t(18303),J=t(58493),q=t(14048),X=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},p.qg),p.OR),{},{actionsTray:(0,c.Z)({},p.OR.actionsTray)},p.VX))}))((function(e){var n=e.classes,t=e.user,i=e.hasPolicy,o=(0,E.TL)(),c=(0,r.s0)(),l=(0,s.useState)([]),u=(0,a.Z)(l,2),h=u[0],x=u[1],p=(0,s.useState)(!1),j=(0,a.Z)(p,2),v=j[0],y=j[1],b=(0,s.useState)(!1),S=(0,a.Z)(b,2),A=S[0],k=S[1],F=(0,s.useState)(!1),I=(0,a.Z)(F,2),L=I[0],R=I[1],M=(0,s.useState)(null),U=(0,a.Z)(M,2),D=U[0],O=U[1],B=(0,s.useState)(!1),K=(0,a.Z)(B,2),_=K[0],X=K[1],Q=(0,s.useState)(null),$=(0,a.Z)(Q,2),ee=$[0],ne=$[1],te=(0,s.useState)([]),se=(0,a.Z)(te,2),re=se[0],ie=se[1],oe=(0,s.useState)(!1),ae=(0,a.Z)(oe,2),ce=ae[0],le=ae[1],ue=(0,s.useState)(!1),de=(0,a.Z)(ue,2),he=de[0],xe=de[1];(0,s.useEffect)((function(){me()}),[]),(0,s.useEffect)((function(){v&&d.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(t),"/service-accounts")).then((function(e){var n=e.sort(m.V2);y(!1),x(n)})).catch((function(e){o((0,N.Ih)(e)),y(!1)}))}),[v,y,x,t,o]);var me=function(){y(!0)},fe=[{type:"view",onClick:function(e){O(e),xe(!0)}},{type:"delete",onClick:function(e){O(e),R(!0)}}];return(0,T.jsxs)(s.Fragment,{children:[A&&(0,T.jsx)(G,{open:A,closeModalAndRefresh:function(e){!function(e){if(k(!1),me(),null!==e){var n={console:{accessKey:"".concat(e.accessKey),secretKey:"".concat(e.secretKey),url:"".concat(e.url)}};ne(n),X(!0)}}(e)},user:t}),L&&(0,T.jsx)(V.default,{deleteOpen:L,selectedServiceAccount:D,closeDeleteModalAndRefresh:function(e){!function(e){R(!1),e&&me()}(e)}}),ce&&(0,T.jsx)(Y.Z,{deleteOpen:ce,selectedSAs:re,closeDeleteModalAndRefresh:function(e){le(!1),e&&(o((0,N.y1)("Service accounts deleted successfully.")),ie([]),y(!0))}}),_&&(0,T.jsx)(W.default,{newServiceAccount:ee,open:_,closeModal:function(){X(!1),ne(null)},entity:"Service Account"}),he&&(0,T.jsx)(q.Z,{open:he,selectedAccessKey:D,closeModalAndRefresh:function(){xe(!1),y(!0)}}),(0,T.jsxs)("div",{className:n.actionsTray,children:[(0,T.jsx)(H.Z,{children:"Service Accounts"}),(0,T.jsxs)(z.Z,{children:[(0,T.jsx)(w.Z,{tooltip:"Delete Selected",onClick:function(){le(!0)},text:"Delete Selected",icon:(0,T.jsx)(f.pJl,{}),color:"secondary",disabled:0===re.length,variant:"outlined"}),(0,T.jsx)(P.s,{scopes:[C.Ft.ADMIN_CREATE_SERVICEACCOUNT,C.Ft.ADMIN_UPDATE_SERVICEACCOUNT,C.Ft.ADMIN_REMOVE_SERVICEACCOUNT,C.Ft.ADMIN_LIST_SERVICEACCOUNTS],resource:C.C3,matchAll:!0,errorProps:{disabled:!0},children:(0,T.jsx)(w.Z,{tooltip:"Create service account",text:"Create service account",variant:"contained",color:"primary",icon:(0,T.jsx)(f.dtP,{}),onClick:function(){c("/identity/users/new-user-sa/".concat((0,g.LL)(t)))},disabled:!i})})]})]}),(0,T.jsx)("div",{className:n.tableBlock,children:(0,T.jsx)(Z.Z,{isLoading:v,records:h,entityName:"Service Accounts",idField:"",columns:[{label:"Service Account",elementKey:""}],itemActions:fe,selectedItems:re,onSelect:function(e){return(0,J._0)(e,ie,re)},onSelectAll:function(){re.length!==h.length?ie(h):ie([])}})})]})})),Q=t(21435),$=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)({buttonContainer:{textAlign:"right"}},p.ID),p.DF),p.bK),(0,p.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.open,r=e.userName,i=e.closeModal,o=(0,E.TL)(),c=(0,s.useState)(""),l=(0,a.Z)(c,2),u=l[0],m=l[1],p=(0,s.useState)(""),Z=(0,a.Z)(p,2),j=Z[0],g=Z[1],v=(0,s.useState)(!1),y=(0,a.Z)(v,2),b=y[0],S=y[1];return t?(0,T.jsx)(U.Z,{title:"Change User Password",modalOpen:t,onClose:function(){m(""),g(""),i()},titleIcon:(0,T.jsx)(f.IaT,{}),children:(0,T.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!b){if(S(!0),u.length<8)return o((0,N.zb)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""})),void S(!1);var n={selectedUser:r,newSecretKey:u};d.Z.invoke("POST","/api/v1/account/change-user-password",n).then((function(e){S(!1),m(""),g(""),i()})).catch((function(e){S(!1),m(""),g(""),o((0,N.zb)(e))}))}}(e)},children:(0,T.jsxs)(h.ZP,{container:!0,children:[(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,T.jsxs)("div",{className:n.spacerBottom,children:["Change password for: ",r]}),(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(Q.Z,{id:"new-password",name:"new-password",onChange:function(e){m(e.target.value)},label:"New Password",type:"password",value:u})}),(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,T.jsx)(Q.Z,{id:"re-new-password",name:"re-new-password",onChange:function(e){g(e.target.value)},label:"Type New Password Again",type:"password",value:j})})]}),(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.buttonContainer,children:(0,T.jsx)(R.Z,{type:"submit",variant:"contained",color:"primary",disabled:b||!(j.length>0&&u===j),children:"Save"})}),b&&(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(x.Z,{})})]})})}):null})),ee=t(49076),ne=t(14917),te=t(14662),se=t(37516),re=t(84669),ie=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)({pageContainer:{border:"1px solid #EAEAEA"},statusLabel:{fontSize:".8rem",marginRight:".5rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".5rem"}},p.OR),p.qg),p.VX),(0,p.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,E.TL)(),i=(0,r.UO)(),o=(0,r.s0)(),c=(0,s.useState)(!1),l=(0,a.Z)(c,2),u=l[0],x=l[1],m=(0,s.useState)(!1),p=(0,a.Z)(m,2),v=p[0],y=p[1],S=(0,s.useState)(!1),A=(0,a.Z)(S,2),k=A[0],F=A[1],I=(0,s.useState)(!1),R=(0,a.Z)(I,2),M=R[0],U=R[1],D=(0,s.useState)(!1),B=(0,a.Z)(D,2),K=B[0],z=B[1],G=(0,s.useState)([]),V=(0,a.Z)(G,2),W=V[0],Y=V[1],J=(0,s.useState)([]),q=(0,a.Z)(J,2),Q=q[0],ie=q[1],oe=(0,s.useState)([]),ae=(0,a.Z)(oe,2),ce=ae[0],le=ae[1],ue=(0,s.useState)(!1),de=(0,a.Z)(ue,2),he=de[0],xe=de[1],me=(0,s.useState)(!1),fe=(0,a.Z)(me,2),pe=fe[0],Ze=fe[1],je=(0,s.useState)(!1),ge=(0,a.Z)(je,2),ve=ge[0],ye=ge[1],be=(0,g.IO)(i.userName||""),Se=(0,P.F)(C.C3,[C.Ft.ADMIN_GET_GROUP]),Ae=(0,s.useCallback)((function(){if(""===be)return null;x(!0),d.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(be))).then((function(e){U(!1);var n=e.memberOf||[];Y(n);var t,s=[],r=(0,L.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;s.push({group:i})}}catch(u){r.e(u)}finally{r.f()}ie(s);var o,a=[],c=(0,L.Z)(e.policy);try{for(c.s();!(o=c.n()).done;){var l=o.value;a.push({policy:l})}}catch(u){c.e(u)}finally{c.f()}le(a),z("enabled"===e.status),ye(e.hasPolicy),x(!1)})).catch((function(e){U(!1),x(!1),t((0,N.zb)(e))}))}),[be,t]);(0,s.useEffect)((function(){Ae()}),[Ae]);var Ce=[{type:"view",onClick:function(e){o("".concat(C.gA.GROUPS,"/").concat((0,g.LL)(e.group)))},disableButtonFunction:function(){return!Se}}];return(0,T.jsxs)(s.Fragment,{children:[(0,T.jsx)(j.Z,{label:(0,T.jsx)(s.Fragment,{children:(0,T.jsx)(re.Z,{label:"Users",to:C.gA.USERS})}),actions:(0,T.jsx)(s.Fragment,{})}),v&&(0,T.jsx)(O,{open:v,selectedUser:be,closeModalAndRefresh:function(){y(!1),Ae()}}),k&&(0,T.jsx)(_,{open:k,selectedUser:be,currentPolicies:ce,closeModalAndRefresh:function(){F(!1),Ae()}}),pe&&(0,T.jsx)(ee.default,{deleteOpen:pe,selectedUsers:[be],closeDeleteModalAndRefresh:function(e){!function(e){Ze(!1),e&&Ae()}(e)}}),he&&(0,T.jsx)($,{open:he,userName:be,closeModal:function(){return xe(!1)}}),(0,T.jsxs)(b.Z,{className:n.pageContainer,children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(ne.Z,{icon:(0,T.jsx)(s.Fragment,{children:(0,T.jsx)(f.oyc,{width:40})}),title:be,actions:(0,T.jsxs)(s.Fragment,{children:[(0,T.jsx)("span",{className:n.statusLabel,children:"User Status:"}),(0,T.jsx)("span",{className:n.statusValue,children:K?"Enabled":"Disabled"}),(0,T.jsx)(se.Z,{indicatorLabels:["Enabled","Disabled"],checked:K,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;z(!K),e=!K,M||(U(!0),d.Z.invoke("PUT","/api/v1/user/".concat((0,g.LL)(be)),{status:e?"enabled":"disabled",groups:W}).then((function(e){U(!1)})).catch((function(e){U(!1),t((0,N.zb)(e))})))},switchOnly:!0}),(0,T.jsx)(w.Z,{tooltip:"Delete User",text:"",onClick:function(){Ze(!0)},icon:(0,T.jsx)(f.XHJ,{}),color:"secondary",variant:"outlined"}),(0,T.jsx)(w.Z,{tooltip:"Change Password",text:"",onClick:function(){xe(!0)},icon:(0,T.jsx)(f.tvm,{}),color:"primary",variant:"outlined"})]})})}),(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsxs)(te.Z,{children:[{tabConfig:{label:"Groups"},content:(0,T.jsxs)(s.Fragment,{children:[(0,T.jsxs)("div",{className:n.actionsTray,children:[(0,T.jsx)(H.Z,{children:"Groups"}),(0,T.jsx)(w.Z,{tooltip:"Add to Groups",text:"Add to Groups",onClick:function(){y(!0)},icon:(0,T.jsx)(f.dtP,{}),color:"primary",variant:"contained"})]}),(0,T.jsx)("div",{className:n.tableBlock,children:(0,T.jsx)(Z.Z,{itemActions:Ce,columns:[{label:"Name",elementKey:"group"}],isLoading:u,records:Q,entityName:"Groups",idField:"group"})})]})},{tabConfig:{label:"Service Accounts"},content:(0,T.jsx)(X,{user:be,hasPolicy:ve})},{tabConfig:{label:"Policies"},content:(0,T.jsxs)(s.Fragment,{children:[(0,T.jsxs)("div",{className:n.actionsTray,children:[(0,T.jsx)(H.Z,{children:"Policies"}),(0,T.jsx)(w.Z,{tooltip:"Assign Policies",text:"Assign Policies",onClick:function(){F(!0)},icon:(0,T.jsx)(f.v42,{}),color:"primary",variant:"contained"})]}),(0,T.jsx)("div",{className:n.tableBlock,children:(0,T.jsx)(Z.Z,{itemActions:[{type:"view",onClick:function(e){o("".concat(C.gA.POLICIES,"/").concat((0,g.LL)(e.policy)))}}],columns:[{label:"Name",elementKey:"policy"}],isLoading:u,records:ce,entityName:"Policies",idField:"policy"})})]})}]})})]})]})})),oe=t(74616),ae=function(e){var n=e.classes,t=(0,E.TL)(),r=(0,K.v9)((function(e){return e.createUser.userName}));return(0,T.jsx)(s.Fragment,{children:(0,T.jsx)(Q.Z,{className:n.spacerBottom,classes:{inputLabel:n.sizedLabel},id:"accesskey-input",name:"accesskey-input",label:"User Name",value:r,autoFocus:!0,onChange:function(e){t((0,oe.b4)(e.target.value))}})})},ce=t(20165),le=t(3579),ue=function(e){var n=e.classes,t=(0,E.TL)(),s=(0,K.v9)((function(e){return e.createUser.showPassword})),r=(0,K.v9)((function(e){return e.createUser.secretKey}));return(0,T.jsx)(Q.Z,{className:n.spacerBottom,classes:{inputLabel:n.sizedLabel},id:"standard-multiline-static",name:"standard-multiline-static",label:"Password",type:s?"text":"password",value:r,onChange:function(e){t((0,oe.xz)(e.target.value))},autoComplete:"current-password",overlayIcon:s?(0,T.jsx)(ce.Z,{}):(0,T.jsx)(le.Z,{}),overlayAction:function(){return t((0,oe.R5)(!s))}})},de=t(58429),he=t(25739),xe=function(e){var n=e.icon,t=e.description;return(0,T.jsxs)(z.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,T.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})},me=function(){return(0,T.jsxs)(z.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:[(0,T.jsxs)(z.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,T.jsx)(f.M9A,{}),(0,T.jsx)("div",{children:"Learn more about the Users feature"})]}),(0,T.jsxs)(z.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"Each user can have one or more assigned policies that explicitly list the actions and resources to which that user has access. Users can also inherit policies from the groups in which they have membership.",(0,T.jsx)("br",{})]}),(0,T.jsxs)(z.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,T.jsx)(xe,{icon:(0,T.jsx)(f.oyc,{}),description:"Create Users"}),(0,T.jsx)(xe,{icon:(0,T.jsx)(f.wws,{}),description:"Manage Groups"}),(0,T.jsx)(xe,{icon:(0,T.jsx)(f.QXQ,{}),description:"Assign Policies"})]})]})},fe=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)({bottomContainer:{display:"flex",flexGrow:1,alignItems:"center",margin:"auto",justifyContent:"center","& div":{width:150,"@media (max-width: 900px)":{flexFlow:"column"}}}},p.DF),p.ID))}))((function(e){var n=e.classes,t=(0,E.TL)(),i=(0,K.v9)((function(e){return e.createUser.selectedPolicies})),o=(0,K.v9)((function(e){return e.createUser.selectedGroups})),a=(0,K.v9)((function(e){return e.createUser.addLoading})),c=(0,K.v9)((function(e){return e.createUser.sendEnabled})),l=(0,K.v9)((function(e){return e.createUser.secretKeylength})),u=(0,r.s0)();t((0,oe.B$)());return(0,T.jsx)(s.Fragment,{children:(0,T.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,T.jsx)(j.Z,{label:(0,T.jsx)(re.Z,{to:C.gA.USERS,label:"Users"})}),(0,T.jsx)(b.Z,{children:(0,T.jsx)(he.Z,{title:"Create User",icon:(0,T.jsx)(f.P3B,{}),helpbox:(0,T.jsx)(me,{}),children:(0,T.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),l<8)return t((0,N.Ih)({errorMessage:"Passwords must be at least 8 characters long",detailedError:""})),void t((0,oe.NV)(!1));a||(t((0,oe.NV)(!0)),t((0,de.h)()).unwrap().then((function(){return u("".concat(C.gA.USERS))})))}(e)},children:(0,T.jsxs)(h.ZP,{container:!0,children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.formFieldRow,children:(0,T.jsx)(ae,{classes:n})})}),(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.formFieldRow,children:(0,T.jsx)(ue,{classes:n})})}),(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(B.Z,{selectedPolicy:i})}),(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(M.Z,{selectedGroups:o,setSelectedGroups:function(e){t((0,oe.wY)(e))}})}),a&&(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(x.Z,{})}),(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,T.jsx)(R.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(e){t((0,de.S)())},children:"Clear"}),(0,T.jsx)(R.Z,{type:"submit",variant:"contained",color:"primary",disabled:a||!c,children:"Save"})]})]})})})})]})})})),pe=t(92217),Ze=t(50896),je=t(84741),ge=function(e){var n=e.icon,t=e.description;return(0,T.jsxs)(z.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,T.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})},ve=function(){return(0,T.jsxs)(z.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:[(0,T.jsxs)(z.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,T.jsx)(f.M9A,{}),(0,T.jsx)("div",{children:"Learn more about Service Accounts"})]}),(0,T.jsxs)(z.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:[(0,T.jsxs)(z.Z,{sx:{paddingBottom:"20px"},children:[(0,T.jsx)(ge,{icon:(0,T.jsx)(f.nO6,{}),description:"Create Service Accounts"}),(0,T.jsx)(z.Z,{sx:{paddingTop:"20px"},children:"Service Accounts inherit the policies explicitly attached to the parent user, and the policies attached to each group in which the parent user has membership."})]}),(0,T.jsxs)(z.Z,{sx:{paddingBottom:"20px"},children:[(0,T.jsx)(ge,{icon:(0,T.jsx)(f.tvm,{}),description:"Assign Custom Credentials"}),(0,T.jsx)(z.Z,{sx:{paddingTop:"10px"},children:"Randomized access credentials are recommended, and provided by default. You may use your own custom Access Key and Secret Key by replacing the default values. After creation of any Service Account, you will be given the opportunity to view and download the account credentials."}),(0,T.jsx)(z.Z,{sx:{paddingTop:"10px"},children:"Service Accounts support programmatic access by applications. You cannot use a Service Account to log into the MinIO Console."})]}),(0,T.jsxs)(z.Z,{sx:{paddingBottom:"20px"},children:[(0,T.jsx)(ge,{icon:(0,T.jsx)(f.v42,{}),description:"Assign Access Policies"}),(0,T.jsx)(z.Z,{sx:{paddingTop:"10px"},children:"You can specify an optional JSON-formatted IAM policy to further restrict Service Account access to a subset of the actions and resources explicitly allowed for the parent user. Additional access beyond that of the parent user cannot be implemented through these policies."}),(0,T.jsx)(z.Z,{sx:{paddingTop:"10px"},children:"You cannot modify the optional Service Account IAM policy after saving."})]})]}),(0,T.jsx)(z.Z,{sx:{display:"flex",flexFlow:"column"}})]})},ye=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)((0,c.Z)({bottomContainer:{display:"flex",flexGrow:1,alignItems:"center",margin:"auto",justifyContent:"center","& div":{width:150,"@media (max-width: 900px)":{flexFlow:"column"}}}},p.DF),p.ID))}))((function(e){var n=e.classes,t=(0,E.TL)(),i=(0,r.UO)(),o=(0,r.s0)(),c=(0,s.useState)(!1),l=(0,a.Z)(c,2),u=l[0],x=l[1],m=(0,s.useState)((0,je.z)(16)),p=(0,a.Z)(m,2),Z=p[0],v=p[1],y=(0,s.useState)((0,je.z)(32)),S=(0,a.Z)(y,2),A=S[0],w=S[1],P=(0,s.useState)(!1),k=(0,a.Z)(P,2),F=k[0],I=k[1],L=(0,s.useState)(null),M=(0,a.Z)(L,2),U=M[0],D=M[1],O=(0,s.useState)(!1),B=(0,a.Z)(O,2),K=B[0],_=B[1],G=(0,s.useState)(""),V=(0,a.Z)(G,2),H=V[0],Y=V[1],J=(0,g.IO)(i.userName||"");(0,s.useEffect)((function(){u&&d.Z.invoke("POST","/api/v1/user/".concat((0,g.LL)(J),"/service-account-credentials"),{policy:H,accessKey:Z,secretKey:A}).then((function(e){x(!1),D({accessKey:e.accessKey||"",secretKey:e.secretKey||"",url:e.url||""})})).catch((function(e){x(!1),t((0,N.Ih)(e))}))}),[u,x,t,H,J,Z,A]),(0,s.useEffect)((function(){F&&d.Z.invoke("GET","/api/v1/user/".concat((0,g.LL)(J),"/policies")).then((function(e){Y(JSON.stringify(JSON.parse(e.policy),null,4))})).catch((function(e){(0,N.Ih)(e)}))}),[F,J]);return(0,T.jsxs)(s.Fragment,{children:[U&&(0,T.jsx)(W.default,{newServiceAccount:U,open:!0,closeModal:function(){D(null),o("".concat(C.gA.USERS,"/").concat((0,g.LL)(J)))},entity:"Service Account"}),(0,T.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,T.jsx)(j.Z,{label:(0,T.jsx)(re.Z,{to:"".concat(C.gA.USERS,"/").concat((0,g.LL)(J)),label:"User Details - "+J})}),(0,T.jsx)(b.Z,{children:(0,T.jsxs)(z.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,T.jsxs)(z.Z,{children:[(0,T.jsx)(Ze.Z,{icon:(0,T.jsx)(f.tVY,{}),children:"Create Service Account for ".concat(J)}),(0,T.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),x(!0)}(e)},children:(0,T.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",sx:{marginTop:1},children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)(h.ZP,{container:!0,item:!0,spacing:"20",children:(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsxs)(h.ZP,{container:!0,children:[(0,T.jsx)(h.ZP,{item:!0,xs:1,children:(0,T.jsx)(f.tvm,{})}),(0,T.jsx)(h.ZP,{item:!0,children:(0,T.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",children:[(0,T.jsxs)(h.ZP,{item:!0,xs:12,children:[" ",(0,T.jsx)("div",{className:n.stackedInputs,children:(0,T.jsx)(Q.Z,{value:Z,label:"Access Key",id:"accessKey",name:"accessKey",placeholder:"Enter Access Key",onChange:function(e){v(e.target.value)}})})]}),(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:n.stackedInputs,children:(0,T.jsx)(Q.Z,{value:A,label:"Secret Key",id:"secretKey",name:"secretKey",type:K?"text":"password",placeholder:"Enter Secret Key",onChange:function(e){w(e.target.value)},overlayIcon:K?(0,T.jsx)(ce.Z,{}):(0,T.jsx)(le.Z,{}),overlayAction:function(){return _(!K)}})})})]})})]})})})}),(0,T.jsxs)(h.ZP,{container:!0,item:!0,spacing:"20",children:[(0,T.jsx)(h.ZP,{item:!0,xs:12,children:(0,T.jsxs)(h.ZP,{container:!0,children:[(0,T.jsx)(h.ZP,{item:!0,xs:1,children:(0,T.jsx)(f.v42,{})}),(0,T.jsx)(h.ZP,{item:!0,xs:11,children:(0,T.jsx)(se.Z,{value:"serviceAccountPolicy",id:"serviceAccountPolicy",name:"serviceAccountPolicy",checked:F,onChange:function(e){I(e.target.checked)},label:"Restrict beyond user policy",tooltip:"You can specify an optional JSON-formatted IAM policy to further restrict Service Account access to a subset of the actions and resources explicitly allowed for the parent user. Additional access beyond that of the parent user cannot be implemented through these policies."})})]})}),F&&(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,T.jsx)(h.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,T.jsx)(pe.Z,{label:"Policy",value:H,onBeforeChange:function(e,n,t){Y(t)}})})})]}),(0,T.jsxs)(h.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,T.jsx)(R.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){D(null),v(""),w(""),_(!1)},children:"Clear"}),(0,T.jsx)(R.Z,{type:"submit",variant:"contained",color:"primary",children:"Create"})]})]})})]}),(0,T.jsx)(ve,{})]})})]})]})})),be=function(){return(0,T.jsxs)(r.Z5,{children:[(0,T.jsx)(r.AW,{path:"add-user",element:(0,T.jsx)(fe,{})}),(0,T.jsx)(r.AW,{path:":userName",element:(0,T.jsx)(ie,{})}),(0,T.jsx)(r.AW,{path:"new-user-sa/:userName",element:(0,T.jsx)(ye,{})}),(0,T.jsx)(r.AW,{path:"/",element:(0,T.jsx)(I,{})}),(0,T.jsx)(r.AW,{element:(0,T.jsx)(i.Z,{})})]})}},50099:function(e,n,t){t.d(n,{Z:function(){return l}});t(72791);var s=t(64554),r=t(20890),i=t(23060),o=t(80184);function a(){return(0,o.jsxs)(r.Z,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(0,o.jsx)(i.Z,{color:"inherit",href:"https://min.io/?ref=con",children:"MinIO"})," ",(new Date).getFullYear(),"."]})}var c=t(74794),l=function(){return(0,o.jsx)(c.Z,{children:(0,o.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",margin:"auto",flexFlow:"column"},children:[(0,o.jsx)(s.Z,{sx:{fontSize:"110%",margin:"0 0 0.25rem",color:"#909090"},children:"404 Error"}),(0,o.jsx)(s.Z,{sx:{fontStyle:"normal",fontSize:"clamp(2rem,calc(2rem + 1.2vw),3rem)",fontWeight:700},children:"Sorry, the page could not be found."}),(0,o.jsx)(s.Z,{mt:5,children:(0,o.jsx)(a,{})})]})})}},23060:function(e,n,t){t.d(n,{Z:function(){return w}});var s=t(93433),r=t(29439),i=t(4942),o=t(63366),a=t(87462),c=t(72791),l=t(28182),u=t(94419),d=t(18529),h=t(12065),x=t(14036),m=t(66934),f=t(31402),p=t(23031),Z=t(42071),j=t(20890),g=t(21217);function v(e){return(0,g.Z)("MuiLink",e)}var y=(0,t(75878).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),b=t(80184),S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],A={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},C=(0,m.ZP)(j.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,x.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState,s=(0,d.D)(n,"palette.".concat(function(e){return A[e]||e}(t.color)))||t.color;return(0,a.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==s?(0,h.Fq)(s,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&(0,i.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(y.focusVisible),{outline:"auto"}))})),w=c.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiLink"}),i=t.className,d=t.color,h=void 0===d?"primary":d,m=t.component,j=void 0===m?"a":m,g=t.onBlur,y=t.onFocus,w=t.TypographyClasses,P=t.underline,N=void 0===P?"always":P,E=t.variant,T=void 0===E?"inherit":E,k=t.sx,F=(0,o.Z)(t,S),I=(0,p.Z)(),L=I.isFocusVisibleRef,R=I.onBlur,M=I.onFocus,U=I.ref,D=c.useState(!1),O=(0,r.Z)(D,2),B=O[0],K=O[1],_=(0,Z.Z)(n,U),z=(0,a.Z)({},t,{color:h,component:j,focusVisible:B,underline:N,variant:T}),G=function(e){var n=e.classes,t=e.component,s=e.focusVisible,r=e.underline,i={root:["root","underline".concat((0,x.Z)(r)),"button"===t&&"button",s&&"focusVisible"]};return(0,u.Z)(i,v,n)}(z);return(0,b.jsx)(C,(0,a.Z)({color:h,className:(0,l.Z)(G.root,i),classes:w,component:j,onBlur:function(e){R(e),!1===L.current&&K(!1),g&&g(e)},onFocus:function(e){M(e),!0===L.current&&K(!0),y&&y(e)},ref:_,ownerState:z,variant:T,sx:[].concat((0,s.Z)(Object.keys(A).includes(h)?[]:[{color:h}]),(0,s.Z)(Array.isArray(k)?k:[k]))},F))}))}}]);
//# sourceMappingURL=5517.52e7db11.chunk.js.map