"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6895],{66895:function(e,t,n){n.r(t);var a=n(29439),i=n(1413),o=n(72791),r=n(79271),c=n(91523),s=n(60364),l=n(11135),u=n(25787),d=n(61889),f=n(81207),b=n(23814),p=n(42649),m=n(42209),h=n(32291),x=n(14917),v=n(20068),Z=n(13400),T=n(64554),k=n(28789),C=n(56087),E=n(74794),j=n(50276),_=n(84669),g=n(38442),I=n(75578),y=n(40603),N=n(56375),F=n(80184),S=o.lazy((function(){return Promise.resolve().then(n.bind(n,37746))})),P=o.lazy((function(){return Promise.resolve().then(n.bind(n,56673))})),A=(0,I.Z)(o.lazy((function(){return n.e(9968).then(n.bind(n,39968))}))),B=(0,I.Z)(o.lazy((function(){return Promise.all([n.e(5171),n.e(2983),n.e(2180)]).then(n.bind(n,47494))}))),R=(0,I.Z)(o.lazy((function(){return Promise.all([n.e(5171),n.e(2983),n.e(8253)]).then(n.bind(n,84738))}))),w=(0,I.Z)(o.lazy((function(){return n.e(3328).then(n.bind(n,63328))}))),U=(0,I.Z)(o.lazy((function(){return Promise.all([n.e(5171),n.e(2983),n.e(1440)]).then(n.bind(n,25702))}))),M=(0,I.Z)(o.lazy((function(){return Promise.all([n.e(5171),n.e(5586),n.e(2983),n.e(2512)]).then(n.bind(n,32512))}))),O=(0,I.Z)(o.lazy((function(){return Promise.all([n.e(5171),n.e(5749),n.e(2983),n.e(51)]).then(n.bind(n,51))}))),L=(0,s.$j)((function(e){return{session:e.console.session,selectedTab:e.buckets.bucketDetails.selectedTab,distributedSetup:e.system.distributedSetup,loadingBucket:e.buckets.bucketDetails.loadingBucket,bucketInfo:e.buckets.bucketDetails.bucketInfo,siteReplicationInfo:e.system.siteReplicationInfo}}),{setErrorSnackMessage:p.Ih,setBucketDetailsLoad:m.d5,setBucketInfo:m.f4});t.default=(0,u.Z)((function(e){return(0,l.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pageContainer:{height:"100%"},screenTitle:{border:0,paddingTop:0}},b.Bw),b.qg),{},{capitalize:{textTransform:"capitalize"}},b.bp),b.Si),(0,b.Bz)(e.spacing(4))))}))(L((function(e){var t=e.classes,n=e.match,i=e.history,s=e.setErrorSnackMessage,l=e.distributedSetup,u=e.setBucketDetailsLoad,b=e.loadingBucket,p=e.setBucketInfo,m=e.bucketInfo,I=e.siteReplicationInfo,L=(0,o.useState)(!1),z=(0,a.Z)(L,2),D=z[0],G=z[1],W=(0,o.useState)(!1),H=(0,a.Z)(W,2),K=H[0],Y=H[1],Q=n.params.bucketName,q=null===n||void 0===n?void 0:n.params[0];q=q||"summary";var J=(0,o.useState)(q),V=(0,a.Z)(J,2),X=V[0],$=V[1];(0,o.useEffect)((function(){$(q)}),[q]),(0,o.useEffect)((function(){D||(u(!0),G(!0))}),[D,u,G]),(0,o.useEffect)((function(){b&&f.Z.invoke("GET","/api/v1/buckets/".concat(Q)).then((function(e){u(!1),p(e)})).catch((function(e){u(!1),s(e)}))}),[Q,b,u,p,s]);var ee="/buckets/".concat(Q),te={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},ne=function(e){var t=te[e];return t=t?"".concat(ee).concat(t):"".concat(ee).concat("/admin/summary")};return(0,F.jsxs)(o.Fragment,{children:[K&&(0,F.jsx)(A,{deleteOpen:K,selectedBucket:Q,closeDeleteModalAndRefresh:function(e){!function(e){Y(!1),e&&i.push("/buckets")}(e)}}),(0,F.jsx)(h.Z,{label:(0,F.jsx)(_.Z,{to:"/buckets",label:"Buckets"}),actions:(0,F.jsx)(o.Fragment,{children:(0,F.jsx)(v.Z,{title:"Browse Bucket",children:(0,F.jsx)(Z.Z,{color:"primary","aria-label":"Browse Bucket",component:"span",onClick:function(){i.push("/buckets/".concat(Q,"/browse"))},size:"large",children:(0,F.jsx)(P,{})})})})}),(0,F.jsxs)(E.Z,{className:t.pageContainer,children:[(0,F.jsx)(d.ZP,{item:!0,xs:12,children:(0,F.jsx)(x.Z,{classes:{screenTitle:t.screenTitle},icon:(0,F.jsx)(o.Fragment,{children:(0,F.jsx)(S,{width:40})}),title:Q,subTitle:(0,F.jsxs)(g.s,{scopes:[C.Ft.S3_GET_BUCKET_POLICY],resource:Q,children:[(0,F.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,F.jsx)("span",{className:t.capitalize,style:{fontWeight:600,fontSize:15},children:null===m||void 0===m?void 0:m.access.toLowerCase()})]}),actions:(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(g.s,{scopes:[C.Ft.S3_DELETE_BUCKET,C.Ft.S3_FORCE_DELETE_BUCKET],resource:Q,errorProps:{disabled:!0},children:(0,F.jsx)(y.Z,{tooltip:"Delete Bucket",onClick:function(){Y(!0)},text:"Delete Bucket",icon:(0,F.jsx)(N.XHJ,{}),color:"secondary",variant:"outlined"})}),(0,F.jsx)(y.Z,{onClick:function(){u(!0)},text:"Refresh",icon:(0,F.jsx)(k.default,{}),color:"primary"})]})})}),(0,F.jsx)(T.Z,{sx:{border:"1px solid #eaeaea"},children:(0,F.jsxs)(j.Z,{selectedTab:X,isRouteTabs:!0,routes:(0,F.jsx)("div",{className:t.contentSpacer,children:(0,F.jsx)(r.F0,{history:i,children:(0,F.jsxs)(r.rs,{children:[(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/summary",component:w}),(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/events",component:U}),l&&(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/replication",component:M}),l&&(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/lifecycle",component:O}),(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/access",component:R}),(0,F.jsx)(r.AW,{exact:!0,path:"/buckets/:bucketName/admin/prefix",component:B}),(0,F.jsx)(r.AW,{path:"/buckets/:bucketName",component:function(){return(0,F.jsx)(r.l_,{to:"/buckets/".concat(Q,"/admin/summary")})}})]})})}),children:[{tabConfig:{label:"Summary",value:"summary",component:c.rU,to:ne("summary")}},{tabConfig:{label:"Events",value:"events",component:c.rU,disabled:!(0,g.F)(Q,[C.Ft.S3_GET_BUCKET_NOTIFICATIONS,C.Ft.S3_PUT_BUCKET_NOTIFICATIONS]),to:ne("events")}},{tabConfig:{label:"Replication",value:"replication",component:c.rU,disabled:!l||I.enabled&&I.curSite||!(0,g.F)(Q,[C.Ft.S3_GET_REPLICATION_CONFIGURATION,C.Ft.S3_PUT_REPLICATION_CONFIGURATION]),to:ne("replication")}},{tabConfig:{label:"Lifecycle",value:"lifecycle",component:c.rU,disabled:!l||!(0,g.F)(Q,[C.Ft.S3_GET_LIFECYCLE_CONFIGURATION,C.Ft.S3_PUT_LIFECYCLE_CONFIGURATION]),to:ne("lifecycle")}},{tabConfig:{label:"Access Audit",value:"access",component:c.rU,disabled:!(0,g.F)(Q,[C.Ft.ADMIN_GET_POLICY,C.Ft.ADMIN_LIST_USER_POLICIES,C.Ft.ADMIN_LIST_USERS]),to:ne("access")}},{tabConfig:{label:"Access Rules",value:"prefix",component:c.rU,disabled:!(0,g.F)(Q,[C.Ft.S3_GET_BUCKET_POLICY]),to:ne("prefix")}}]})})]})]})})))},75578:function(e,t,n){var a=n(1413),i=n(72791),o=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function n(n){return(0,o.jsx)(i.Suspense,{fallback:t,children:(0,o.jsx)(e,(0,a.Z)({},n))})}return n}},50276:function(e,t,n){var a=n(1413),i=n(29439),o=n(72791),r=n(64554),c=n(43896),s=n(83449),l=n(47283),u=n(82851),d=n(25787),f=n(13967),b=n(11135),p=n(95193),m=n(80184),h={minHeight:60};t.Z=(0,d.Z)((function(e){return(0,b.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var t=e.children,n=e.classes,d=e.selectedTab,b=void 0===d?"0":d,x=e.routes,v=e.isRouteTabs,Z=o.useState(b),T=(0,i.Z)(Z,2),k=T[0],C=T[1],E=(0,f.Z)(),j=(0,p.Z)(E.breakpoints.down("md")),_=[],g=[];return t?(t.forEach((function(e){_.push(e.tabConfig),g.push(e.content)})),(0,m.jsx)(s.ZP,{value:"".concat(k),children:(0,m.jsxs)(r.Z,{className:n.tabsContainer,children:[(0,m.jsx)(r.Z,{className:n.tabsHeaderContainer,children:(0,m.jsx)(l.Z,{onChange:function(e,t){C(t)},orientation:j?"horizontal":"vertical",variant:j?"scrollable":"standard",scrollButtons:"auto",className:n.tabList,children:_.map((function(e,t){return e?(0,m.jsx)(c.Z,(0,a.Z)((0,a.Z)({className:n.tabHeader,value:"".concat(t),style:h},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(t)):null}))})}),(0,m.jsxs)(r.Z,{className:n.tabContentContainer,children:[v?null:g.map((function(e,t){return(0,m.jsx)(u.Z,{classes:(0,a.Z)({},n.tabPanel),value:"".concat(t),children:e||null},"v-tab-p-".concat(t))})),v?(0,m.jsx)("div",{className:n.tabPanel,children:x}):null]})]})})):null}))},83449:function(e,t,n){n.d(t,{ZP:function(){return c},_i:function(){return s},pQ:function(){return u},uU:function(){return l}});var a=n(29439),i=n(72791),o=n(80184),r=i.createContext(null);function c(e){var t=e.children,n=e.value,c=function(){var e=i.useState(null),t=(0,a.Z)(e,2),n=t[0],o=t[1];return i.useEffect((function(){o("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n}(),s=i.useMemo((function(){return{idPrefix:c,value:n}}),[c,n]);return(0,o.jsx)(r.Provider,{value:s,children:t})}function s(){return i.useContext(r)}function l(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function u(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}},47283:function(e,t,n){var a=n(87462),i=n(63366),o=n(72791),r=n(18073),c=n(83449),s=n(80184),l=["children"],u=o.forwardRef((function(e,t){var n=e.children,u=(0,i.Z)(e,l),d=(0,c._i)();if(null===d)throw new TypeError("No TabContext provided");var f=o.Children.map(n,(function(e){return o.isValidElement(e)?o.cloneElement(e,{"aria-controls":(0,c.uU)(d,e.props.value),id:(0,c.pQ)(d,e.props.value)}):null}));return(0,s.jsx)(r.Z,(0,a.Z)({},u,{ref:t,value:d.value,children:f}))}));t.Z=u},82851:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(87462),i=n(63366),o=n(72791),r=n(28182),c=n(47630),s=n(93736),l=n(90767),u=n(95159);function d(e){return(0,u.Z)("MuiTabPanel",e)}(0,n(30208).Z)("MuiTabPanel",["root"]);var f=n(83449),b=n(80184),p=["children","className","value"],m=(0,c.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(3)}})),h=o.forwardRef((function(e,t){var n=(0,s.Z)({props:e,name:"MuiTabPanel"}),o=n.children,c=n.className,u=n.value,h=(0,i.Z)(n,p),x=(0,a.Z)({},n),v=function(e){var t=e.classes;return(0,l.Z)({root:["root"]},d,t)}(x),Z=(0,f._i)();if(null===Z)throw new TypeError("No TabContext provided");var T=(0,f.uU)(Z,u),k=(0,f.pQ)(Z,u);return(0,b.jsx)(m,(0,a.Z)({"aria-labelledby":k,className:(0,r.Z)(v.root,c),hidden:u!==Z.value,id:T,ref:t,role:"tabpanel",ownerState:x},h,{children:u===Z.value&&o}))}))}}]);
//# sourceMappingURL=6895.84beaeae.chunk.js.map