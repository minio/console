"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5646],{23804:function(e,t,n){n(72791);var a=n(11135),r=n(25787),s=n(61889),i=n(80184);t.Z=(0,r.Z)((function(e){return(0,a.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var t=e.classes,n=e.iconComponent,a=e.title,r=e.help;return(0,i.jsx)("div",{className:t.root,children:(0,i.jsxs)(s.ZP,{container:!0,children:[(0,i.jsxs)(s.ZP,{item:!0,xs:12,className:t.leftItems,children:[n,a]}),(0,i.jsx)(s.ZP,{item:!0,xs:12,className:t.helpText,children:r})]})})}))},37798:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(1413),r=n(72791),s=n(26181),i=n.n(s),o=n(11135),l=n(25787),c=n(56028),d=n(61889),u=n(77196),m=n(63466),g=n(85531),p=n(78029),f=n.n(p),h=n(85543),x=n(23814),y=n(80184),v=(0,l.Z)((function(e){return(0,o.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,a.Z)((0,a.Z)({},x.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var t=e.label,n=void 0===t?"":t,a=e.value,r=void 0===a?"":a,s=e.classes,i=void 0===s?{}:s;return(0,y.jsxs)("div",{className:i.container,children:[(0,y.jsxs)("div",{className:i.inputLabel,children:[n,":"]}),(0,y.jsx)("div",{className:i.inputWithCopy,children:(0,y.jsx)(u.Z,{value:r,readOnly:!0,endAdornment:(0,y.jsx)(m.Z,{position:"end",children:(0,y.jsx)(f(),{text:r,children:(0,y.jsx)(g.Z,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:(0,y.jsx)(h.TI,{})})})})})})]})})),C=n(89357),S=n(40603),j=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},Z=(0,l.Z)((function(e){return(0,o.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})}))((function(e){var t=e.classes,n=e.newServiceAccount,s=e.open,o=e.closeModal,l=e.entity;if(!n)return null;var u=i()(n,"console",null),m=i()(n,"idp",!1);return(0,y.jsx)(c.Z,{modalOpen:s,onClose:function(){o()},title:(0,y.jsx)("div",{className:t.promptTitle,children:(0,y.jsxs)("div",{children:["New ",l," Created"]})}),titleIcon:(0,y.jsx)(h.tV,{}),children:(0,y.jsxs)(d.ZP,{container:!0,children:[(0,y.jsxs)(d.ZP,{item:!0,xs:12,className:t.formScrollable,children:["A new ",l," has been created with the following details:",!m&&u&&(0,y.jsx)(r.Fragment,{children:(0,y.jsxs)(d.ZP,{item:!0,xs:12,className:t.credentialsPanel,children:[(0,y.jsx)("div",{className:t.credentialTitle,children:"Console Credentials"}),Array.isArray(u)&&u.map((function(e,t){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v,{label:"Access Key",value:e.accessKey}),(0,y.jsx)(v,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(u)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v,{label:"Access Key",value:u.accessKey}),(0,y.jsx)(v,{label:"Secret Key",value:u.secretKey})]})]})}),(null===u||void 0===u)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v,{label:"Access Key",value:n.accessKey||""}),(0,y.jsx)(v,{label:"Secret Key",value:n.secretKey||""})]}),m?(0,y.jsx)("div",{className:t.warningBlock,children:"Please Login via the configured external identity provider."}):(0,y.jsxs)("div",{className:t.warningBlock,children:[(0,y.jsx)(C.Z,{}),(0,y.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,y.jsx)(d.ZP,{item:!0,xs:12,className:t.buttonContainer,children:!m&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(S.Z,{id:"download-button",tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",text:"Download for import",className:t.buttonSpacer,onClick:function(){var e={};u?e=Array.isArray(u)?u.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:u.url,accessKey:u.accessKey,secretKey:u.secretKey,api:"s3v4",path:"auto"}:e={url:n.url,accessKey:n.accessKey,secretKey:n.secretKey,api:"s3v4",path:"auto"};j("credentials.json",JSON.stringify((0,a.Z)({},e)))},icon:(0,y.jsx)(h._8,{}),variant:"contained",color:"primary"}),Array.isArray(u)&&u.length>1&&(0,y.jsx)(S.Z,{id:"download-all-button",tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",text:"Download all access credentials",className:t.buttonSpacer,onClick:function(){var e={};u&&(e=u.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));j("all_credentials.json",JSON.stringify((0,a.Z)({},e)))},icon:(0,y.jsx)(h._8,{}),variant:"contained",color:"primary"})]})})]})})}))},54639:function(e,t,n){n.d(t,{Z:function(){return C}});var a=n(29439),r=n(1413),s=n(72791),i=n(26181),o=n.n(i),l=n(61889),c=n(30829),d=n(20068),u=n(13400),m=n(99663),g=n(86711),p=n(11135),f=n(25787),h=n(23814),x=n(84570),y=n(22512),v=n(80184),C=(0,f.Z)((function(e){return(0,p.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},h.YI),h.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},h.bV),{},{inputLabel:(0,r.Z)((0,r.Z)({},h.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,r.Z)((0,r.Z)({},h.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var t=e.label,n=e.classes,r=e.onChange,i=e.id,p=e.name,f=e.disabled,h=void 0!==f&&f,C=e.tooltip,S=void 0===C?"":C,j=e.required,Z=e.error,_=void 0===Z?"":Z,b=e.accept,A=void 0===b?"":b,I=e.value,N=void 0===I?"":I,P=(0,s.useState)(!1),k=(0,a.Z)(P,2),T=k[0],D=k[1];return(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(n.fileInputField," ").concat(n.fieldBottom," ").concat(n.fieldContainer," ").concat(""!==_?n.errorInField:""),children:[""!==t&&(0,v.jsxs)(c.Z,{htmlFor:i,className:"".concat(""!==_?n.fieldLabelError:""," ").concat(n.inputLabel),children:[(0,v.jsxs)("span",{children:[t,j?"*":""]}),""!==S&&(0,v.jsx)("div",{className:n.tooltipContainer,children:(0,v.jsx)(d.Z,{title:S,placement:"top-start",children:(0,v.jsx)("div",{className:n.tooltip,children:(0,v.jsx)(x.Z,{})})})})]}),T||""===N?(0,v.jsxs)("div",{className:n.textBoxContainer,children:[(0,v.jsx)("input",{type:"file",name:p,onChange:function(e){var t=o()(e,"target.files[0].name","");!function(e,t){var n=e.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=function(){var e=a.result;if(e){var n=e.toString().split("base64,");2===n.length&&t(n[1])}}}(e,(function(e){r(e,t)}))},accept:A,required:j,disabled:h,className:n.fileInputField}),""!==N&&(0,v.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){D(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(g.Z,{})}),""!==_&&(0,v.jsx)(y.Z,{errorMessage:_})]}):(0,v.jsxs)("div",{className:n.fileReselect,children:[(0,v.jsx)("div",{className:n.valueString,children:N}),(0,v.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){D(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(m.Z,{})})]})]})})}))},56028:function(e,t,n){var a=n(29439),r=n(1413),s=n(72791),i=n(60364),o=n(13400),l=n(55646),c=n(5574),d=n(65661),u=n(39157),m=n(11135),g=n(25787),p=n(23814),f=n(42649),h=n(29823),x=n(28057),y=n(80184),v=(0,i.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:f.MK});t.Z=(0,g.Z)((function(e){return(0,m.Z)((0,r.Z)((0,r.Z)({},p.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(v((function(e){var t=e.onClose,n=e.modalOpen,i=e.title,m=e.children,g=e.classes,p=e.wideLimit,f=void 0===p||p,v=e.modalSnackMessage,C=e.noContentPadding,S=e.setModalSnackMessage,j=e.titleIcon,Z=void 0===j?null:j,_=(0,s.useState)(!1),b=(0,a.Z)(_,2),A=b[0],I=b[1];(0,s.useEffect)((function(){S("")}),[S]),(0,s.useEffect)((function(){if(v){if(""===v.message)return void I(!1);"error"!==v.type&&I(!0)}}),[v]);var N=f?{classes:{paper:g.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return v&&(P=v.detailedErrorMsg,(""===v.detailedErrorMsg||v.detailedErrorMsg.length<5)&&(P=v.message)),(0,y.jsxs)(c.Z,(0,r.Z)((0,r.Z)({open:n,classes:g},N),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&t()},className:g.root,children:[(0,y.jsxs)(d.Z,{className:g.title,children:[(0,y.jsxs)("div",{className:g.titleText,children:[Z," ",i]}),(0,y.jsx)("div",{className:g.closeContainer,children:(0,y.jsx)(o.Z,{"aria-label":"close",id:"close",className:g.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,y.jsx)(h.Z,{})})})]}),(0,y.jsx)(x.Z,{isModal:!0}),(0,y.jsx)(l.Z,{open:A,className:g.snackBarModal,onClose:function(){I(!1),S("")},message:P,ContentProps:{className:"".concat(g.snackBar," ").concat(v&&"error"===v.type?g.errorSnackBar:"")},autoHideDuration:v&&"error"===v.type?1e4:5e3}),(0,y.jsx)(u.Z,{className:C?"":g.content,children:m})]}))})))},25646:function(e,t,n){n.r(t),n.d(t,{default:function(){return we}});var a=n(29439),r=n(1413),s=n(72791),i=n(26181),o=n.n(i),l=n(60364),c=n(61889),d=n(40986),u=n(11135),m=n(25787),g=n(23814),p=n(81207),f=n(45248),h=n(28371),x=n(42649),y=n(76256),v=n(37798),C=n(75460),S=n(93433),j=n(10703),Z=n(13400),_=n(84741),b=n(40968),A=n(37516),I=n(21435),N=n(42419),P=n(51979),k=n(80184),T=(0,l.$j)((function(e){return{exposeMinIO:e.tenants.createTenant.fields.configure.exposeMinIO,exposeConsole:e.tenants.createTenant.fields.configure.exposeConsole,setDomains:e.tenants.createTenant.fields.configure.setDomains,consoleDomain:e.tenants.createTenant.fields.configure.consoleDomain,minioDomains:e.tenants.createTenant.fields.configure.minioDomains,tenantCustom:e.tenants.createTenant.fields.configure.tenantCustom,tenantSecurityContext:e.tenants.createTenant.fields.configure.tenantSecurityContext}}),{updateAddField:C.HM,isPageValid:C.NO,addNewMinIODomain:C.x_,removeMinIODomain:C.JL}),D=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}},tenantCustomizationFields:{marginLeft:30,width:"88%",margin:"auto"},containerItem:{marginRight:15},fieldGroup:(0,r.Z)((0,r.Z)({},g.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},wrapperContainer:{display:"flex",marginBottom:15},overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{width:15,height:15},"& button":{background:"#EAEAEA"}}},g.oO),g.AK))}))(T((function(e){var t=e.classes,n=e.exposeMinIO,i=e.exposeConsole,o=e.tenantCustom,l=e.updateAddField,d=e.setDomains,u=e.consoleDomain,m=e.minioDomains,g=e.isPageValid,p=e.tenantSecurityContext,f=e.addNewMinIODomain,h=e.removeMinIODomain,x=(0,s.useState)({}),y=(0,a.Z)(x,2),v=y[0],C=y[1],T=(0,s.useCallback)((function(e,t){l("configure",e,t)}),[l]);(0,s.useEffect)((function(){var e=[];if(o&&(e=[].concat((0,S.Z)(e),[{fieldKey:"tenant_securityContext_runAsUser",required:!0,value:p.runAsUser,customValidation:""===p.runAsUser||parseInt(p.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"tenant_securityContext_runAsGroup",required:!0,value:p.runAsGroup,customValidation:""===p.runAsGroup||parseInt(p.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"tenant_securityContext_fsGroup",required:!0,value:p.fsGroup,customValidation:""===p.fsGroup||parseInt(p.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}])),d){var t=m.map((function(e,t){return{fieldKey:"minio-domain-".concat(t.toString()),required:!1,value:e,pattern:/((http|https):\/\/)+[a-zA-Z0-9\-.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?$/,customPatternMessage:"MinIO domain is not in the form of http|https://subdomain.domain"}}));e=[].concat((0,S.Z)(e),(0,S.Z)(t),[{fieldKey:"console_domain",required:!1,value:u,pattern:/((http|https):\/\/)+[a-zA-Z0-9\-.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?(:[1-9]{1}([0-9]{1,4})?)?(\/[a-zA-Z0-9]{1,})*?$/,customPatternMessage:"Console domain is not in the form of http|https://subdomain.domain:port/subpath1/subpath2"}])}var n=(0,b.R)(e);g("configure",0===Object.keys(n).length),C(n)}),[g,o,p,d,u,m]);var D=function(e){C((0,_.h)(v,e))};return(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Configure"}),(0,k.jsx)("span",{className:t.descriptionText,children:"Basic configurations for tenant management"})]}),(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Services"}),(0,k.jsx)("span",{className:t.descriptionText,children:"Whether the tenant's services should request an external IP via LoadBalancer service type."})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)(A.Z,{value:"expose_minio",id:"expose_minio",name:"expose_minio",checked:n,onChange:function(e){var t=e.target.checked;T("exposeMinIO",t)},label:"Expose MiniO Service"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)(A.Z,{value:"expose_console",id:"expose_console",name:"expose_console",checked:i,onChange:function(e){var t=e.target.checked;T("exposeConsole",t)},label:"Expose Console Service"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)(A.Z,{value:"custom_domains",id:"custom_domains",name:"custom_domains",checked:d,onChange:function(e){var t=e.target.checked;T("setDomains",t)},label:"Set Custom Domains"})}),d&&(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.tenantCustomizationFields,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Custom Domains for MinIO"}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:[(0,k.jsx)("div",{className:t.containerItem,children:(0,k.jsx)(I.Z,{id:"console_domain",name:"console_domain",onChange:function(e){T("consoleDomain",e.target.value),D("tenant_securityContext_runAsUser")},label:"Console Domain",value:u,placeholder:"Eg. http://subdomain.domain:port/subpath1/subpath2",error:v.console_domain||""})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{children:"MinIO Domains"}),(0,k.jsx)("div",{className:"".concat(t.responsiveSectionItem),children:m.map((function(e,n){return(0,k.jsxs)("div",{className:"".concat(t.containerItem," ").concat(t.wrapperContainer),children:[(0,k.jsx)(I.Z,{id:"minio-domain-".concat(n.toString()),name:"minio-domain-".concat(n.toString()),onChange:function(e){!function(e,t){var n=(0,S.Z)(m);n[t]=e,T("minioDomains",n)}(e.target.value,n)},label:"MinIO Domain ".concat(n+1),value:e,placeholder:"Eg. http://subdomain.domain",error:v["minio-domain-".concat(n.toString())]||""}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:f,disabled:n!==m.length-1,children:(0,k.jsx)(N.Z,{})})}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){return h(n)},disabled:m.length<=1,children:(0,k.jsx)(P.Z,{})})})]},"minio-domain-key-".concat(n.toString()))}))})]})]})]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)(A.Z,{value:"tenantConfig",id:"tenant_configuration",name:"tenant_configuration",checked:o,onChange:function(e){var t=e.target.checked;T("tenantCustom",t)},label:"Security Context"})}),o&&(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.tenantCustomizationFields,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for MinIO"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:(0,k.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,k.jsx)("div",{className:t.containerItem,children:(0,k.jsx)(I.Z,{type:"number",id:"tenant_securityContext_runAsUser",name:"tenant_securityContext_runAsUser",onChange:function(e){T("tenantSecurityContext",(0,r.Z)((0,r.Z)({},p),{},{runAsUser:e.target.value})),D("tenant_securityContext_runAsUser")},label:"Run As User",value:p.runAsUser,required:!0,error:v.tenant_securityContext_runAsUser||"",min:"0"})}),(0,k.jsx)("div",{className:t.containerItem,children:(0,k.jsx)(I.Z,{type:"number",id:"tenant_securityContext_runAsGroup",name:"tenant_securityContext_runAsGroup",onChange:function(e){T("tenantSecurityContext",(0,r.Z)((0,r.Z)({},p),{},{runAsGroup:e.target.value})),D("tenant_securityContext_runAsGroup")},label:"Run As Group",value:p.runAsGroup,required:!0,error:v.tenant_securityContext_runAsGroup||"",min:"0"})}),(0,k.jsx)("div",{className:t.containerItem,children:(0,k.jsx)(I.Z,{type:"number",id:"tenant_securityContext_fsGroup",name:"tenant_securityContext_fsGroup",onChange:function(e){T("tenantSecurityContext",(0,r.Z)((0,r.Z)({},p),{},{fsGroup:e.target.value})),D("tenant_securityContext_fsGroup")},label:"FsGroup",value:p.fsGroup,required:!0,error:v.tenant_securityContext_fsGroup||"",min:"0"})})]})}),(0,k.jsx)("br",{}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(A.Z,{value:"tenantSecurityContextRunAsNonRoot",id:"tenant_securityContext_runAsNonRoot",name:"tenant_securityContext_runAsNonRoot",checked:p.runAsNonRoot,onChange:function(e){var t=e.target.checked;T("tenantSecurityContext",(0,r.Z)((0,r.Z)({},p),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})})]})}))),w=n(20068),R=n(20890),F=n(22918),K=n(27247),E=n(83679),z=(0,l.$j)((function(e){return{idpSelection:e.tenants.createTenant.fields.identityProvider.idpSelection,accessKeys:e.tenants.createTenant.fields.identityProvider.accessKeys,secretKeys:e.tenants.createTenant.fields.identityProvider.secretKeys,openIDConfigurationURL:e.tenants.createTenant.fields.identityProvider.openIDConfigurationURL,openIDClientID:e.tenants.createTenant.fields.identityProvider.openIDClientID,openIDSecretID:e.tenants.createTenant.fields.identityProvider.openIDSecretID,openIDCallbackURL:e.tenants.createTenant.fields.identityProvider.openIDCallbackURL,openIDClaimName:e.tenants.createTenant.fields.identityProvider.openIDClaimName,openIDScopes:e.tenants.createTenant.fields.identityProvider.openIDScopes,ADURL:e.tenants.createTenant.fields.identityProvider.ADURL,ADSkipTLS:e.tenants.createTenant.fields.identityProvider.ADSkipTLS,ADServerInsecure:e.tenants.createTenant.fields.identityProvider.ADServerInsecure,ADGroupSearchBaseDN:e.tenants.createTenant.fields.identityProvider.ADGroupSearchBaseDN,ADGroupSearchFilter:e.tenants.createTenant.fields.identityProvider.ADGroupSearchFilter,ADUserDNs:e.tenants.createTenant.fields.identityProvider.ADUserDNs,ADLookupBindDN:e.tenants.createTenant.fields.identityProvider.ADLookupBindDN,ADLookupBindPassword:e.tenants.createTenant.fields.identityProvider.ADLookupBindPassword,ADUserDNSearchBaseDN:e.tenants.createTenant.fields.identityProvider.ADUserDNSearchBaseDN,ADUserDNSearchFilter:e.tenants.createTenant.fields.identityProvider.ADUserDNSearchFilter,ADServerStartTLS:e.tenants.createTenant.fields.identityProvider.ADServerStartTLS}}),{updateAddField:C.HM,isPageValid:C.NO}),G=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({shortened:{gridTemplateColumns:"auto auto 50px 50px",display:"grid",gridGap:15,marginBottom:10,"& input":{fontWeight:400}},buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},protocolRadioOptions:{display:"flex",flexFlow:"column",marginBottom:10,"& label":{fontSize:14},"& div":{display:"flex",flexFlow:"column",alignItems:"baseline"}},adUserDnRows:{display:"flex"}},g.QV),g.DF),g.oO),g.AK))}))(z((function(e){var t=e.classes,n=e.idpSelection,r=e.accessKeys,i=e.secretKeys,o=e.openIDConfigurationURL,l=e.openIDClientID,d=e.openIDSecretID,u=e.openIDCallbackURL,m=e.openIDClaimName,g=e.openIDScopes,p=e.ADURL,f=e.ADSkipTLS,h=e.ADServerInsecure,x=e.ADGroupSearchBaseDN,y=e.ADGroupSearchFilter,v=e.ADUserDNs,C=e.ADLookupBindDN,T=e.ADLookupBindPassword,D=e.ADUserDNSearchBaseDN,z=e.ADUserDNSearchFilter,G=e.ADServerStartTLS,U=e.updateAddField,L=e.isPageValid,M=(0,s.useState)({}),q=(0,a.Z)(M,2),V=q[0],O=q[1],B=(0,s.useCallback)((function(e,t){U("identityProvider",e,t)}),[U]),W=function(e,t){var n=(0,S.Z)(r);n[e]=t,B("accessKeys",n)},$=function(e,t){var n=(0,S.Z)(i);n[e]=t,B("secretKeys",n)},H=function(e,t){var n=(0,S.Z)(v);n[e]=t,B("ADUserDNs",n)},Q=function(e){O((0,_.h)(V,e))};(0,s.useEffect)((function(){var e=[];if("Built-in"===n){e=(0,S.Z)(e);for(var t=0;t<r.length;t++)e.push({fieldKey:"accesskey-".concat(t.toString()),required:!0,value:r[t],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"}),e.push({fieldKey:"secretkey-".concat(t.toString()),required:!0,value:i[t],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"})}if("OpenID"===n&&(e=[].concat((0,S.Z)(e),[{fieldKey:"openID_CONFIGURATION_URL",required:!0,value:o},{fieldKey:"openID_clientID",required:!0,value:l},{fieldKey:"openID_secretID",required:!0,value:d},{fieldKey:"openID_claimName",required:!0,value:m}])),"AD"===n){e=[].concat((0,S.Z)(e),[{fieldKey:"AD_URL",required:!0,value:p},{fieldKey:"ad_lookupBindDN",required:!0,value:C}]);for(var a=0;a<v.length;a++)e.push({fieldKey:"ad-userdn-".concat(a.toString()),required:!0,value:v[a]})}var s=(0,b.R)(e);L("identityProvider",0===Object.keys(s).length),O(s)}),[C,n,r,i,l,d,p,x,y,v,L,o,m]);var J=null;return"Built-in"===n&&(J=r.map((function(e,n){return(0,k.jsx)(s.Fragment,{children:(0,k.jsxs)("div",{className:t.shortened,children:[(0,k.jsx)(I.Z,{id:"accesskey-".concat(n.toString()),label:"",placeholder:"Access Key",name:"accesskey-".concat(n.toString()),value:r[n],onChange:function(e){W(n,e.target.value),Q("accesskey-".concat(n.toString()))},index:n,error:V["accesskey-".concat(n.toString())]||""},"csv-accesskey-".concat(n.toString())),(0,k.jsx)(I.Z,{id:"secretkey-".concat(n.toString()),label:"",placeholder:"Secret Key",name:"secretkey-".concat(n.toString()),value:i[n],onChange:function(e){$(n,e.target.value),Q("secretkey-".concat(n.toString()))},index:n,error:V["secretkey-".concat(n.toString())]||""},"csv-secretkey-".concat(n.toString())),(0,k.jsxs)("div",{className:t.buttonTray,children:[(0,k.jsx)(w.Z,{title:"Add User","aria-label":"add",children:(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){r.push(""),i.push(""),W(r.length-1,""),$(i.length-1,"")},children:(0,k.jsx)(N.Z,{})})})}),(0,k.jsx)(w.Z,{title:"Remove","aria-label":"add",children:(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){r.length>1&&(r.splice(n,1),i.splice(n,1),W(r.length-1,r[r.length-1]))},children:(0,k.jsx)(P.Z,{})})})}),(0,k.jsx)(w.Z,{title:"Randomize Credentials","aria-label":"add",children:(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{onClick:function(){W(n,(0,_.z)(16)),$(n,(0,_.z)(32))},size:"small",children:(0,k.jsx)(F.Z,{})})})})]})]})},"identityField-".concat(n.toString()))}))),"AD"===n&&(J=v.map((function(e,n){return(0,k.jsx)(s.Fragment,{children:(0,k.jsxs)("div",{className:t.adUserDnRows,children:[(0,k.jsx)(I.Z,{id:"ad-userdn-".concat(n.toString()),label:"",placeholder:"",name:"ad-userdn-".concat(n.toString()),value:v[n],onChange:function(e){H(n,e.target.value),Q("ad-userdn-".concat(n.toString()))},index:n,error:V["ad-userdn-".concat(n.toString())]||""},"csv-ad-userdn-".concat(n.toString())),(0,k.jsxs)("div",{className:t.buttonTray,children:[(0,k.jsx)(w.Z,{title:"Add User","aria-label":"add",children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){v.push(""),H(v.length-1,"")},children:(0,k.jsx)(N.Z,{})})}),(0,k.jsx)(w.Z,{title:"Remove","aria-label":"add",children:(0,k.jsx)(Z.Z,{size:"small",style:{marginLeft:16},onClick:function(){v.length>1&&(v.splice(n,1),W(v.length-1,v[v.length-1]))},children:(0,k.jsx)(K.Z,{})})})]})]})},"identityField-".concat(n.toString()))}))),(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Identity Provider"}),(0,k.jsx)("span",{className:t.descriptionText,children:"Access to the tenant can be controlled via an external Identity Manager."})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.protocolRadioOptions,children:[(0,k.jsx)("label",{children:"Protocol"}),(0,k.jsx)(E.Z,{currentSelection:n,id:"idp-options",name:"idp-options",label:" ",onChange:function(e){B("idpSelection",e.target.value)},selectorOptions:[{label:"Built-in",value:"Built-in"},{label:"OpenID",value:"OpenID"},{label:"Active Directory",value:"AD"}]})]}),"Built-in"===n&&(0,k.jsxs)(s.Fragment,{children:["Add additional users",J]}),"OpenID"===n&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_CONFIGURATION_URL",name:"openID_CONFIGURATION_URL",onChange:function(e){B("openIDConfigurationURL",e.target.value),Q("openID_CONFIGURATION_URL")},label:"Configuration URL",value:o,placeholder:"https://your-identity-provider.com/.well-known/openid-configuration",error:V.openID_CONFIGURATION_URL||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_clientID",name:"openID_clientID",onChange:function(e){B("openIDClientID",e.target.value),Q("openID_clientID")},label:"Client ID",value:l,error:V.openID_clientID||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_secretID",name:"openID_secretID",onChange:function(e){B("openIDSecretID",e.target.value),Q("openID_secretID")},label:"Secret ID",value:d,error:V.openID_secretID||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_callbackURL",name:"openID_callbackURL",onChange:function(e){B("openIDCallbackURL",e.target.value),Q("openID_callbackURL")},label:"Callback URL",value:u,placeholder:"https://your-console-endpoint:9443/oauth_callback",error:V.openID_callbackURL||""})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_claimName",name:"openID_claimName",onChange:function(e){B("openIDClaimName",e.target.value),Q("openID_claimName")},label:"Claim Name",value:m,error:V.openID_claimName||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"openID_scopes",name:"openID_scopes",onChange:function(e){B("openIDScopes",e.target.value),Q("openID_scopes")},label:"Scopes",value:g})})]}),"AD"===n&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"AD_URL",name:"AD_URL",onChange:function(e){B("ADURL",e.target.value),Q("AD_URL")},label:"LDAP Server Address",value:p,placeholder:"ldap-server:636",error:V.AD_URL||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(A.Z,{value:"ad_skipTLS",id:"ad_skipTLS",name:"ad_skipTLS",checked:f,onChange:function(e){var t=e.target.checked;B("ADSkipTLS",t)},label:"Skip TLS Verification"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(A.Z,{value:"ad_serverInsecure",id:"ad_serverInsecure",name:"ad_serverInsecure",checked:h,onChange:function(e){var t=e.target.checked;B("ADServerInsecure",t)},label:"Server Insecure"})}),h?(0,k.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,k.jsx)(R.Z,{className:t.error,variant:"caption",display:"block",gutterBottom:!0,children:"Warning: All traffic with Active Directory will be unencrypted"}),(0,k.jsx)("br",{})]}):null,(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(A.Z,{value:"ad_serverStartTLS",id:"ad_serverStartTLS",name:"ad_serverStartTLS",checked:G,onChange:function(e){var t=e.target.checked;B("ADServerStartTLS",t)},label:"Start TLS connection to AD/LDAP server"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_lookupBindDN",name:"ad_lookupBindDN",onChange:function(e){B("ADLookupBindDN",e.target.value),Q("ad_lookupBindDN")},label:"Lookup Bind DN",value:C,placeholder:"cn=admin,dc=min,dc=io",error:V.ad_lookupBindDN||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_lookupBindPassword",name:"ad_lookupBindPassword",onChange:function(e){B("ADLookupBindPassword",e.target.value)},label:"Lookup Bind Password",value:T,placeholder:"admin"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_userDNSearchBaseDN",name:"ad_userDNSearchBaseDN",onChange:function(e){B("ADUserDNSearchBaseDN",e.target.value)},label:"User DN Search Base DN",value:D,placeholder:"dc=min,dc=io"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_userDNSearchFilter",name:"ad_userDNSearchFilter",onChange:function(e){B("ADUserDNSearchFilter",e.target.value)},label:"User DN Search Filter",value:z,placeholder:"(sAMAcountName=%s)"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_groupSearchBaseDN",name:"ad_groupSearchBaseDN",onChange:function(e){B("ADGroupSearchBaseDN",e.target.value)},label:"Group Search Base DN",value:x,placeholder:"ou=hwengg,dc=min,dc=io;ou=swengg,dc=min,dc=io"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"ad_groupSearchFilter",name:"ad_groupSearchFilter",onChange:function(e){B("ADGroupSearchFilter",e.target.value)},label:"Group Search Filter",value:y,placeholder:"(&(objectclass=groupOfNames)(member=%s))"})}),(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"List of user DNs (Distinguished Names) to be Tenant Administrators"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:J})]})]})]})}))),U=n(54639),L=n(47919),M=n(50896),q=(0,l.$j)((function(e){return{enableTLS:e.tenants.createTenant.fields.security.enableTLS,enableAutoCert:e.tenants.createTenant.fields.security.enableAutoCert,enableCustomCerts:e.tenants.createTenant.fields.security.enableCustomCerts,minioCertificates:e.tenants.createTenant.certificates.minioCertificates,caCertificates:e.tenants.createTenant.certificates.caCertificates}}),{updateAddField:C.HM,isPageValid:C.NO,addFileToCaCertificates:C.Eq,deleteCaCertificate:C.IG,addCaCertificate:C.fK,addKeyPair:C.Mg,addFileToKeyPair:C.aN,deleteKeyPair:C.XX}),V=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)({minioCertificateRows:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},minioCertsContainer:{marginBottom:15},minioCACertsRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},g.QV),g.oO),g.AK))}))(q((function(e){var t=e.classes,n=e.enableTLS,a=e.enableAutoCert,r=e.enableCustomCerts,i=e.minioCertificates,o=e.caCertificates,l=e.updateAddField,d=e.isPageValid,u=e.addFileToCaCertificates,m=e.deleteCaCertificate,g=e.addCaCertificate,p=e.addKeyPair,f=e.addFileToKeyPair,h=e.deleteKeyPair,x=(0,s.useCallback)((function(e,t){l("security",e,t)}),[l]);return(0,s.useEffect)((function(){d("security",!n||(!!a||!!r))}),[n,a,r,d]),(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsx)("div",{className:t.headerElement,children:(0,k.jsx)("h3",{className:t.h3Section,children:"Security"})}),(0,k.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(A.Z,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:n,onChange:function(e){var t=e.target.checked;x("enableTLS",t)},label:"TLS",description:"Securing all the traffic using TLS. This is required for Encryption Configuration"})}),n&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(A.Z,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:a,onChange:function(e){var t=e.target.checked;x("enableAutoCert",t)},label:"AutoCert",description:"The internode certificates will be generated and managed by MinIO Operator"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(A.Z,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:r,onChange:function(e){var t=e.target.checked;x("enableCustomCerts",t)},label:"Custom Certificates",description:"Certificates used to terminated TLS at MinIO"})}),r&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.minioCertsContainer,children:[(0,k.jsx)(M.Z,{children:"MinIO Certificates"}),i.map((function(e){return(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.minioCertificateRows,children:[(0,k.jsxs)(c.ZP,{item:!0,xs:10,className:t.fileItem,children:[(0,k.jsx)(U.Z,{onChange:function(t,n){f(e.id,"cert",n,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,k.jsx)(U.Z,{onChange:function(t,n){f(e.id,"key",n,t)},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:p,children:(0,k.jsx)(L.Z,{})})}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){h(e.id)},children:(0,k.jsx)(P.Z,{})})})]})]},"minio-certs-".concat(e.id))}))]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.minioCertsContainer,children:[(0,k.jsx)(M.Z,{children:"MinIO CA Certificates"}),o.map((function(e){return(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.minioCACertsRow,children:[(0,k.jsx)(c.ZP,{item:!0,xs:6,children:(0,k.jsx)(U.Z,{onChange:function(t,n){u(e.id,"cert",n,t)},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),(0,k.jsx)(c.ZP,{item:!0,xs:6,children:(0,k.jsxs)("div",{className:t.rowActions,children:[(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:g,children:(0,k.jsx)(L.Z,{})})}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){m(e.id)},children:(0,k.jsx)(P.Z,{})})})]})})]},"minio-CA-certs-".concat(e.id))}))]})]})]})]})]})}))),O=function(e){var t=e.children;return(0,k.jsx)("h1",{style:{margin:0,marginBottom:".8rem",fontSize:"1.3rem"},children:t})},B=(0,l.$j)((function(e){return{replicas:e.tenants.createTenant.fields.encryption.replicas,enableEncryption:e.tenants.createTenant.fields.encryption.enableEncryption,encryptionType:e.tenants.createTenant.fields.encryption.encryptionType,gemaltoEndpoint:e.tenants.createTenant.fields.encryption.gemaltoEndpoint,gemaltoToken:e.tenants.createTenant.fields.encryption.gemaltoToken,gemaltoDomain:e.tenants.createTenant.fields.encryption.gemaltoDomain,gemaltoRetry:e.tenants.createTenant.fields.encryption.gemaltoRetry,awsEndpoint:e.tenants.createTenant.fields.encryption.awsEndpoint,awsRegion:e.tenants.createTenant.fields.encryption.awsRegion,awsKMSKey:e.tenants.createTenant.fields.encryption.awsKMSKey,awsAccessKey:e.tenants.createTenant.fields.encryption.awsAccessKey,awsSecretKey:e.tenants.createTenant.fields.encryption.awsSecretKey,awsToken:e.tenants.createTenant.fields.encryption.awsToken,vaultEndpoint:e.tenants.createTenant.fields.encryption.vaultEndpoint,vaultEngine:e.tenants.createTenant.fields.encryption.vaultEngine,vaultNamespace:e.tenants.createTenant.fields.encryption.vaultNamespace,vaultPrefix:e.tenants.createTenant.fields.encryption.vaultPrefix,vaultAppRoleEngine:e.tenants.createTenant.fields.encryption.vaultAppRoleEngine,vaultId:e.tenants.createTenant.fields.encryption.vaultId,vaultSecret:e.tenants.createTenant.fields.encryption.vaultSecret,vaultRetry:e.tenants.createTenant.fields.encryption.vaultRetry,vaultPing:e.tenants.createTenant.fields.encryption.vaultPing,azureEndpoint:e.tenants.createTenant.fields.encryption.azureEndpoint,azureTenantID:e.tenants.createTenant.fields.encryption.azureTenantID,azureClientID:e.tenants.createTenant.fields.encryption.azureClientID,azureClientSecret:e.tenants.createTenant.fields.encryption.azureClientSecret,gcpProjectID:e.tenants.createTenant.fields.encryption.gcpProjectID,gcpEndpoint:e.tenants.createTenant.fields.encryption.gcpEndpoint,gcpClientEmail:e.tenants.createTenant.fields.encryption.gcpClientEmail,gcpClientID:e.tenants.createTenant.fields.encryption.gcpClientID,gcpPrivateKeyID:e.tenants.createTenant.fields.encryption.gcpPrivateKeyID,gcpPrivateKey:e.tenants.createTenant.fields.encryption.gcpPrivateKey,enableCustomCertsForKES:e.tenants.createTenant.fields.encryption.enableCustomCertsForKES,enableAutoCert:e.tenants.createTenant.fields.security.enableAutoCert,enableTLS:e.tenants.createTenant.fields.security.enableTLS,minioCertificates:e.tenants.createTenant.certificates.minioCertificates,serverCertificate:e.tenants.createTenant.certificates.serverCertificate,clientCertificate:e.tenants.createTenant.certificates.clientCertificate,vaultCertificate:e.tenants.createTenant.certificates.vaultCertificate,vaultCA:e.tenants.createTenant.certificates.vaultCA,gemaltoCA:e.tenants.createTenant.certificates.gemaltoCA,enableCustomCerts:e.tenants.createTenant.fields.security.enableCustomCerts,kesSecurityContext:e.tenants.createTenant.fields.encryption.kesSecurityContext}}),{updateAddField:C.HM,isPageValid:C.NO,addFileServerCert:C.$1,addFileClientCert:C.BI,addFileVaultCert:C.cl,addFileVaultCa:C.fk,addFileGemaltoCa:C.MX}),W=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({encryptionTypeOptions:{marginBottom:15},mutualTlsConfig:{marginTop:15,"& fieldset":{flex:1}},rightSpacer:{marginRight:15},responsiveContainer:{"@media (max-width: 900px)":{display:"flex",flexFlow:"column"}}},g.QV),g.DF),g.oO),g.AK))}))(B((function(e){var t=e.classes,n=e.updateAddField,i=e.isPageValid,o=e.addFileServerCert,l=e.addFileClientCert,d=e.addFileVaultCert,u=e.addFileVaultCa,m=e.addFileGemaltoCa,g=e.enableEncryption,p=e.enableCustomCerts,f=e.encryptionType,h=e.gemaltoEndpoint,x=e.gemaltoToken,y=e.gemaltoDomain,v=e.gemaltoRetry,C=e.awsEndpoint,Z=e.awsRegion,N=e.awsKMSKey,P=e.awsAccessKey,T=e.awsSecretKey,D=e.awsToken,w=e.vaultEndpoint,R=e.vaultEngine,F=e.vaultNamespace,K=e.vaultPrefix,z=e.vaultAppRoleEngine,G=e.vaultId,L=e.vaultSecret,M=e.vaultRetry,q=e.vaultPing,V=e.azureEndpoint,B=e.azureTenantID,W=e.azureClientID,$=e.azureClientSecret,H=e.gcpProjectID,Q=e.gcpEndpoint,J=e.gcpClientEmail,Y=e.gcpClientID,X=e.gcpPrivateKeyID,ee=e.gcpPrivateKey,te=e.enableCustomCertsForKES,ne=e.enableAutoCert,ae=e.enableTLS,re=e.minioCertificates,se=e.serverCertificate,ie=e.clientCertificate,oe=e.vaultCertificate,le=e.vaultCA,ce=e.gemaltoCA,de=e.kesSecurityContext,ue=e.replicas,me=(0,s.useState)({}),ge=(0,a.Z)(me,2),pe=ge[0],fe=ge[1],he=!1;ae&&(ne||re&&re.filter((function(e){return e.encoded_key&&e.encoded_cert})).length>0)&&(he=!0);var xe=(0,s.useCallback)((function(e,t){n("encryption",e,t)}),[n]),ye=function(e){fe((0,_.h)(pe,e))};return(0,s.useEffect)((function(){var e=[];g&&(e=[].concat((0,S.Z)(e),[{fieldKey:"replicas",required:!0,value:ue,customValidation:parseInt(ue)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:de.runAsUser,customValidation:""===de.runAsUser||parseInt(de.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:de.runAsGroup,customValidation:""===de.runAsGroup||parseInt(de.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:de.fsGroup,customValidation:""===de.fsGroup||parseInt(de.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),p&&(e=[].concat((0,S.Z)(e),[{fieldKey:"serverKey",required:!ne,value:se.encoded_key},{fieldKey:"serverCert",required:!ne,value:se.encoded_cert},{fieldKey:"clientKey",required:!ne,value:ie.encoded_key},{fieldKey:"clientCert",required:!ne,value:ie.encoded_cert}])),"vault"===f&&(e=[].concat((0,S.Z)(e),[{fieldKey:"vault_endpoint",required:!0,value:w},{fieldKey:"vault_id",required:!0,value:G},{fieldKey:"vault_secret",required:!0,value:L},{fieldKey:"vault_ping",required:!1,value:q,customValidation:parseInt(q)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:M,customValidation:parseInt(M)<0,customValidationMessage:"Value needs to be 0 or greater"}])),"aws"===f&&(e=[].concat((0,S.Z)(e),[{fieldKey:"aws_endpoint",required:!0,value:C},{fieldKey:"aws_region",required:!0,value:Z},{fieldKey:"aws_accessKey",required:!0,value:P},{fieldKey:"aws_secretKey",required:!0,value:T}])),"gemalto"===f&&(e=[].concat((0,S.Z)(e),[{fieldKey:"gemalto_endpoint",required:!0,value:h},{fieldKey:"gemalto_token",required:!0,value:x},{fieldKey:"gemalto_domain",required:!0,value:y},{fieldKey:"gemalto_retry",required:!1,value:v,customValidation:parseInt(v)<0,customValidationMessage:"Value needs to be 0 or greater"}])),"azure"===f&&(e=[].concat((0,S.Z)(e),[{fieldKey:"azure_endpoint",required:!0,value:V},{fieldKey:"azure_tenant_id",required:!0,value:B},{fieldKey:"azure_client_id",required:!0,value:W},{fieldKey:"azure_client_secret",required:!0,value:$}])));var t=(0,b.R)(e);i("encryption",0===Object.keys(t).length),fe(t)}),[g,f,w,R,G,L,q,M,C,Z,T,P,h,x,y,v,H,Q,J,Y,X,ee,V,B,W,$,i,ne,p,se.encoded_key,se.encoded_cert,ie.encoded_key,ie.encoded_cert,de,ue]),(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,k.jsx)(c.ZP,{item:!0,xs:!0,children:(0,k.jsx)(O,{children:"Encryption"})}),(0,k.jsx)(c.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,k.jsx)(A.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:g,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:function(e){var t=e.target.checked;xe("enableEncryption",t)},description:"",disabled:!he})})]}),(0,k.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("span",{className:t.descriptionText,children:"MinIO Server-Side Encryption (SSE) protects objects as part of write operations, allowing clients to take advantage of server processing power to secure objects at the storage layer (encryption-at-rest). SSE also provides key functionality to regulatory and compliance requirements around secure locking and erasure."})}),(0,k.jsx)(c.ZP,{xs:12,children:(0,k.jsx)("hr",{className:t.hrClass})}),g&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.encryptionTypeOptions,children:(0,k.jsx)(E.Z,{currentSelection:f,id:"encryptionType",name:"encryptionType",label:"Encryption Options",onChange:function(e){xe("encryptionType",e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===f&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){xe("vaultEndpoint",e.target.value),ye("vault_endpoint")},label:"Endpoint",value:w,error:pe.vault_endpoint||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_engine",name:"vault_engine",onChange:function(e){xe("vaultEngine",e.target.value),ye("vault_engine")},label:"Engine",value:R})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){xe("vaultNamespace",e.target.value)},label:"Namespace",value:F})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){xe("vaultPrefix",e.target.value)},label:"Prefix",value:K})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"App Role"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){xe("vaultAppRoleEngine",e.target.value)},label:"Engine",value:z})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_id",name:"vault_id",onChange:function(e){xe("vaultId",e.target.value),ye("vault_id")},label:"AppRole ID",value:G,error:pe.vault_id||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"vault_secret",name:"vault_secret",onChange:function(e){xe("vaultSecret",e.target.value),ye("vault_secret")},label:"AppRole Secret",value:L,error:pe.vault_secret||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){xe("vaultRetry",e.target.value),ye("vault_retry")},label:"Retry (Seconds)",value:M,error:pe.vault_retry||""})})]})}),(0,k.jsx)(c.ZP,{container:!0,className:t.mutualTlsConfig,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Mutual TLS authentication (optional)"}),(0,k.jsx)(U.Z,{onChange:function(e,t){d("key",t,e),ye("vault_key")},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:oe.key}),(0,k.jsx)(U.Z,{onChange:function(e,t){d("cert",t,e),ye("vault_cert")},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:oe.cert}),(0,k.jsx)(U.Z,{onChange:function(e,t){u(t,e),ye("vault_ca")},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:le.cert})]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,style:{marginTop:15},children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Status"}),(0,k.jsx)(I.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){xe("vaultPing",e.target.value),ye("vault_ping")},label:"Ping (Seconds)",value:q,error:pe.vault_ping||""})]})})]}),"azure"===f&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){xe("azureEndpoint",e.target.value),ye("azure_endpoint")},label:"Endpoint",value:V,error:pe.azure_endpoint||""})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){xe("azureTenantID",e.target.value),ye("azure_tenant_id")},label:"Tenant ID",value:B,error:pe.azure_tenant_id||""})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){xe("azureClientID",e.target.value),ye("azure_client_id")},label:"Client ID",value:W,error:pe.azure_client_id||""})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){xe("azureClientSecret",e.target.value),ye("azure_client_secret")},label:"Client Secret",value:$,error:pe.azure_client_secret||""})})]})})]}),"gcp"===f&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){xe("gcpProjectID",e.target.value)},label:"Project ID",value:H})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){xe("gcpEndpoint",e.target.value)},label:"Endpoint",value:Q})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){xe("gcpClientEmail",e.target.value)},label:"Client Email",value:J})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){xe("gcpClientID",e.target.value)},label:"Client ID",value:Y})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){xe("gcpPrivateKeyID",e.target.value)},label:"Private Key ID",value:X})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){xe("gcpPrivateKey",e.target.value)},label:"Private Key",value:ee})})]})})]}),"aws"===f&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){xe("awsEndpoint",e.target.value),ye("aws_endpoint")},label:"Endpoint",value:C,error:pe.aws_endpoint||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_region",name:"aws_region",onChange:function(e){xe("awsRegion",e.target.value),ye("aws_region")},label:"Region",value:Z,error:pe.aws_region||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){xe("awsKMSKey",e.target.value)},label:"KMS Key",value:N})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){xe("awsAccessKey",e.target.value),ye("aws_accessKey")},label:"Access Key",value:P,error:pe.aws_accessKey||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){xe("awsSecretKey",e.target.value),ye("aws_secretKey")},label:"Secret Key",value:T,error:pe.aws_secretKey||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"aws_token",name:"aws_token",onChange:function(e){xe("awsToken",e.target.value)},label:"Token",value:D})})]})})]}),"gemalto"===f&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){xe("gemaltoEndpoint",e.target.value),ye("gemalto_endpoint")},label:"Endpoint",value:h,error:pe.gemalto_endpoint||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){xe("gemaltoToken",e.target.value),ye("gemalto_token")},label:"Token",value:x,error:pe.gemalto_token||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){xe("gemaltoDomain",e.target.value),ye("gemalto_domain")},label:"Domain",value:y,error:pe.gemalto_domain||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){xe("gemaltoRetry",e.target.value),ye("gemalto_retry")},label:"Retry (seconds)",value:v,error:pe.gemalto_retry||""})})]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Custom CA Root certificate verification"}),(0,k.jsx)(U.Z,{onChange:function(e,t){m(t,e),ye("gemalto_ca")},accept:".cer,.crt,.cert,.pem",id:"gemalto_ca",name:"gemalto_ca",label:"CA",value:ce.cert})]})})]}),(0,k.jsx)("div",{className:t.headerElement,children:(0,k.jsx)("h4",{className:t.h3Section,children:"Additional Configurations"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(A.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:te||!ne,onChange:function(e){var t=e.target.checked;xe("enableCustomCertsForKES",t)},label:"Custom Certificates",disabled:!ne})}),(te||!ne)&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{container:!0,children:(0,k.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Encryption Service Certificates"}),(0,k.jsx)(U.Z,{onChange:function(e,t){o("key",t,e),ye("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",error:pe.serverKey||"",value:se.key,required:!ne}),(0,k.jsx)(U.Z,{onChange:function(e,t){o("cert",t,e),ye("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",error:pe.serverCert||"",value:se.cert,required:!ne})]})})}),(0,k.jsx)(c.ZP,{container:!0,style:{marginBottom:15},children:(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"Mutual TLS authentication with MinIO"}),(0,k.jsx)(U.Z,{onChange:function(e,t){l("key",t,e),ye("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",error:pe.clientKey||"",value:ie.key,required:!ne}),(0,k.jsx)(U.Z,{onChange:function(e,t){l("cert",t,e),ye("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",error:pe.clientCert||"",value:ie.cert,required:!ne})]})})})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,classes:t.formFieldRow,children:(0,k.jsx)(I.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){xe("replicas",e.target.value),ye("replicas")},label:"Replicas",value:ue,required:!0,error:pe.replicas||""})}),(0,k.jsxs)("fieldset",{className:t.fieldGroup,style:{marginTop:15},children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for KES pods"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.kesSecurityContext,children:(0,k.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveContainer),children:[(0,k.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,k.jsx)(I.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){xe("kesSecurityContext",(0,r.Z)((0,r.Z)({},de),{},{runAsUser:e.target.value})),ye("kes_securityContext_runAsUser")},label:"Run As User",value:de.runAsUser,required:!0,error:pe.kes_securityContext_runAsUser||"",min:"0"})}),(0,k.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,k.jsx)(I.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){xe("kesSecurityContext",(0,r.Z)((0,r.Z)({},de),{},{runAsGroup:e.target.value})),ye("kes_securityContext_runAsGroup")},label:"Run As Group",value:de.runAsGroup,required:!0,error:pe.kes_securityContext_runAsGroup||"",min:"0"})}),(0,k.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,k.jsx)(I.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){xe("kesSecurityContext",(0,r.Z)((0,r.Z)({},de),{},{fsGroup:e.target.value})),ye("kes_securityContext_fsGroup")},label:"FsGroup",value:de.fsGroup,required:!0,error:pe.kes_securityContext_fsGroup||"",min:"0"})})]})}),(0,k.jsx)("br",{}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(A.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:de.runAsNonRoot,onChange:function(e){var t=e.target.checked;xe("kesSecurityContext",(0,r.Z)((0,r.Z)({},de),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})]})]})]})]})}))),$=n(4942),H=n(90673),Q=n(45660),J=(0,l.$j)((function(e){var t=e.tenants.createTenant;return{podAffinity:t.fields.affinity.podAffinity,nodeSelectorLabels:t.fields.affinity.nodeSelectorLabels,withPodAntiAffinity:t.fields.affinity.withPodAntiAffinity,keyValuePairs:t.nodeSelectorPairs,tolerations:t.tolerations}}),{setModalErrorSnackMessage:x.zb,updateAddField:C.HM,isPageValid:C.NO,setKeyValuePairs:C.i$,setTolerationInfo:C.iU,addNewToleration:C.ly,removeToleration:C.JX}),Y=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},affinityConfigField:{display:"flex"},affinityFieldLabel:{display:"flex",flexFlow:"column",flex:1},radioField:{display:"flex",alignItems:"flex-start",marginTop:10,"& div:first-child":{display:"flex",flexFlow:"column",alignItems:"baseline",textAlign:"left !important"}},affinityLabelKey:{"& div:first-child":{marginBottom:0}},affinityLabelValue:{marginLeft:10,"& div:first-child":{marginBottom:0}},rowActions:{display:"flex",alignItems:"center"},affinityRow:{marginBottom:10,display:"flex"}},g.oO),g.AK))}))(J((function(e){var t=e.classes,n=e.podAffinity,i=e.nodeSelectorLabels,o=e.withPodAntiAffinity,l=e.setModalErrorSnackMessage,d=e.updateAddField,u=e.keyValuePairs,m=e.setKeyValuePairs,g=e.isPageValid,f=e.tolerations,h=e.setTolerationInfo,x=e.addNewToleration,y=e.removeToleration,v=(0,s.useState)({}),C=(0,a.Z)(v,2),_=C[0],N=C[1],T=(0,s.useState)(!0),D=(0,a.Z)(T,2),w=D[0],R=D[1],F=(0,s.useState)({}),K=(0,a.Z)(F,2),z=K[0],G=K[1],U=(0,s.useState)([]),M=(0,a.Z)(U,2),q=M[0],V=M[1],O=(0,s.useCallback)((function(e,t){d("affinity",e,t)}),[d]);(0,s.useEffect)((function(){w&&p.Z.invoke("GET","/api/v1/nodes/labels").then((function(e){R(!1),G(e);var t=[];for(var n in e)t.push({label:n,value:n});V(t)})).catch((function(e){R(!1),l(e),G({})}))}),[l,w]),(0,s.useEffect)((function(){if(u){var e=u.filter((function(e){return""!==e.key})).map((function(e){return"".concat(e.key,"=").concat(e.value)})).filter((function(e,t,n){return n.indexOf(e)===t})).join("&");O("nodeSelectorLabels",e)}}),[u,O]),(0,s.useEffect)((function(){var e=[];if("nodeSelector"===n){var t=!0,a=i.split("&");1===a.length&&""===a[0]&&(t=!1),a.forEach((function(e,n){var r=e.split("=");2!==r.length&&(t=!1),n+1!==a.length&&(""!==r[0]&&""!==r[1]||(t=!1))})),e=[].concat((0,S.Z)(e),[{fieldKey:"labels",required:!0,value:i,customValidation:!t,customValidationMessage:"You need to add at least one label key-pair"}])}var r=(0,b.R)(e);g("affinity",0===Object.keys(r).length),N(r)}),[g,n,i]);var B=function(e,t,n){var a=(0,r.Z)((0,r.Z)({},f[e]),{},(0,$.Z)({},t,n));h(e,a)};return(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Pod Placement"}),(0,k.jsx)("span",{className:t.descriptionText,children:"Configure how pods will be assigned to nodes"})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.affinityConfigField,children:(0,k.jsxs)(c.ZP,{item:!0,className:t.affinityFieldLabel,children:[(0,k.jsx)("div",{className:t.label,children:"Type"}),(0,k.jsx)("div",{className:"".concat(t.descriptionText," ").concat(t.affinityHelpText),children:"MinIO supports multiple configurations for Pod Affinity"}),(0,k.jsx)(c.ZP,{item:!0,className:t.radioField,children:(0,k.jsx)(E.Z,{currentSelection:n,id:"affinity-options",name:"affinity-options",label:" ",onChange:function(e){O("podAffinity",e.target.value)},selectorOptions:[{label:"None",value:"none"},{label:"Default (Pod Anti-Affinity)",value:"default"},{label:"Node Selector",value:"nodeSelector"}]})})]})}),"nodeSelector"===n&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(A.Z,{value:"with_pod_anti_affinity",id:"with_pod_anti_affinity",name:"with_pod_anti_affinity",checked:o,onChange:function(e){var t=e.target.checked;O("withPodAntiAffinity",t)},label:"With Pod Anti-Affinity"})}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,k.jsx)("h3",{children:"Labels"}),(0,k.jsx)("span",{className:t.error,children:_.labels}),(0,k.jsx)(c.ZP,{container:!0,children:u&&u.map((function(e,n){return(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.affinityRow,children:[(0,k.jsxs)(c.ZP,{item:!0,xs:5,className:t.affinityLabelKey,children:[q.length>0&&(0,k.jsx)(H.Z,{onChange:function(e){var t=e.target.value,a=Object.assign([],u);a[n].key=e.target.value,a[n].value=z[t][0],m(a)},id:"select-access-policy",name:"select-access-policy",label:"",value:e.key,options:q}),0===q.length&&(0,k.jsx)(I.Z,{id:"nodeselector-key-".concat(n.toString()),label:"",name:"nodeselector-".concat(n.toString()),value:e.key,onChange:function(e){var t=Object.assign([],u);t[n].key=e.target.value,m(t)},index:n,placeholder:"Key"})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:5,className:t.affinityLabelValue,children:[q.length>0&&(0,k.jsx)(H.Z,{onChange:function(e){var t=Object.assign([],u);t[n].value=e.target.value,m(t)},id:"select-access-policy",name:"select-access-policy",label:"",value:e.value,options:z[e.key]?z[e.key].map((function(e){return{label:e,value:e}})):[]}),0===q.length&&(0,k.jsx)(I.Z,{id:"nodeselector-value-".concat(n.toString()),label:"",name:"nodeselector-".concat(n.toString()),value:e.value,onChange:function(e){var t=Object.assign([],u);t[n].value=e.target.value,m(t)},index:n,placeholder:"value"})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){var e=Object.assign([],u);q.length>0?e.push({key:q[0].value,value:z[q[0].value][0]}):e.push({key:"",value:""}),m(e)},children:(0,k.jsx)(L.Z,{})})}),u.length>1&&(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){var e=u.filter((function(e,t){return t!==n}));m(e)},children:(0,k.jsx)(P.Z,{})})})]})]},"affinity-keyVal-".concat(n.toString()))}))})]})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.affinityConfigField,children:(0,k.jsxs)(c.ZP,{item:!0,className:t.affinityFieldLabel,children:[(0,k.jsx)("h3",{children:"Tolerations"}),(0,k.jsx)("span",{className:t.error,children:_.tolerations}),(0,k.jsx)(c.ZP,{container:!0,children:f&&f.map((function(e,n){var a;return(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.affinityRow,children:[(0,k.jsx)(Q.Z,{effect:e.effect,onEffectChange:function(e){B(n,"effect",e)},tolerationKey:e.key,onTolerationKeyChange:function(e){B(n,"key",e)},operator:e.operator,onOperatorChange:function(e){B(n,"operator",e)},value:e.value,onValueChange:function(e){B(n,"value",e)},tolerationSeconds:(null===(a=e.tolerationSeconds)||void 0===a?void 0:a.seconds)||0,onSecondsChange:function(e){B(n,"tolerationSeconds",{seconds:e})},index:n}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:x,disabled:n!==f.length-1,children:(0,k.jsx)(L.Z,{})})}),(0,k.jsx)("div",{className:t.overlayAction,children:(0,k.jsx)(Z.Z,{size:"small",onClick:function(){return y(n)},disabled:f.length<=1,children:(0,k.jsx)(P.Z,{})})})]},"affinity-keyVal-".concat(n.toString()))}))})]})})]})}))),X=n(32291),ee=n(62666),te=(0,l.$j)((function(e){return{storageClasses:e.tenants.createTenant.storageClasses,customImage:e.tenants.createTenant.fields.configure.customImage,imageName:e.tenants.createTenant.fields.configure.imageName,customDockerhub:e.tenants.createTenant.fields.configure.customDockerhub,imageRegistry:e.tenants.createTenant.fields.configure.imageRegistry,imageRegistryUsername:e.tenants.createTenant.fields.configure.imageRegistryUsername,imageRegistryPassword:e.tenants.createTenant.fields.configure.imageRegistryPassword,exposeMinIO:e.tenants.createTenant.fields.configure.exposeMinIO,exposeConsole:e.tenants.createTenant.fields.configure.exposeConsole,prometheusCustom:e.tenants.createTenant.fields.configure.prometheusEnabled,tenantCustom:e.tenants.createTenant.fields.configure.tenantCustom,logSearchCustom:e.tenants.createTenant.fields.configure.logSearchEnabled,logSearchVolumeSize:e.tenants.createTenant.fields.configure.logSearchVolumeSize,logSearchSizeFactor:e.tenants.createTenant.fields.configure.logSearchSizeFactor,prometheusVolumeSize:e.tenants.createTenant.fields.configure.prometheusVolumeSize,prometheusSizeFactor:e.tenants.createTenant.fields.configure.prometheusSizeFactor,logSearchSelectedStorageClass:e.tenants.createTenant.fields.configure.logSearchSelectedStorageClass,logSearchImage:e.tenants.createTenant.fields.configure.logSearchImage,kesImage:e.tenants.createTenant.fields.configure.kesImage,logSearchPostgresImage:e.tenants.createTenant.fields.configure.logSearchPostgresImage,logSearchPostgresInitImage:e.tenants.createTenant.fields.configure.logSearchPostgresInitImage,prometheusSelectedStorageClass:e.tenants.createTenant.fields.configure.prometheusSelectedStorageClass,prometheusImage:e.tenants.createTenant.fields.configure.prometheusImage,prometheusSidecarImage:e.tenants.createTenant.fields.configure.prometheusSidecarImage,prometheusInitImage:e.tenants.createTenant.fields.configure.prometheusInitImage,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass}}),{updateAddField:C.HM,isPageValid:C.NO}),ne=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},g.DF),g.oO),g.AK))}))(te((function(e){var t=e.classes,n=(e.storageClasses,e.customImage),r=e.imageName,i=e.customDockerhub,o=e.imageRegistry,l=e.imageRegistryUsername,d=e.imageRegistryPassword,u=(e.exposeMinIO,e.exposeConsole,e.prometheusCustom),m=e.tenantCustom,g=e.logSearchCustom,p=e.logSearchVolumeSize,f=(e.logSearchSizeFactor,e.logSearchImage),h=e.kesImage,x=e.logSearchPostgresImage,y=e.logSearchPostgresInitImage,v=e.prometheusVolumeSize,C=(e.prometheusSizeFactor,e.logSearchSelectedStorageClass),Z=e.prometheusSelectedStorageClass,N=e.prometheusImage,P=e.prometheusSidecarImage,T=e.prometheusInitImage,D=e.updateAddField,w=e.isPageValid,R=(e.selectedStorageClass,(0,s.useState)({})),F=(0,a.Z)(R,2),K=F[0],E=F[1],z=(0,s.useCallback)((function(e,t){D("configure",e,t)}),[D]);(0,s.useEffect)((function(){var e=[];u&&(e=[].concat((0,S.Z)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:Z,customValidation:""===Z,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:v,customValidation:""===v||parseInt(v)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),g&&(e=[].concat((0,S.Z)(e),[{fieldKey:"log_search_storage_class",required:!0,value:C,customValidation:""===C,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:p,customValidation:""===p||parseInt(p)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"}])),n&&(e=[].concat((0,S.Z)(e),[{fieldKey:"image",required:!1,value:r,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"logSearchImage",required:!1,value:f,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/operator:VERSION'"},{fieldKey:"kesImage",required:!1,value:h,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"},{fieldKey:"logSearchPostgresImage",required:!1,value:x,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/postgres:VERSION'"},{fieldKey:"logSearchPostgresInitImage",required:!1,value:y,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"},{fieldKey:"prometheusImage",required:!1,value:N,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/prometheus:VERSION'"},{fieldKey:"prometheusSidecarImage",required:!1,value:P,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'project/container:VERSION'"},{fieldKey:"prometheusInitImage",required:!1,value:T,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'library/busybox:VERSION'"}]),i&&(e=[].concat((0,S.Z)(e),[{fieldKey:"registry",required:!0,value:o},{fieldKey:"registryUsername",required:!0,value:l},{fieldKey:"registryPassword",required:!0,value:d}])));var t=(0,b.R)(e);w("configure",0===Object.keys(t).length),E(t)}),[n,r,f,h,x,y,N,P,T,i,o,l,d,w,u,m,g,Z,v,C,p]);var G=function(e){E((0,_.h)(K,e))};return(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Container Images"}),(0,k.jsx)("span",{className:t.descriptionText,children:"Specify the container images used by the Tenant and it's features."})]}),(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"image",name:"image",onChange:function(e){z("imageName",e.target.value),G("image")},label:"MinIO",value:r,error:K.image||"",placeholder:"E.g. minio/minio:RELEASE.2022-02-26T02-54-46Z"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"kesImage",name:"kesImage",onChange:function(e){z("kesImage",e.target.value),G("kesImage")},label:"KES",value:h,error:K.kesImage||"",placeholder:"E.g. minio/kes:v0.17.6"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)("h4",{children:"Log Search"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"logSearchImage",name:"logSearchImage",onChange:function(e){z("logSearchImage",e.target.value),G("logSearchImage")},label:"API",value:f,error:K.logSearchImage||"",placeholder:"E.g. minio/operator:v4.4.10"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"logSearchPostgresImage",name:"logSearchPostgresImage",onChange:function(e){z("logSearchPostgresImage",e.target.value),G("logSearchPostgresImage")},label:"PostgreSQL",value:x,error:K.logSearchPostgresImage||"",placeholder:"E.g. library/postgres:13"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"logSearchPostgresInitImage",name:"logSearchPostgresInitImage",onChange:function(e){z("logSearchPostgresInitImage",e.target.value),G("logSearchPostgresInitImage")},label:"PostgreSQL Init",value:y,error:K.logSearchPostgresInitImage||"",placeholder:"E.g. library/busybox:1.33.1"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)("h4",{children:"Monitoring"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"prometheusImage",name:"prometheusImage",onChange:function(e){z("prometheusImage",e.target.value),G("prometheusImage")},label:"Prometheus",value:N,error:K.prometheusImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"prometheusSidecarImage",name:"prometheusSidecarImage",onChange:function(e){z("prometheusSidecarImage",e.target.value),G("prometheusSidecarImage")},label:"Prometheus Sidecar",value:P,error:K.prometheusSidecarImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"prometheusInitImage",name:"prometheusInitImage",onChange:function(e){z("prometheusInitImage",e.target.value),G("prometheusInitImage")},label:"Prometheus Init",value:T,error:K.prometheusInitImage||"",placeholder:"E.g. quay.io/prometheus/prometheus:latest"})})]}),n&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)("h4",{children:"Custom Container Registry"})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(A.Z,{value:"custom_docker_hub",id:"custom_docker_hub",name:"custom_docker_hub",checked:i,onChange:function(e){var t=e.target.checked;z("customDockerhub",t)},label:"Use a private container registry"})})]}),i&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"registry",name:"registry",onChange:function(e){z("imageRegistry",e.target.value)},label:"Endpoint",value:o,error:K.registry||"",placeholder:"E.g. https://index.docker.io/v1/",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"registryUsername",name:"registryUsername",onChange:function(e){z("imageRegistryUsername",e.target.value)},label:"Username",value:l,error:K.registryUsername||"",required:!0})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"registryPassword",name:"registryPassword",onChange:function(e){z("imageRegistryPassword",e.target.value)},label:"Password",value:d,error:K.registryPassword||"",required:!0})})]})]})}))),ae=n(74794),re=n(84669),se=n(48573),ie=n.n(se),oe=n(49724),le=n(51691),ce=n(2148),de=n(85543),ue={setErrorSnackMessage:x.Ih},me=(0,l.$j)(null,ue),ge=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},g.oO),g.Qw))}))(me((function(e){var t=e.classes,n=e.namespace,r=e.addNamespaceOpen,i=e.closeAddNamespaceModalAndRefresh,o=e.setErrorSnackMessage,l=(0,s.useState)(!1),c=(0,a.Z)(l,2),u=c[0],m=c[1];(0,s.useEffect)((function(){u&&p.Z.invoke("POST","/api/v1/namespace",{name:n}).then((function(e){m(!1),i(!0)})).catch((function(e){m(!1),o(e)}))}),[u,i,n,o]);return(0,k.jsx)(ce.Z,{title:"New namespace",confirmText:"Create",confirmButtonProps:{color:"primary",variant:"contained"},isOpen:r,titleIcon:(0,k.jsx)(de.Ej,{}),isLoading:u,onConfirm:function(){m(!0)},onClose:function(){i(!1)},confirmationContent:(0,k.jsxs)(s.Fragment,{children:[u&&(0,k.jsx)(d.Z,{}),(0,k.jsxs)(le.Z,{children:["Are you sure you want to add a namespace called",(0,k.jsx)("br",{}),(0,k.jsx)("b",{className:t.wrapText,children:n}),"?"]})]})})}))),pe=n(79836),fe=n(53382),he=n(53994),xe=n(35855),ye=n(94721),ve=(0,l.$j)((function(e){return{volumeSize:e.tenants.createTenant.fields.tenantSize.volumeSize,sizeFactor:e.tenants.createTenant.fields.tenantSize.sizeFactor,drivesPerServer:e.tenants.createTenant.fields.tenantSize.drivesPerServer,nodes:e.tenants.createTenant.fields.tenantSize.nodes,memoryNode:e.tenants.createTenant.fields.tenantSize.resourcesMemoryRequest,ecParity:e.tenants.createTenant.fields.tenantSize.ecParity,ecParityChoices:e.tenants.createTenant.fields.tenantSize.ecParityChoices,cleanECChoices:e.tenants.createTenant.fields.tenantSize.cleanECChoices,resourcesSize:e.tenants.createTenant.fields.tenantSize.resourcesSize,distribution:e.tenants.createTenant.fields.tenantSize.distribution,ecParityCalc:e.tenants.createTenant.fields.tenantSize.ecParityCalc,limitSize:e.tenants.createTenant.fields.tenantSize.limitSize,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,cpuToUse:e.tenants.createTenant.fields.tenantSize.resourcesCPURequest,integrationSelection:e.tenants.createTenant.fields.tenantSize.integrationSelection}}),{updateAddField:C.HM,isPageValid:C.NO}),Ce=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({root:{margin:4},table:{"& .MuiTableCell-root":{fontSize:13}}},g.oO),g.AK))}))(ve((function(e){var t=e.classes,n=e.nodes,a=e.memoryNode,r=e.ecParity,i=e.distribution,o=e.ecParityCalc,l=e.cpuToUse,c=e.integrationSelection,d=o.storageFactors.find((function(e){return e.erasureCode===r}));return(0,k.jsxs)("div",{className:t.root,children:[(0,k.jsx)("h4",{children:"Resource Allocation"}),(0,k.jsx)(ye.Z,{}),(0,k.jsx)(pe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,k.jsxs)(fe.Z,{children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Number of Servers"}),(0,k.jsx)(he.Z,{align:"right",children:parseInt(n)>0?n:"-"})]}),""===c.typeSelection&&""===c.storageClass&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Drives per Server"}),(0,k.jsx)(he.Z,{align:"right",children:i?i.disks:"-"})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Drive Capacity"}),(0,k.jsx)(he.Z,{align:"right",children:i?(0,f.ae)(i.pvSize):"-"})]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Total Volumes"}),(0,k.jsx)(he.Z,{align:"right",children:i?i.persistentVolumes:"-"})]}),""===c.typeSelection&&""===c.storageClass&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Memory per Node"}),(0,k.jsxs)(he.Z,{align:"right",children:[a," Gi"]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{style:{borderBottom:0},scope:"row",children:"CPU Selection"}),(0,k.jsx)(he.Z,{style:{borderBottom:0},align:"right",children:l})]})]})]})}),0===o.error&&d&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)("h4",{children:"Erasure Code Configuration"}),(0,k.jsx)(ye.Z,{}),(0,k.jsx)(pe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,k.jsxs)(fe.Z,{children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"EC Parity"}),(0,k.jsx)(he.Z,{align:"right",children:""!==r?r:"-"})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Raw Capacity"}),(0,k.jsx)(he.Z,{align:"right",children:(0,f.ae)(o.rawCapacity)})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Usable Capacity"}),(0,k.jsx)(he.Z,{align:"right",children:(0,f.ae)(d.maxCapacity)})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{style:{borderBottom:0},scope:"row",children:"Server Failures Tolerated"}),(0,k.jsx)(he.Z,{style:{borderBottom:0},align:"right",children:i?Math.floor(d.maxFailureTolerations/i.disks):"-"})]})]})})]}),""!==c.typeSelection&&""!==c.storageClass&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)("h4",{children:"Single Instance Configuration"}),(0,k.jsx)(ye.Z,{}),(0,k.jsx)(pe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,k.jsxs)(fe.Z,{children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"CPU"}),(0,k.jsx)(he.Z,{align:"right",children:0!==c.CPU?c.CPU:"-"})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Memory"}),(0,k.jsx)(he.Z,{align:"right",children:0!==c.memory?"".concat(c.memory," Gi"):"-"})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{scope:"row",children:"Drives per Server"}),(0,k.jsx)(he.Z,{align:"right",children:0!==c.drivesPerServer?"".concat(c.drivesPerServer):"-"})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(he.Z,{style:{borderBottom:0},scope:"row",children:"Drive Size"}),(0,k.jsxs)(he.Z,{style:{borderBottom:0},align:"right",children:[c.driveSize.driveSize,c.driveSize.sizeUnit]})]})]})})]})]})}))),Se=n(19720),je=n(45884),Ze=(0,l.$j)((function(e){return{tenantName:e.tenants.createTenant.fields.nameTenant.tenantName,namespace:e.tenants.createTenant.fields.nameTenant.namespace,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,selectedStorageType:e.tenants.createTenant.fields.nameTenant.selectedStorageType,storageClasses:e.tenants.createTenant.storageClasses,features:e.console.session.features}}),{setModalErrorSnackMessage:x.zb,updateAddField:C.HM,setStorageClassesList:C.wZ,setLimitSize:C.DH,isPageValid:C.NO,setStorageType:C.Qy}),_e=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)({sizePreview:{position:"fixed",marginLeft:10,background:"#FFFFFF",border:"1px solid #EAEAEA",padding:2}},g.DF),g.oO),g.AK))}))(Ze((function(e){var t=e.classes,n=e.storageClasses,r=e.tenantName,i=e.namespace,l=e.selectedStorageClass,d=e.selectedStorageType,u=e.formToRender,m=void 0===u?je.cy.default:u,g=e.updateAddField,f=e.setStorageClassesList,h=e.setLimitSize,x=e.isPageValid,y=e.setModalErrorSnackMessage,v=e.features,C=e.setStorageType,S=(0,s.useState)({}),Z=(0,a.Z)(S,2),A=Z[0],N=Z[1],P=(0,s.useState)(!0),T=(0,a.Z)(P,2),D=T[0],w=T[1],R=(0,s.useState)(!1),F=(0,a.Z)(R,2),K=F[0],E=F[1],z=(0,s.useState)(!1),G=(0,a.Z)(z,2),U=G[0],M=G[1],q=(0,s.useState)(!1),V=(0,a.Z)(q,2),O=V[0],B=V[1],W=(0,s.useCallback)((function(e,t){g("nameTenant",e,t)}),[g]),$=(0,s.useCallback)((function(){M(!1),p.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants")).then((function(e){var t=o()(e,"tenants",[]);if(t&&t.length>0)return w(!1),void E(!1);w(!0),p.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/resourcequotas/").concat(i,"-storagequota")).then((function(e){var t=o()(e,"elements",[]);h((0,oe.OU)(e));var n=t.map((function(e){var t=o()(e,"name","").split(".storageclass.storage.k8s.io/requests.storage")[0];return{label:t,value:t}}));f(n);var a=n.findIndex((function(e){return e.value===l}));n.length>0&&-1===a?W("selectedStorageClass",n[0].value):0===n.length&&(W("selectedStorageClass",""),f([])),E(!1)})).catch((function(e){E(!1),M(!0),W("selectedStorageClass",""),f([]),console.error("Namespace error: ",e)}))})).catch((function(e){y({errorMessage:"Error validating if namespace already has tenants",detailedError:e.detailedError})}))}),[i,h,y,f,W,l]),Q=(0,s.useMemo)((function(){return ie()($,500)}),[$]);(0,s.useEffect)((function(){if(""!==i)return Q(),E(!0),Q.cancel}),[Q,i]),(0,s.useEffect)((function(){var e=!1,t="";D||K?n.length<1&&D&&!K&&(e=!0,t="Please enter a valid namespace"):(e=!0,t="You can only create one tenant per namespace");var a=(0,b.R)([{fieldKey:"tenant-name",required:!0,pattern:/^[a-z0-9-]{3,63}$/,customPatternMessage:"Name only can contain lowercase letters, numbers and '-'. Min. Length: 3",value:r},{fieldKey:"namespace",required:!0,value:i,customValidation:e,customValidationMessage:t}]),s=!("tenant-name"in a)&&!("namespace"in a)&&(m===je.cy.default&&n.length>0||m!==je.cy.default&&""!==d);x("nameTenant",s),N(a)}),[n,i,r,x,D,K,d,m]);var J=function(e){N((0,_.h)(A,e))};return(0,k.jsxs)(s.Fragment,{children:[O&&(0,k.jsx)(ge,{addNamespaceOpen:O,closeAddNamespaceModalAndRefresh:function(e){B(!1),e&&Q()},namespace:i}),(0,k.jsxs)(c.ZP,{container:!0,children:[(0,k.jsx)(c.ZP,{item:!0,xs:8,md:9,children:(0,k.jsx)(j.Z,{className:t.paperWrapper,sx:{minHeight:550},children:(0,k.jsxs)(c.ZP,{container:!0,children:[(0,k.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,k.jsxs)("div",{className:t.headerElement,children:[(0,k.jsx)("h3",{className:t.h3Section,children:"Name"}),(0,k.jsx)("span",{className:t.descriptionText,children:"How would you like to name this new tenant?"})]}),(0,k.jsx)("div",{className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"tenant-name",name:"tenant-name",onChange:function(e){W("tenantName",e.target.value),J("tenant-name")},label:"Name",value:r,required:!0,error:A["tenant-name"]||""})})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(I.Z,{id:"namespace",name:"namespace",onChange:function(e){W("namespace",e.target.value),J("namespace")},label:"Namespace",value:i,error:A.namespace||"",overlayId:"add-namespace",overlayIcon:U?(0,k.jsx)(L.Z,{}):null,overlayAction:function(){B(!0)},required:!0})}),m===je.cy.default?(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(H.Z,{id:"storage_class",name:"storage_class",onChange:function(e){W("selectedStorageClass",e.target.value)},label:"Storage Class",value:l,options:n,disabled:n.length<1})}):(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(H.Z,{id:"storage_type",name:"storage_type",onChange:function(e){C(e.target.value,v)},label:o()(je.Hd,"".concat(m,".variantSelectorLabel"),"Storage Type"),value:d,options:o()(je.Hd,"".concat(m,".variantSelectorValues"),[])})}),m===je.cy.default?(0,k.jsx)(Se.Z,{}):o()(je.Hd,"".concat(m,".sizingComponent"),null)]})})}),(0,k.jsx)(c.ZP,{item:!0,xs:4,md:3,children:(0,k.jsx)("div",{className:t.sizePreview,children:(0,k.jsx)(Ce,{})})})]})]})}))),be=(0,l.$j)((function(e){return{features:e.console.session.features}}),null)((function(e){var t=e.features,n=(0,s.useState)(null),r=(0,a.Z)(n,2),i=r[0],l=r[1];return(0,s.useEffect)((function(){var e=je.cy.default;t&&0!==t.length&&Object.keys(je.I8).forEach((function(n){t.includes(n)&&(e=o()(je.I8,n,je.cy.default))}));l(e)}),[t]),null===i?null:(0,k.jsx)(_e,{formToRender:i})})),Ae=n(56578),Ie=(0,l.$j)((function(e){return{storageClasses:e.tenants.createTenant.storageClasses,logSearchEnabled:e.tenants.createTenant.fields.configure.logSearchEnabled,logSearchVolumeSize:e.tenants.createTenant.fields.configure.logSearchVolumeSize,logSearchSizeFactor:e.tenants.createTenant.fields.configure.logSearchSizeFactor,logSearchSelectedStorageClass:e.tenants.createTenant.fields.configure.logSearchSelectedStorageClass,logSearchImage:e.tenants.createTenant.fields.configure.logSearchImage,logSearchPostgresImage:e.tenants.createTenant.fields.configure.logSearchPostgresImage,logSearchPostgresInitImage:e.tenants.createTenant.fields.configure.logSearchPostgresInitImage,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,tenantSecurityContext:e.tenants.createTenant.fields.configure.tenantSecurityContext,logSearchSecurityContext:e.tenants.createTenant.fields.configure.logSearchSecurityContext,logSearchPostgresSecurityContext:e.tenants.createTenant.fields.configure.logSearchPostgresSecurityContext}}),{updateAddField:C.HM,isPageValid:C.NO}),Ne=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({configSectionItem:{marginRight:15,"& .multiContainer":{border:"1px solid red"}},fieldGroup:(0,r.Z)((0,r.Z)({},g.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},logSearchEnabledFields:{marginLeft:20,padding:10,width:"90%",margin:"auto"},fieldSpaceTop:{marginTop:15}},g.oO),g.AK))}))(Ie((function(e){var t=e.classes,n=e.storageClasses,i=e.logSearchEnabled,o=e.logSearchVolumeSize,l=(e.logSearchSizeFactor,e.logSearchImage),d=e.logSearchPostgresImage,u=e.logSearchPostgresInitImage,m=e.logSearchSelectedStorageClass,g=e.updateAddField,p=e.isPageValid,f=e.selectedStorageClass,h=e.tenantSecurityContext,x=e.logSearchSecurityContext,y=e.logSearchPostgresSecurityContext,v=(0,s.useState)({}),C=(0,a.Z)(v,2),Z=C[0],N=C[1],P=[{label:"Default",value:"default"}].concat((0,S.Z)(n)),T=(0,s.useCallback)((function(e,t){g("configure",e,t)}),[g]);(0,s.useEffect)((function(){var e=[];i&&(e=[].concat((0,S.Z)(e),[{fieldKey:"log_search_storage_class",required:!0,value:m,customValidation:""===m,customValidationMessage:"Field cannot be empty"},{fieldKey:"log_search_volume_size",required:!0,value:o,customValidation:""===o||parseInt(o)<=0,customValidationMessage:"Volume size must be present and be greatter than 0"},{fieldKey:"logSearch_securityContext_runAsUser",required:!0,value:x.runAsUser,customValidation:""===x.runAsUser||parseInt(x.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_runAsGroup",required:!0,value:x.runAsGroup,customValidation:""===x.runAsGroup||parseInt(x.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"logSearch_securityContext_fsGroup",required:!0,value:x.fsGroup,customValidation:""===x.fsGroup||parseInt(x.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsUser",required:!0,value:y.runAsUser,customValidation:""===y.runAsUser||parseInt(y.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"postgres_securityContext_runAsGroup",required:!0,value:x.runAsGroup,customValidation:""===y.runAsGroup||parseInt(y.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"postgres_securityContext_fsGroup",required:!0,value:y.fsGroup,customValidation:""===y.fsGroup||parseInt(y.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]));var t=(0,b.R)(e);p("configure",0===Object.keys(t).length),N(t)}),[l,d,u,p,i,m,o,h,x,y]),(0,s.useEffect)((function(){n.length>0&&(0===n.filter((function(e){return e.value===m})).length&&T("logSearchSelectedStorageClass","default"))}),[m,f,n,T]);var D=function(e){N((0,_.h)(Z,e))};return(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,k.jsx)(c.ZP,{item:!0,xs:!0,children:(0,k.jsx)(O,{children:"Audit Log"})}),(0,k.jsx)(c.ZP,{item:!0,xs:4,children:(0,k.jsx)(A.Z,{value:"enableLogging",id:"enableLogging",name:"enableLogging",checked:i,onChange:function(e){var t=e.target.checked;T("logSearchEnabled",t)},indicatorLabels:["Enabled","Disabled"]})})]}),(0,k.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("span",{className:t.descriptionText,children:"Deploys a small PostgreSQL database and stores access logs of all calls into the tenant."})}),(0,k.jsx)(c.ZP,{xs:12,children:(0,k.jsx)("hr",{className:t.hrClass})}),i&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(H.Z,{id:"log_search_storage_class",name:"log_search_storage_class",onChange:function(e){T("logSearchSelectedStorageClass",e.target.value)},label:"Log Search Storage Class",value:m,options:P,disabled:P.length<1})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(I.Z,{type:"number",id:"log_search_volume_size",name:"log_search_volume_size",onChange:function(e){T("logSearchVolumeSize",e.target.value),D("log_search_volume_size")},label:"Storage Size",overlayObject:(0,k.jsx)(Ae.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0}),value:o,required:!0,error:Z.log_search_volume_size||"",min:"0"})})}),(0,k.jsxs)("fieldset",{className:"".concat(t.fieldGroup," ").concat(t.fieldSpaceTop),children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for LogSearch"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"logSearch_securityContext_runAsUser",name:"logSearch_securityContext_runAsUser",onChange:function(e){T("logSearchSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsUser:e.target.value})),D("logSearch_securityContext_runAsUser")},label:"Run As User",value:x.runAsUser,required:!0,error:Z.logSearch_securityContext_runAsUser||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"logSearch_securityContext_runAsGroup",name:"logSearch_securityContext_runAsGroup",onChange:function(e){T("logSearchSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsGroup:e.target.value})),D("logSearch_securityContext_runAsGroup")},label:"Run As Group",value:x.runAsGroup,required:!0,error:Z.logSearch_securityContext_runAsGroup||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"logSearch_securityContext_fsGroup",name:"logSearch_securityContext_fsGroup",onChange:function(e){T("logSearchSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{fsGroup:e.target.value})),D("logSearch_securityContext_fsGroup")},label:"FsGroup",value:x.fsGroup,required:!0,error:Z.logSearch_securityContext_fsGroup||"",min:"0"})})]})}),(0,k.jsx)("br",{}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(A.Z,{value:"logSearchSecurityContextRunAsNonRoot",id:"logSearch_securityContext_runAsNonRoot",name:"logSearch_securityContext_runAsNonRoot",checked:x.runAsNonRoot,onChange:function(e){var t=e.target.checked;T("logSearchSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]}),(0,k.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for PostgreSQL"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"postgres_securityContext_runAsUser",name:"postgres_securityContext_runAsUser",onChange:function(e){T("logSearchPostgresSecurityContext",(0,r.Z)((0,r.Z)({},y),{},{runAsUser:e.target.value})),D("postgres_securityContext_runAsUser")},label:"Run As User",value:y.runAsUser,required:!0,error:Z.postgres_securityContext_runAsUser||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"postgres_securityContext_runAsGroup",name:"postgres_securityContext_runAsGroup",onChange:function(e){T("logSearchPostgresSecurityContext",(0,r.Z)((0,r.Z)({},y),{},{runAsGroup:e.target.value})),D("postgres_securityContext_runAsGroup")},label:"Run As Group",value:y.runAsGroup,required:!0,error:Z.postgres_securityContext_runAsGroup||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"postgres_securityContext_fsGroup",name:"postgres_securityContext_fsGroup",onChange:function(e){T("logSearchPostgresSecurityContext",(0,r.Z)((0,r.Z)({},y),{},{fsGroup:e.target.value})),D("postgres_securityContext_fsGroup")},label:"FsGroup",value:y.fsGroup,required:!0,error:Z.postgres_securityContext_fsGroup||"",min:"0"})})]})}),(0,k.jsx)("br",{}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(A.Z,{value:"postgresSecurityContextRunAsNonRoot",id:"postgres_securityContext_runAsNonRoot",name:"postgres_securityContext_runAsNonRoot",checked:y.runAsNonRoot,onChange:function(e){var t=e.target.checked;T("logSearchPostgresSecurityContext",(0,r.Z)((0,r.Z)({},y),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})]})]})]})}))),Pe=(0,l.$j)((function(e){return{storageClasses:e.tenants.createTenant.storageClasses,prometheusEnabled:e.tenants.createTenant.fields.configure.prometheusEnabled,prometheusVolumeSize:e.tenants.createTenant.fields.configure.prometheusVolumeSize,prometheusSizeFactor:e.tenants.createTenant.fields.configure.prometheusSizeFactor,prometheusSelectedStorageClass:e.tenants.createTenant.fields.configure.prometheusSelectedStorageClass,prometheusImage:e.tenants.createTenant.fields.configure.prometheusImage,prometheusSidecarImage:e.tenants.createTenant.fields.configure.prometheusSidecarImage,prometheusInitImage:e.tenants.createTenant.fields.configure.prometheusInitImage,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,tenantSecurityContext:e.tenants.createTenant.fields.configure.tenantSecurityContext,prometheusSecurityContext:e.tenants.createTenant.fields.configure.prometheusSecurityContext}}),{updateAddField:C.HM,isPageValid:C.NO}),ke=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)({configSectionItem:{marginRight:15,"& .multiContainer":{border:"1px solid red"}},fieldGroup:(0,r.Z)((0,r.Z)({},g.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},fieldSpaceTop:{marginTop:15},prometheusEnabledFields:{marginLeft:20,padding:10,width:"90%",margin:"auto"}},g.oO),g.AK))}))(Pe((function(e){var t=e.classes,n=e.storageClasses,i=e.prometheusEnabled,o=e.prometheusVolumeSize,l=(e.prometheusSizeFactor,e.prometheusSelectedStorageClass),d=e.prometheusImage,u=e.prometheusSidecarImage,m=e.prometheusInitImage,g=e.updateAddField,p=e.isPageValid,f=e.selectedStorageClass,h=e.tenantSecurityContext,x=e.prometheusSecurityContext,y=(0,s.useState)({}),v=(0,a.Z)(y,2),C=v[0],Z=v[1],N=[{label:"Default",value:"default"}].concat((0,S.Z)(n)),P=(0,s.useCallback)((function(e,t){g("configure",e,t)}),[g]);(0,s.useEffect)((function(){var e=[];i&&(e=[].concat((0,S.Z)(e),[{fieldKey:"prometheus_storage_class",required:!0,value:l,customValidation:""===l,customValidationMessage:"Field cannot be empty"},{fieldKey:"prometheus_volume_size",required:!0,value:o,customValidation:""===o||parseInt(o)<=0,customValidationMessage:"Volume size must be present and be greater than 0"},{fieldKey:"prometheus_securityContext_runAsUser",required:!0,value:x.runAsUser,customValidation:""===x.runAsUser||parseInt(x.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_runAsGroup",required:!0,value:x.runAsGroup,customValidation:""===x.runAsGroup||parseInt(x.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"prometheus_securityContext_fsGroup",required:!0,value:x.fsGroup,customValidation:""===x.fsGroup||parseInt(x.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]));var t=(0,b.R)(e);p("configure",0===Object.keys(t).length),Z(t)}),[d,u,m,p,i,l,o,h,x]),(0,s.useEffect)((function(){n.length>0&&(0===n.filter((function(e){return e.value===l})).length&&P("prometheusSelectedStorageClass","default"))}),[l,f,n,P]);var T=function(e){Z((0,_.h)(C,e))};return(0,k.jsxs)(j.Z,{className:t.paperWrapper,children:[(0,k.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,k.jsx)(c.ZP,{item:!0,xs:!0,children:(0,k.jsx)(O,{children:"Monitoring"})}),(0,k.jsx)(c.ZP,{item:!0,xs:4,children:(0,k.jsx)(A.Z,{indicatorLabels:["Enabled","Disabled"],checked:i,value:"monitoring_status",id:"monitoring-status",name:"monitoring-status",onChange:function(e){var t=e.target.checked;P("prometheusEnabled",t)},description:""})})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("span",{className:t.descriptionText,children:"A small Prometheus will be deployed to keep metrics about the tenant."})}),(0,k.jsx)(c.ZP,{xs:12,children:(0,k.jsx)("hr",{className:t.hrClass})}),(0,k.jsx)(c.ZP,{container:!0,spacing:1,children:i&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(H.Z,{id:"prometheus_storage_class",name:"prometheus_storage_class",onChange:function(e){P("prometheusSelectedStorageClass",e.target.value)},label:"Storage Class",value:l,options:N,disabled:N.length<1})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("div",{className:t.multiContainer,children:(0,k.jsx)(I.Z,{type:"number",id:"prometheus_volume_size",name:"prometheus_volume_size",onChange:function(e){P("prometheusVolumeSize",e.target.value),T("prometheus_volume_size")},label:"Storage Size",overlayObject:(0,k.jsx)(Ae.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0}),value:o,required:!0,error:C.prometheus_volume_size||"",min:"0"})})}),(0,k.jsxs)("fieldset",{className:"".concat(t.fieldGroup," ").concat(t.fieldSpaceTop),children:[(0,k.jsx)("legend",{className:t.descriptionText,children:"SecurityContext"}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"prometheus_securityContext_runAsUser",name:"prometheus_securityContext_runAsUser",onChange:function(e){P("prometheusSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsUser:e.target.value})),T("prometheus_securityContext_runAsUser")},label:"Run As User",value:x.runAsUser,required:!0,error:C.prometheus_securityContext_runAsUser||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"prometheus_securityContext_runAsGroup",name:"prometheus_securityContext_runAsGroup",onChange:function(e){P("prometheusSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsGroup:e.target.value})),T("prometheus_securityContext_runAsGroup")},label:"Run As Group",value:x.runAsGroup,required:!0,error:C.prometheus_securityContext_runAsGroup||"",min:"0"})}),(0,k.jsx)("div",{className:t.configSectionItem,children:(0,k.jsx)(I.Z,{type:"number",id:"prometheus_securityContext_fsGroup",name:"prometheus_securityContext_fsGroup",onChange:function(e){P("prometheusSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{fsGroup:e.target.value})),T("prometheus_securityContext_fsGroup")},label:"FsGroup",value:x.fsGroup,required:!0,error:C.prometheus_securityContext_fsGroup||"",min:"0"})})]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,k.jsx)("div",{className:"".concat(t.multiContainer," ").concat(t.fieldSpaceTop),children:(0,k.jsx)(A.Z,{value:"prometheusSecurityContextRunAsNonRoot",id:"prometheus_securityContext_runAsNonRoot",name:"prometheus_securityContext_runAsNonRoot",checked:x.runAsNonRoot,onChange:function(e){var t=e.target.checked;P("prometheusSecurityContext",(0,r.Z)((0,r.Z)({},x),{},{runAsNonRoot:t}))},label:"Do not run as Root"})})})]})]})})]})}))),Te=n(23804),De=(0,l.$j)((function(e){return{namespace:e.tenants.createTenant.fields.nameTenant.namespace,validPages:e.tenants.createTenant.validPages,fields:e.tenants.createTenant.fields,certificates:e.tenants.createTenant.certificates,selectedStorageClass:e.tenants.createTenant.fields.nameTenant.selectedStorageClass,features:e.console.session.features,tolerations:e.tenants.createTenant.tolerations}}),{setErrorSnackMessage:x.Ih,updateAddField:C.HM,resetAddTenantForm:C.dS}),we=(0,m.Z)((function(e){return(0,u.Z)((0,r.Z)((0,r.Z)((0,r.Z)({pageBox:{border:"1px solid #EAEAEA"}},g.oO),g.AK),g.Je))}))(De((function(e){var t=e.classes,n=e.fields,i=e.certificates,l=e.selectedStorageClass,u=e.namespace,m=e.validPages,g=e.setErrorSnackMessage,x=e.resetAddTenantForm,C=e.features,S=e.tolerations,j=(0,s.useState)(!1),Z=(0,a.Z)(j,2),_=Z[0],b=Z[1],A=(0,s.useState)(null),I=(0,a.Z)(A,2),N=I[0],P=I[1],T=(0,s.useState)(!1),w=(0,a.Z)(T,2),R=w[0],F=w[1],K=(0,s.useState)(null),E=(0,a.Z)(K,2),z=E[0],U=E[1];(0,s.useEffect)((function(){var e=je.cy.default;C&&0!==C.length&&Object.keys(je.I8).forEach((function(t){C.includes(t)&&(e=o()(je.I8,t,je.cy.default))}));U(e)}),[C]),(0,s.useEffect)((function(){var e=n.nameTenant.tenantName,t=n.nameTenant.selectedStorageClass,a=n.configure.imageName,s=n.configure.customDockerhub,l=n.configure.imageRegistry,c=n.configure.imageRegistryUsername,d=n.configure.imageRegistryPassword,m=n.configure.exposeMinIO,h=n.configure.exposeConsole,x=n.identityProvider.idpSelection,v=n.identityProvider.openIDConfigurationURL,C=n.identityProvider.openIDClientID,j=n.identityProvider.openIDClaimName,Z=n.identityProvider.openIDCallbackURL,_=n.identityProvider.openIDScopes,A=n.identityProvider.openIDSecretID,I=n.identityProvider.ADURL,N=n.identityProvider.ADSkipTLS,k=n.identityProvider.ADServerInsecure,T=n.identityProvider.ADGroupSearchBaseDN,D=n.identityProvider.ADGroupSearchFilter,w=n.identityProvider.ADUserDNs,K=n.identityProvider.ADLookupBindDN,E=n.identityProvider.ADLookupBindPassword,z=n.identityProvider.ADUserDNSearchBaseDN,G=n.identityProvider.ADUserDNSearchFilter,U=n.identityProvider.ADServerStartTLS,L=n.identityProvider.accessKeys,M=n.identityProvider.secretKeys,q=i.minioCertificates,V=i.caCertificates,O=i.consoleCaCertificates,B=i.consoleCertificate,W=i.serverCertificate,$=i.clientCertificate,H=i.vaultCertificate,Q=i.vaultCA,J=i.gemaltoCA,Y=n.encryption.enableEncryption,X=n.encryption.encryptionType,ee=n.encryption.gemaltoEndpoint,te=n.encryption.gemaltoToken,ne=n.encryption.gemaltoDomain,ae=n.encryption.gemaltoRetry,re=n.encryption.awsEndpoint,se=n.encryption.awsRegion,ie=n.encryption.awsKMSKey,oe=n.encryption.awsAccessKey,le=n.encryption.awsSecretKey,ce=n.encryption.awsToken,de=n.encryption.vaultEndpoint,ue=n.encryption.vaultEngine,me=n.encryption.vaultNamespace,ge=n.encryption.vaultPrefix,pe=n.encryption.vaultAppRoleEngine,fe=n.encryption.vaultId,he=n.encryption.vaultSecret,xe=n.encryption.vaultRetry,ye=n.encryption.vaultPing,ve=n.encryption.azureEndpoint,Ce=n.encryption.azureTenantID,Se=n.encryption.azureClientID,je=n.encryption.azureClientSecret,Ze=n.encryption.gcpProjectID,_e=n.encryption.gcpEndpoint,be=n.encryption.gcpClientEmail,Ae=n.encryption.gcpClientID,Ie=n.encryption.gcpPrivateKeyID,Ne=n.encryption.gcpPrivateKey,Pe=n.security.enableAutoCert,ke=n.security.enableTLS,Te=n.tenantSize.ecParity,De=n.tenantSize.distribution,we=n.configure.tenantCustom,Re=n.configure.logSearchEnabled,Fe=n.configure.prometheusEnabled,Ke=n.configure.logSearchVolumeSize,Ee=n.configure.logSearchSelectedStorageClass,ze=n.configure.logSearchImage,Ge=n.configure.kesImage,Ue=n.configure.logSearchPostgresImage,Le=n.configure.logSearchPostgresInitImage,Me=n.configure.prometheusImage,qe=n.configure.prometheusSidecarImage,Ve=n.configure.prometheusInitImage,Oe=n.configure.prometheusSelectedStorageClass,Be=n.configure.prometheusVolumeSize,We=n.affinity.podAffinity,$e=n.affinity.nodeSelectorLabels,He=n.affinity.withPodAntiAffinity,Qe=n.configure.tenantSecurityContext,Je=n.configure.logSearchSecurityContext,Ye=n.configure.logSearchPostgresSecurityContext,Xe=n.configure.prometheusSecurityContext,et=n.encryption.kesSecurityContext,tt=n.encryption.replicas,nt=n.configure.setDomains,at=n.configure.minioDomains,rt=n.configure.consoleDomain;if(R){var st=S.filter((function(e){return""!==e.key.trim()})),it=(0,f.en)([]),ot={};switch(We){case"default":ot={affinity:(0,y.P)(e,it)};break;case"nodeSelector":ot={affinity:(0,y.q)($e,He,e,it)}}var lt=Te.split(":")[1],ct={name:e,namespace:u,access_key:"",secret_key:"",access_keys:[],secret_keys:[],enable_tls:ke&&Pe,enable_console:!0,enable_prometheus:!0,service_name:"",image:a,expose_minio:m,expose_console:h,pools:[(0,r.Z)((0,r.Z)({name:it,servers:De.nodes,volumes_per_server:De.disks,volume_configuration:{size:De.pvSize,storage_class_name:t},securityContext:we?Qe:null},ot),{},{tolerations:st})],erasureCodingParity:parseInt(lt,10)};""===n.tenantSize.resourcesCPURequest&&""===n.tenantSize.resourcesCPULimit&&""===n.tenantSize.resourcesMemoryRequest&&""===n.tenantSize.resourcesMemoryLimit||(ct.pools[0].resources={},""===n.tenantSize.resourcesCPURequest&&""===n.tenantSize.resourcesMemoryRequest||(ct.pools[0].resources.requests={},""!==n.tenantSize.resourcesCPURequest&&(ct.pools[0].resources.requests.cpu=parseInt(n.tenantSize.resourcesCPURequest)),""!==n.tenantSize.resourcesMemoryRequest&&(ct.pools[0].resources.requests.memory=parseInt((0,f.Pw)(n.tenantSize.resourcesMemoryRequest,"Gi",!0)))),""===n.tenantSize.resourcesCPULimit&&""===n.tenantSize.resourcesMemoryLimit||(ct.pools[0].resources.limits={},""!==n.tenantSize.resourcesCPULimit&&(ct.pools[0].resources.limits.cpu=parseInt(n.tenantSize.resourcesCPULimit)),""!==n.tenantSize.resourcesMemoryLimit&&(ct.pools[0].resources.limits.memory=parseInt((0,f.Pw)(n.tenantSize.resourcesMemoryLimit,"Gi",!0))))),s&&(ct=(0,r.Z)((0,r.Z)({},ct),{},{image_registry:{registry:l,username:c,password:d}})),Re&&(ct=(0,r.Z)((0,r.Z)({},ct),{},{logSearchConfiguration:{storageClass:"default"===Ee?"":Ee,storageSize:parseInt(Ke),image:ze,postgres_image:Ue,postgres_init_image:Le,securityContext:Je,postgres_securityContext:Ye}})),Fe&&(ct=(0,r.Z)((0,r.Z)({},ct),{},{prometheusConfiguration:{storageClass:"default"===Oe?"":Oe,storageSize:parseInt(Be),image:Me,sidecar_image:qe,init_image:Ve,securityContext:Xe}}));var dt=null,ut=null,mt=null,gt=null;if(V.length>0&&(mt={ca_certificates:V.map((function(e){return e.encoded_cert})).filter((function(e){return e}))}),O.length>0&&(gt={console_ca_certificates:O.map((function(e){return e.encoded_cert})).filter((function(e){return e}))}),ke&&q.length>0&&(dt={minio:q.map((function(e){return{crt:e.encoded_cert,key:e.encoded_key}})).filter((function(e){return e.crt&&e.key}))}),ke&&""!==B.encoded_cert&&""!==B.encoded_key&&(ut={console:{crt:B.encoded_cert,key:B.encoded_key}}),(dt||ut||mt||gt)&&(ct=(0,r.Z)((0,r.Z)({},ct),{},{tls:(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},dt),ut),mt),gt)})),Y){var pt={};switch(X){case"gemalto":var ft={};""!==J.encoded_cert&&(ft={ca:J.encoded_cert}),pt={gemalto:{keysecure:{endpoint:ee,credentials:{token:te,domain:ne,retry:parseInt(ae)},tls:(0,r.Z)({},ft)}}};break;case"aws":pt={aws:{secretsmanager:{endpoint:re,region:se,kmskey:ie,credentials:{accesskey:oe,secretkey:le,token:ce}}}};break;case"azure":pt={azure:{keyvault:{endpoint:ve,credentials:{tenant_id:Ce,client_id:Se,client_secret:je}}}};break;case"gcp":pt={gcp:{secretmanager:{project_id:Ze,endpoint:_e,credentials:{client_email:be,client_id:Ae,private_key_id:Ie,private_key:Ne}}}};break;case"vault":var ht=null,xt=null;""!==H.encoded_key&&""!==H.encoded_cert&&(ht={key:H.encoded_key,crt:H.encoded_cert}),""!==Q.encoded_cert&&(xt={ca:Q.encoded_cert});var yt=null;(ht||xt)&&(yt={tls:(0,r.Z)((0,r.Z)({},ht),xt)}),pt={vault:(0,r.Z)((0,r.Z)({endpoint:de,engine:ue,namespace:me,prefix:ge,approle:{engine:pe,id:fe,secret:he,retry:parseInt(xe)}},yt),{},{status:{ping:parseInt(ye)}})}}var vt={},Ct={};""!==$.encoded_key&&""!==$.encoded_cert&&(Ct={client:{key:$.encoded_key,crt:$.encoded_cert}}),""!==W.encoded_key&&""!==W.encoded_cert&&(vt={server:{key:W.encoded_key,crt:W.encoded_cert}}),ct=(0,r.Z)((0,r.Z)({},ct),{},{encryption:(0,r.Z)((0,r.Z)((0,r.Z)({replicas:tt,securityContext:et,image:Ge},Ct),vt),pt)})}var St={};switch(x){case"Built-in":for(var jt=[],Zt=0;Zt<L.length;Zt++)jt.push({access_key:L[Zt],secret_key:M[Zt]});St={keys:jt};break;case"OpenID":St={oidc:{configuration_url:v,client_id:C,secret_id:A,claim_name:j,callback_url:Z,scopes:_}};break;case"AD":St={active_directory:{url:I,skip_tls_verification:N,server_insecure:k,group_search_base_dn:T,group_search_filter:D,user_dns:w,lookup_bind_dn:K,lookup_bind_password:E,user_dn_search_base_dn:z,user_dn_search_filter:G,server_start_tls:U}}}var _t={},bt={};if(nt){""!==rt&&(_t.console=rt);var At=at.filter((function(e){return""!==e.trim()}));At.length>0&&(_t.minio=At),Object.keys(_t).length>0&&(bt.domains=_t)}ct=(0,r.Z)((0,r.Z)((0,r.Z)({},ct),bt),{},{idp:(0,r.Z)({},St)}),p.Z.invoke("POST","/api/v1/tenants",ct).then((function(e){var t=o()(e,"console",[]),n={idp:o()(e,"externalIDP",!1),console:[]};if(t)if(Array.isArray(t)){var a=t.map((function(e){return{accessKey:e.access_key,secretKey:e.secret_key,api:"s3v4",path:"auto",url:e.url}}));n.console=a}else n={console:{accessKey:e.console.access_key,secretKey:e.console.secret_key,url:e.console.url}};F(!1),b(!0),P(n)})).catch((function(e){F(!1),g(e)}))}}),[R]);var L={label:"Cancel",type:"other",enabled:!0,action:function(){x(),ee.Z.push("/tenants")}},M={label:"Create",type:"submit",enabled:!R&&""!==l&&["nameTenant","tenantSize","configure","affinity","identityProvider","security","encryption"].every((function(e){return m.includes(e)})),action:function(){F(!0)}},q=[{label:"Setup",componentRender:(0,k.jsx)(be,{}),buttons:[L,M]},{label:"Configure",advancedOnly:!0,componentRender:(0,k.jsx)(D,{}),buttons:[L,M]},{label:"Images",advancedOnly:!0,componentRender:(0,k.jsx)(ne,{}),buttons:[L,M]},{label:"Pod Placement",advancedOnly:!0,componentRender:(0,k.jsx)(Y,{}),buttons:[L,M]},{label:"Identity Provider",advancedOnly:!0,componentRender:(0,k.jsx)(G,{}),buttons:[L,M]},{label:"Security",advancedOnly:!0,componentRender:(0,k.jsx)(V,{}),buttons:[L,M]},{label:"Encryption",advancedOnly:!0,componentRender:(0,k.jsx)(W,{}),buttons:[L,M]},{label:"Audit Log",advancedOnly:!0,componentRender:(0,k.jsx)(Ne,{}),buttons:[L,M]},{label:"Monitoring",advancedOnly:!0,componentRender:(0,k.jsx)(ke,{}),buttons:[L,M]}];return(0,k.jsxs)(s.Fragment,{children:[_&&(0,k.jsx)(v.default,{newServiceAccount:N,open:_,closeModal:function(){x(),ee.Z.push("/tenants")},entity:"Tenant"}),(0,k.jsx)(X.Z,{label:(0,k.jsx)(re.Z,{to:"/tenants",label:"Tenants",executeOnClick:x})}),(0,k.jsxs)(ae.Z,{children:[R&&(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)(d.Z,{})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.pageBox,children:(0,k.jsx)(h.Z,{wizardSteps:q})}),z===je.cy.aws&&(0,k.jsx)(c.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,k.jsx)(Te.Z,{title:"EBS Volume Configuration.",iconComponent:(0,k.jsx)(de.id,{}),help:(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)("b",{children:"Performance Optimized"}),": Uses the ",(0,k.jsx)("i",{children:"gp3"})," EBS storage class class configured at 1,000Mi/s throughput and 16,000 IOPS, however the minimum volume size for this type of EBS volume is ",(0,k.jsx)("b",{children:"32Gi"}),".",(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("b",{children:"Storage Optimized"}),": Uses the ",(0,k.jsx)("i",{children:"sc1"})," EBS storage class, however the minimum volume size for this type of EBS volume is \xa0",(0,k.jsx)("b",{children:"16Ti"})," to unlock their maximum throughput speed of 250Mi/s."]})})})]})]})})))},22512:function(e,t,n){var a=n(72791),r=n(20890),s=n(11135),i=n(25787),o=n(80184);t.Z=(0,i.Z)((function(e){var t;return(0,s.Z)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,n=e.errorMessage,s=e.withBreak,i=void 0===s||s;return(0,o.jsxs)(a.Fragment,{children:[i&&(0,o.jsx)("br",{}),(0,o.jsx)(r.Z,{component:"p",variant:"body1",className:t.errorBlock,children:n})]})}))}}]);
//# sourceMappingURL=5646.df015c08.chunk.js.map