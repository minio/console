"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2661],{82661:function(e,n,a){a.r(n),a.d(n,{default:function(){return R}});var t=a(29439),l=a(1413),s=a(72791),i=a(45953),o=a(75952),c=a(11135),r=a(25787),u=a(81207),d=a(9827),f=a(60807),Z=a(24390),m=a(19773),p=a(45473),x=a(21680),v=a(23814),h=a(56028),j=a(21435),b=a(75017),g=a(40508),C=a(75814),N=a(81898),k=a(72455),S=a(67762),P=a(84570),E=a(80184),T=(0,k.Z)((function(e){return(0,c.Z)((0,l.Z)({},v.gM))}));function M(e){var n=T();return(0,E.jsx)(b.Z,(0,l.Z)({InputProps:{classes:n}},e))}var w=(0,r.Z)((function(e){return(0,c.Z)((0,l.Z)((0,l.Z)({},v.YI),v.Hr))}))((function(e){var n=e.classes,a=e.id,o=e.name,c=e.onChange,r=e.options,u=e.label,d=e.tooltip,f=void 0===d?"":d,Z=e.value,m=e.disabled,p=void 0!==m&&m,x=(0,s.useState)(r[0]),v=(0,t.Z)(x,2),h=v[0],j=v[1];return(0,E.jsx)(s.Fragment,{children:(0,E.jsxs)(i.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==u&&(0,E.jsxs)(g.Z,{htmlFor:a,className:n.inputLabel,children:[(0,E.jsx)("span",{children:u}),""!==f&&(0,E.jsx)("div",{className:n.tooltipContainer,children:(0,E.jsx)(C.Z,{title:f,placement:"top-start",children:(0,E.jsx)("div",{className:n.tooltip,children:(0,E.jsx)(P.Z,{})})})})]}),(0,E.jsx)(N.Z,{fullWidth:!0,children:(0,E.jsx)(S.Z,{id:a,options:r,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===Z},disabled:p,renderInput:function(e){return(0,E.jsx)(M,(0,l.Z)((0,l.Z)({},e),{},{name:o}))},value:h,onChange:function(e,n){n&&(c(n.value),j(n))},autoHighlight:!0})})]})})})),y=a(56096),B=a(87995),O=a(25469),R=(0,r.Z)((function(e){return(0,c.Z)((0,l.Z)((0,l.Z)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},v.DF),v.ID))}))((function(e){var n=e.classes,a=e.open,l=e.selectedBucket,c=e.closeModalAndRefresh,r=(0,O.TL)(),v=(0,s.useState)(!1),b=(0,t.Z)(v,2),g=b[0],C=b[1],N=(0,s.useState)(""),k=(0,t.Z)(N,2),S=k[0],P=k[1],T=(0,s.useState)(""),M=(0,t.Z)(T,2),R=M[0],F=M[1],z=(0,s.useState)(""),D=(0,t.Z)(z,2),H=D[0],I=D[1],L=(0,s.useState)([]),W=(0,t.Z)(L,2),A=W[0],G=W[1],K=(0,s.useState)([]),U=(0,t.Z)(K,2),V=U[0],_=U[1],q=(0,s.useCallback)((function(){C(!0),u.Z.invoke("GET","/api/v1/admin/arns").then((function(e){var n=[];null!==e.arns&&(n=e.arns),C(!1),_(n)})).catch((function(e){C(!1),r((0,B.zb)(e))}))}),[r]);(0,s.useEffect)((function(){q()}),[q]);var Q=function(e,n){var a=A.indexOf(n),t=[];-1===a?t=t.concat(A,n):0===a?t=t.concat(A.slice(1)):a===A.length-1?t=t.concat(A.slice(0,-1)):a>0&&(t=t.concat(A.slice(0,a),A.slice(a+1))),G(t)},Y=V.map((function(e){return{label:e,value:e}}));return(0,E.jsx)(h.Z,{modalOpen:a,onClose:function(){c()},title:"Subscribe To Bucket Events",titleIcon:(0,E.jsx)(y.c3W,{}),children:(0,E.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(C(!0),u.Z.invoke("POST","/api/v1/buckets/".concat(l,"/events"),{configuration:{arn:H,events:A,prefix:S,suffix:R},ignoreExisting:!0}).then((function(){C(!1),c()})).catch((function(e){C(!1),r((0,B.zb)(e))})))},children:(0,E.jsxs)(i.ZP,{container:!0,children:[(0,E.jsxs)(i.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,E.jsx)(i.ZP,{item:!0,xs:12,className:"".concat(n.arnField," ").concat(n.formFieldRow),children:(0,E.jsx)(w,{onChange:function(e){I(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:H,options:Y})}),(0,E.jsx)(i.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,E.jsx)(j.Z,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:S,onChange:function(e){P(e.target.value)}})}),(0,E.jsx)(i.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,E.jsx)(j.Z,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:R,onChange:function(e){F(e.target.value)}})}),(0,E.jsx)(i.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,E.jsxs)(x.Z,{size:"medium",children:[(0,E.jsx)(d.Z,{className:n.minTableHeader,children:(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(Z.Z,{children:"Select"}),(0,E.jsx)(Z.Z,{children:"Event"})]})}),(0,E.jsx)(m.Z,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return(0,E.jsxs)(f.Z,{onClick:function(n){return Q(0,e.value)},children:[(0,E.jsx)(Z.Z,{padding:"checkbox",children:(0,E.jsx)(p.Z,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(n){return Q(0,e.value)},checked:A.includes(e.value)})}),(0,E.jsx)(Z.Z,{className:n.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),(0,E.jsxs)(i.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,E.jsx)(o.zx,{id:"cancel-add-event",type:"button",variant:"regular",disabled:g,onClick:function(){c()},label:"Cancel"}),(0,E.jsx)(o.zx,{id:"save-event",type:"submit",variant:"callAction",disabled:g,label:"Save"})]})]})})})}))},56028:function(e,n,a){var t=a(29439),l=a(1413),s=a(72791),i=a(92177),o=a(13811),c=a(11647),r=a(58195),u=a(40464),d=a(8440),f=a(11135),Z=a(25787),m=a(23814),p=a(25469),x=a(29823),v=a(28057),h=a(87995),j=a(80184);n.Z=(0,Z.Z)((function(e){return(0,f.Z)((0,l.Z)((0,l.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var n=e.onClose,a=e.modalOpen,f=e.title,Z=e.children,m=e.classes,b=e.wideLimit,g=void 0===b||b,C=e.noContentPadding,N=e.titleIcon,k=void 0===N?null:N,S=(0,p.TL)(),P=(0,s.useState)(!1),E=(0,t.Z)(P,2),T=E[0],M=E[1],w=(0,i.v9)((function(e){return e.system.modalSnackBar}));(0,s.useEffect)((function(){S((0,h.MK)(""))}),[S]),(0,s.useEffect)((function(){if(w){if(""===w.message)return void M(!1);"error"!==w.type&&M(!0)}}),[w]);var y=g?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},B="";return w&&(B=w.detailedErrorMsg,(""===w.detailedErrorMsg||w.detailedErrorMsg.length<5)&&(B=w.message)),(0,j.jsxs)(r.Z,(0,l.Z)((0,l.Z)({open:a,classes:m},y),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&n()},className:m.root,children:[(0,j.jsxs)(u.Z,{className:m.title,children:[(0,j.jsxs)("div",{className:m.titleText,children:[k," ",f]}),(0,j.jsx)("div",{className:m.closeContainer,children:(0,j.jsx)(o.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,j.jsx)(x.Z,{})})})]}),(0,j.jsx)(v.Z,{isModal:!0}),(0,j.jsx)(c.Z,{open:T,className:m.snackBarModal,onClose:function(){M(!1),S((0,h.MK)(""))},message:B,ContentProps:{className:"".concat(m.snackBar," ").concat(w&&"error"===w.type?m.errorSnackBar:"")},autoHideDuration:w&&"error"===w.type?1e4:5e3}),(0,j.jsx)(d.Z,{className:C?"":m.content,children:Z})]}))}))},9827:function(e,n,a){a.d(n,{Z:function(){return j}});var t=a(32793),l=a(1048),s=a(72791),i=a(28182),o=a(94419),c=a(637),r=a(85513),u=a(60277),d=a(75878),f=a(21217);function Z(e){return(0,f.Z)("MuiTableHead",e)}(0,d.Z)("MuiTableHead",["root"]);var m=a(80184),p=["className","component"],x=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),v={variant:"head"},h="thead",j=s.forwardRef((function(e,n){var a=(0,r.Z)({props:e,name:"MuiTableHead"}),s=a.className,u=a.component,d=void 0===u?h:u,f=(0,l.Z)(a,p),j=(0,t.Z)({},a,{component:d}),b=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},Z,n)}(j);return(0,m.jsx)(c.Z.Provider,{value:v,children:(0,m.jsx)(x,(0,t.Z)({as:d,className:(0,i.Z)(b.root,s),ref:n,role:d===h?null:"rowgroup",ownerState:j},f))})}))}}]);
//# sourceMappingURL=2661.331e3edf.chunk.js.map