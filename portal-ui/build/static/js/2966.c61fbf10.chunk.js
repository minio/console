"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2966],{82825:function(e,n,t){t.r(n);var a=t(23430),o=t(18489),i=t(50390),r=t(34424),s=t(18201),l=t(66946),c=t(81378),d=t(86509),u=t(4285),m=t(25594),p=t(72462),h=t(44149),f=t(30324),x=t(76352),v=t(27207),Z=t(66964),b=t(62559),g=(0,r.$j)(null,{setModalErrorSnackMessage:h.zb});n.default=(0,u.Z)((function(e){return(0,d.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.bK),p.QV),p.DF),p.ID))}))(g((function(e){var n=e.classes,t=e.open,o=e.bucketName,r=e.closeModalAndRefresh,d=e.setModalErrorSnackMessage,u=(0,i.useState)(!1),p=(0,a.Z)(u,2),h=p[0],g=p[1],j=(0,i.useState)(!0),C=(0,a.Z)(j,2),k=C[0],y=C[1],N=(0,i.useState)("compliance"),S=(0,a.Z)(N,2),M=S[0],w=S[1],F=(0,i.useState)("days"),I=(0,a.Z)(F,2),R=I[0],E=I[1],B=(0,i.useState)(1),L=(0,a.Z)(B,2),P=L[0],O=L[1],z=(0,i.useState)(!1),D=(0,a.Z)(z,2),W=D[0],T=D[1];return(0,i.useEffect)((function(){Number.isNaN(P)||P<1?T(!1):T(!0)}),[P]),(0,i.useEffect)((function(){k&&f.Z.invoke("GET","/api/v1/buckets/".concat(o,"/retention")).then((function(e){y(!1),w(e.mode),O(e.validity),E(e.unit)})).catch((function(e){y(!1)}))}),[k,o]),(0,b.jsx)(x.Z,{title:"Set Retention Configuration",modalOpen:t,onClose:function(){r()},children:k?(0,b.jsx)(s.Z,{color:"primary",size:16,variant:"indeterminate"}):(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),h||(g(!0),f.Z.invoke("PUT","/api/v1/buckets/".concat(o,"/retention"),{mode:M,unit:R,validity:P}).then((function(){g(!1),r()})).catch((function(e){g(!1),d(e)})))},children:(0,b.jsxs)(m.ZP,{container:!0,children:[(0,b.jsxs)(m.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,b.jsx)(m.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(v.Z,{currentSelection:M,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:function(e){w(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,b.jsx)(m.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(v.Z,{currentSelection:R,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:function(e){E(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]})}),(0,b.jsx)(m.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,b.jsx)(Z.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){O(e.target.valueAsNumber)},label:"Retention Validity",value:String(P),required:!0,min:"1"})})]}),(0,b.jsxs)(m.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,b.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",disabled:h,onClick:function(){r()},children:"Cancel"}),(0,b.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:h||!W,children:"Set"})]}),h&&(0,b.jsx)(m.ZP,{item:!0,xs:12,children:(0,b.jsx)(c.Z,{})})]})})})})))},66964:function(e,n,t){var a=t(18489),o=t(50390),i=t(12066),r=t(25594),s=t(14602),l=t(94187),c=t(95467),d=t(86509),u=t(62449),m=t(4285),p=t(72462),h=t(97538),f=t(44977),x=t(62559),v=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)({},p.gM))}));function Z(e){var n=v();return(0,x.jsx)(i.Z,(0,a.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,a.Z)((0,a.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,i=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,v=e.autoComplete,b=void 0===v?"off":v,g=e.disabled,j=void 0!==g&&g,C=e.multiline,k=void 0!==C&&C,y=e.tooltip,N=void 0===y?"":y,S=e.index,M=void 0===S?0:S,w=e.error,F=void 0===w?"":w,I=e.required,R=void 0!==I&&I,E=e.placeholder,B=void 0===E?"":E,L=e.min,P=e.max,O=e.overlayIcon,z=void 0===O?null:O,D=e.overlayObject,W=void 0===D?null:D,T=e.extraInputProps,_=void 0===T?{}:T,A=e.overlayAction,H=e.noLabelMinWidth,q=void 0!==H&&H,U=e.pattern,Y=void 0===U?"":U,G=e.autoFocus,V=void 0!==G&&G,$=e.classes,K=e.className,Q=void 0===K?"":K,X=(0,a.Z)({"data-index":M},_);return"number"===p&&L&&(X.min=L),"number"===p&&P&&(X.max=P),""!==Y&&(X.pattern=Y),(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(r.ZP,{container:!0,className:(0,f.Z)(""!==Q?Q:"",""!==F?$.errorInField:$.inputBoxContainer),children:[""!==n&&(0,x.jsxs)(s.Z,{htmlFor:d,className:q?$.noMinWidthLabel:$.inputLabel,children:[(0,x.jsxs)("span",{children:[n,R?"*":""]}),""!==N&&(0,x.jsx)("div",{className:$.tooltipContainer,children:(0,x.jsx)(l.Z,{title:N,placement:"top-start",children:(0,x.jsx)("div",{className:$.tooltip,children:(0,x.jsx)(h.Z,{})})})})]}),(0,x.jsxs)("div",{className:$.textBoxContainer,children:[(0,x.jsx)(Z,{id:d,name:u,fullWidth:!0,value:i,autoFocus:V,disabled:j,onChange:t,type:p,multiline:k,autoComplete:b,inputProps:X,error:""!==F,helperText:F,placeholder:B,className:$.inputRebase}),z&&(0,x.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,x.jsx)(c.Z,{onClick:A?function(){A()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),W&&(0,x.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:W})]})]})})}))},27207:function(e,n,t){var a=t(36222),o=t(18489),i=(t(50390),t(44977)),r=t(25594),s=t(82420),l=t(66695),c=t(98893),d=t(14602),u=t(94187),m=t(86509),p=t(4285),h=t(62449),f=t(72462),x=t(97538),v=t(62559),Z=(0,h.Z)((0,o.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},f.FU)),b=function(e){var n=Z();return(0,v.jsx)(c.Z,(0,o.Z)({className:n.root,disableRipple:!0,color:"default",checkedIcon:(0,v.jsx)("span",{className:n.radioSelectedIcon}),icon:(0,v.jsx)("span",{className:n.radioUnselectedIcon})},e))};n.Z=(0,p.Z)((function(e){return(0,m.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},f.YI),f.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var n=e.selectorOptions,t=void 0===n?[]:n,o=e.currentSelection,c=e.label,m=e.id,p=e.name,h=e.onChange,f=e.tooltip,Z=void 0===f?"":f,g=e.disableOptions,j=void 0!==g&&g,C=e.classes,k=e.displayInColumn,y=void 0!==k&&k;return(0,v.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,v.jsx)(r.ZP,{item:!0,xs:!0,children:(0,v.jsxs)(d.Z,{htmlFor:m,className:C.inputLabel,children:[(0,v.jsx)("span",{children:c}),""!==Z&&(0,v.jsx)("div",{className:C.tooltipContainer,children:(0,v.jsx)(u.Z,{title:Z,placement:"top-start",children:(0,v.jsx)("div",{children:(0,v.jsx)(x.Z,{})})})})]})}),(0,v.jsx)(r.ZP,{item:!0,xs:!0,className:C.radioOptionsLayout,children:(0,v.jsx)(s.Z,{"aria-label":m,id:m,name:p,value:o,onChange:h,row:!y,style:{display:"block",textAlign:"right"},children:t.map((function(e){return(0,v.jsx)(l.Z,{value:e.value,control:(0,v.jsx)(b,{}),label:e.label,disabled:j,className:(0,i.Z)(C.optionLabel,(0,a.Z)({},C.checkedOption,e.value===o))},"rd-".concat(p,"-").concat(e.value))}))})})]})}))},76352:function(e,n,t){t.d(n,{Z:function(){return M}});var a,o=t(23430),i=t(18489),r=t(50390),s=t(34424),l=t(95467),c=t(97771),d=t(84402),u=t(78426),m=t(93085),p=t(86509),h=t(4285),f=t(72462),x=t(44149),v=t(38342),Z=t.n(v),b=t(92125),g=t(19538),j=t(21278),C=t(62559),k=function(){clearInterval(a)},y={displayErrorMessage:x.zb},N=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),y)((0,h.Z)((function(e){return(0,p.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,t=e.modalSnackMessage,i=e.displayErrorMessage,s=e.customStyle,l=(0,r.useState)(!1),c=(0,o.Z)(l,2),d=c[0],u=c[1],m=(0,r.useState)(!1),p=(0,o.Z)(m,2),h=p[0],f=p[1],x=(0,r.useCallback)((function(){f(!1)}),[]);(0,r.useEffect)((function(){h||(i({detailedError:"",errorMessage:""}),u(!1))}),[i,h]),(0,r.useEffect)((function(){""!==t.message&&"error"===t.type&&f(!0)}),[x,t.message,t.type]);var v=Z()(t,"message",""),y=Z()(t,"detailedErrorMsg","");return"error"!==t.type||""===v?null:(0,C.jsx)(r.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(h?n.modalErrorShow:""),style:s,onMouseOver:k,onMouseLeave:function(){a=setInterval(x,1e4)},children:[(0,C.jsx)("button",{className:n.closeButton,onClick:x,children:(0,C.jsx)(j.Z,{})}),(0,C.jsxs)("div",{className:n.errorTitle,children:[(0,C.jsx)("span",{className:n.messageIcon,children:(0,C.jsx)(g.Z,{})}),(0,C.jsx)("span",{className:n.errorLabel,children:v})]}),""!==y&&(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)("div",{className:n.detailsContainerLink,children:(0,C.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(b.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:y})]})]})})}))),S=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK}),M=(0,h.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},f.Qw),{},{root:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},f.sN))}))(S((function(e){var n=e.onClose,t=e.modalOpen,a=e.title,s=e.children,p=e.classes,h=e.wideLimit,f=void 0===h||h,x=e.modalSnackMessage,v=e.noContentPadding,Z=e.setModalSnackMessage,b=e.titleIcon,g=void 0===b?null:b,k=(0,r.useState)(!1),y=(0,o.Z)(k,2),S=y[0],M=y[1];(0,r.useEffect)((function(){Z("")}),[Z]),(0,r.useEffect)((function(){if(x){if(""===x.message)return void M(!1);"error"!==x.type&&M(!0)}}),[x]);var w=f?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},F="";return x&&(F=x.detailedErrorMsg,(""===x.detailedErrorMsg||x.detailedErrorMsg.length<5)&&(F=x.message)),(0,C.jsxs)(d.Z,(0,i.Z)((0,i.Z)({open:t,classes:p},w),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:p.root,children:[(0,C.jsxs)(u.Z,{className:p.title,children:[(0,C.jsxs)("div",{className:p.titleText,children:[g," ",a]}),(0,C.jsx)("div",{className:p.closeContainer,children:(0,C.jsx)(l.Z,{"aria-label":"close",className:p.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,C.jsx)(j.Z,{})})})]}),(0,C.jsx)(N,{}),(0,C.jsx)(c.Z,{open:S,className:p.snackBarModal,onClose:function(){M(!1),Z("")},message:F,ContentProps:{className:"".concat(p.snackBar," ").concat(x&&"error"===x.type?p.errorSnackBar:"")},autoHideDuration:x&&"error"===x.type?1e4:5e3}),(0,C.jsx)(m.Z,{className:v?"":p.content,children:s})]}))})))},16756:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(23430),o=t(1048),i=t(32793),r=t(50390),s=t(44977),l=t(50076),c=t(91442),d=t(8208),u=t(55386),m=t(23060),p=t(86875),h=t(10594);function f(e){return(0,h.Z)("PrivateSwitchBase",e)}(0,t(43349).Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var x=t(62559),v=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Z=(0,d.ZP)(p.Z)((function(e){var n=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),b=(0,d.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g=r.forwardRef((function(e,n){var t=e.autoFocus,r=e.checked,d=e.checkedIcon,p=e.className,h=e.defaultChecked,g=e.disabled,j=e.disableFocusRipple,C=void 0!==j&&j,k=e.edge,y=void 0!==k&&k,N=e.icon,S=e.id,M=e.inputProps,w=e.inputRef,F=e.name,I=e.onBlur,R=e.onChange,E=e.onFocus,B=e.readOnly,L=e.required,P=e.tabIndex,O=e.type,z=e.value,D=(0,o.Z)(e,v),W=(0,u.Z)({controlled:r,default:Boolean(h),name:"SwitchBase",state:"checked"}),T=(0,a.Z)(W,2),_=T[0],A=T[1],H=(0,m.Z)(),q=g;H&&"undefined"===typeof q&&(q=H.disabled);var U="checkbox"===O||"radio"===O,Y=(0,i.Z)({},e,{checked:_,disabled:q,disableFocusRipple:C,edge:y}),G=function(e){var n=e.classes,t=e.checked,a=e.disabled,o=e.edge,i={root:["root",t&&"checked",a&&"disabled",o&&"edge".concat((0,c.Z)(o))],input:["input"]};return(0,l.Z)(i,f,n)}(Y);return(0,x.jsxs)(Z,(0,i.Z)({component:"span",className:(0,s.Z)(G.root,p),centerRipple:!0,focusRipple:!C,disabled:q,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),H&&H.onFocus&&H.onFocus(e)},onBlur:function(e){I&&I(e),H&&H.onBlur&&H.onBlur(e)},ownerState:Y,ref:n},D,{children:[(0,x.jsx)(b,(0,i.Z)({autoFocus:t,checked:r,defaultChecked:h,className:G.input,disabled:q,id:U&&S,name:F,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;A(n),R&&R(e,n)}},readOnly:B,ref:w,required:L,ownerState:Y,tabIndex:P,type:O},"checkbox"===O&&void 0===z?{}:{value:z},M)),_?d:N]}))}))}}]);
//# sourceMappingURL=2966.c61fbf10.chunk.js.map