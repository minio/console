"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1711],{31711:function(e,n,t){t.r(n);var i=t(23430),a=t(18489),o=t(50390),l=t(34424),r=t(66946),s=t(81378),c=t(86509),d=t(4285),u=t(25594),p=t(28948),m=t(44149),h=t(72462),x=t(92440),b=t(66964),f=t(51002),Z=t(30324),v=t(14549),g=t(1365),j=t(62559),C=(0,l.$j)(null,{setModalErrorSnackMessage:m.zb});n.default=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)({},h.DF),h.ID))}))(C((function(e){var n=e.classes,t=e.open,a=e.enabled,l=e.cfg,c=e.selectedBucket,d=e.closeModalAndRefresh,m=e.setModalErrorSnackMessage,h=(0,o.useState)(!1),C=(0,i.Z)(h,2),k=C[0],N=C[1],y=(0,o.useState)(!1),F=(0,i.Z)(y,2),P=F[0],S=F[1],w=(0,o.useState)("1"),M=(0,i.Z)(w,2),B=M[0],L=M[1],E=(0,o.useState)("TiB"),q=(0,i.Z)(E,2),I=q[0],R=q[1];(0,o.useEffect)((function(){if(a&&(S(!0),l)){L("".concat(l.quota)),R("Gi");for(var e="B",n=l.quota,t=0;t<p.Dl.length&&l.quota%Math.pow(1024,t)===0;t++)n=l.quota/Math.pow(1024,t),e=p.Dl[t];L("".concat(n)),R(e)}}),[a,l]);return(0,j.jsx)(f.Z,{modalOpen:t,onClose:function(){d()},title:"Enable Bucket Quota",titleIcon:(0,j.jsx)(v.Wq,{}),children:(0,j.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),function(){if(!k){var e={enabled:P,amount:parseInt((0,p.Pw)(B,I,!0)),quota_type:"hard"};Z.Z.invoke("PUT","/api/v1/buckets/".concat(c,"/quota"),e).then((function(){N(!1),d()})).catch((function(e){N(!1),m(e)}))}}()},children:(0,j.jsxs)(u.ZP,{container:!0,children:[(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(x.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:P,onChange:function(e){S(e.target.checked)},label:"Enabled"})}),P&&(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,j.jsx)(u.ZP,{container:!0,children:(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(b.Z,{id:"quota_size",name:"quota_size",onChange:function(e){e.target.validity.valid&&L(e.target.value)},pattern:"[0-9]*",label:"Quota",value:B,required:!0,min:"1",overlayObject:(0,j.jsx)(g.Z,{id:"quota_unit",onUnitChange:function(e){R(e)},unitSelected:I,unitsList:(0,p.zQ)(["Ki"]),disabled:!1})})})})})})]}),(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,j.jsx)(r.Z,{type:"button",variant:"outlined",color:"primary",disabled:k,onClick:function(){d()},children:"Cancel"}),(0,j.jsx)(r.Z,{type:"submit",variant:"contained",color:"primary",disabled:k,children:"Save"})]}),k&&(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(s.Z,{})})]})})})})))},92440:function(e,n,t){var i=t(36222),a=t(18489),o=t(50390),l=t(86509),r=t(4285),s=t(49056),c=t(36554),d=t(94187),u=t(35477),p=t(25594),m=t(72462),h=t(97538),x=t(44977),b=t(62559),f=(0,r.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(s.Z);n.Z=(0,r.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},m.OR),m.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,l=e.onChange,r=e.value,s=e.id,m=e.name,Z=e.checked,v=void 0!==Z&&Z,g=e.disabled,j=void 0!==g&&g,C=e.switchOnly,k=void 0!==C&&C,N=e.tooltip,y=void 0===N?"":N,F=e.description,P=void 0===F?"":F,S=e.classes,w=e.indicatorLabels,M=e.extraInputProps,B=void 0===M?{}:M,L=(0,b.jsxs)(o.Fragment,{children:[!k&&(0,b.jsx)("span",{className:(0,x.Z)(S.indicatorLabel,(0,i.Z)({},S.indicatorLabelOn,!v)),children:w&&w.length>1?w[1]:"OFF"}),(0,b.jsx)(f,{checked:v,onChange:l,color:"primary",name:m,inputProps:(0,a.Z)({"aria-label":"primary checkbox"},B),disabled:j,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:r,id:s}),!k&&(0,b.jsx)("span",{className:(0,x.Z)(S.indicatorLabel,(0,i.Z)({},S.indicatorLabelOn,v)),children:w?w[0]:"ON"})]});return k?L:(0,b.jsx)("div",{className:S.divContainer,children:(0,b.jsxs)(p.ZP,{container:!0,alignItems:"center",children:[(0,b.jsx)(p.ZP,{item:!0,xs:!0,children:(0,b.jsxs)(p.ZP,{container:!0,children:[(0,b.jsx)(p.ZP,{item:!0,xs:12,sm:""!==P?4:10,md:""!==P?3:9,children:""!==t&&(0,b.jsxs)(c.Z,{htmlFor:s,className:S.inputLabel,children:[(0,b.jsx)("span",{children:t}),""!==y&&(0,b.jsx)("div",{className:S.tooltipContainer,children:(0,b.jsx)(d.Z,{title:y,placement:"top-start",children:(0,b.jsx)("div",{className:S.tooltip,children:(0,b.jsx)(h.Z,{})})})})]})}),(0,b.jsx)(p.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==P&&(0,b.jsx)(u.Z,{component:"p",className:S.fieldDescription,children:P})})]})}),(0,b.jsx)(p.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:S.switchContainer,children:L})]})})}))},66964:function(e,n,t){var i=t(18489),a=t(50390),o=t(12066),l=t(25594),r=t(36554),s=t(94187),c=t(95467),d=t(86509),u=t(62449),p=t(4285),m=t(72462),h=t(97538),x=t(44977),b=t(62559),f=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)({},m.gM))}));function Z(e){var n=f();return(0,b.jsx)(o.Z,(0,i.Z)({InputProps:{classes:n}},e))}n.Z=(0,p.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,i.Z)((0,i.Z)({},m.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,o=e.value,d=e.id,u=e.name,p=e.type,m=void 0===p?"text":p,f=e.autoComplete,v=void 0===f?"off":f,g=e.disabled,j=void 0!==g&&g,C=e.multiline,k=void 0!==C&&C,N=e.tooltip,y=void 0===N?"":N,F=e.index,P=void 0===F?0:F,S=e.error,w=void 0===S?"":S,M=e.required,B=void 0!==M&&M,L=e.placeholder,E=void 0===L?"":L,q=e.min,I=e.max,R=e.overlayId,z=e.overlayIcon,O=void 0===z?null:z,A=e.overlayObject,D=void 0===A?null:A,T=e.extraInputProps,W=void 0===T?{}:T,_=e.overlayAction,$=e.noLabelMinWidth,K=void 0!==$&&$,Q=e.pattern,U=void 0===Q?"":Q,H=e.autoFocus,V=void 0!==H&&H,Y=e.classes,G=e.className,X=void 0===G?"":G,J=e.onKeyPress,ee=(0,i.Z)({"data-index":P},W);return"number"===m&&q&&(ee.min=q),"number"===m&&I&&(ee.max=I),""!==U&&(ee.pattern=U),(0,b.jsx)(a.Fragment,{children:(0,b.jsxs)(l.ZP,{container:!0,className:(0,x.Z)(""!==X?X:"",""!==w?Y.errorInField:Y.inputBoxContainer),children:[""!==n&&(0,b.jsxs)(r.Z,{htmlFor:d,className:K?Y.noMinWidthLabel:Y.inputLabel,children:[(0,b.jsxs)("span",{children:[n,B?"*":""]}),""!==y&&(0,b.jsx)("div",{className:Y.tooltipContainer,children:(0,b.jsx)(s.Z,{title:y,placement:"top-start",children:(0,b.jsx)("div",{className:Y.tooltip,children:(0,b.jsx)(h.Z,{})})})})]}),(0,b.jsxs)("div",{className:Y.textBoxContainer,children:[(0,b.jsx)(Z,{id:d,name:u,fullWidth:!0,value:o,autoFocus:V,disabled:j,onChange:t,type:m,multiline:k,autoComplete:v,inputProps:ee,error:""!==w,helperText:w,placeholder:E,className:Y.inputRebase,onKeyPress:J}),O&&(0,b.jsx)("div",{className:"".concat(Y.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,b.jsx)(c.Z,{onClick:_?function(){_()}:function(){return null},id:R,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:O})}),D&&(0,b.jsx)("div",{className:"".concat(Y.overlayAction," ").concat(""!==n?"withLabel":""),children:D})]})]})})}))},1365:function(e,n,t){var i=t(23430),a=t(50390),o=t(86509),l=t(4285),r=t(26936),s=t(31680),c=t(62559);n.Z=(0,l.Z)((function(e){return(0,o.Z)({buttonTrigger:{border:"#F0F2F2 1px solid",borderRadius:3,color:"#838383",backgroundColor:"#fff",fontSize:12}})}))((function(e){var n=e.classes,t=e.id,o=e.unitSelected,l=e.unitsList,d=e.disabled,u=void 0!==d&&d,p=e.onUnitChange,m=a.useState(null),h=(0,i.Z)(m,2),x=h[0],b=h[1],f=Boolean(x),Z=function(e){b(null),""!==e&&p&&p(e)};return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)("button",{id:"".concat(t,"-button"),"aria-controls":"".concat(t,"-menu"),"aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:function(e){b(e.currentTarget)},className:n.buttonTrigger,disabled:u,type:"button",children:o}),(0,c.jsx)(r.Z,{id:"".concat(t,"-menu"),"aria-labelledby":"".concat(t,"-button"),anchorEl:x,open:f,onClose:function(){Z("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:l.map((function(e){return(0,c.jsx)(s.Z,{onClick:function(){return Z(e.value)},children:e.label},"itemUnit-".concat(e.value,"-").concat(e.label))}))})]})}))},51002:function(e,n,t){var i=t(23430),a=t(18489),o=t(50390),l=t(34424),r=t(95467),s=t(97771),c=t(84402),d=t(78426),u=t(93085),p=t(86509),m=t(4285),h=t(72462),x=t(44149),b=t(21278),f=t(45980),Z=t(62559),v=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK});n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,a.Z)((0,a.Z)({},h.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},h.sN))}))(v((function(e){var n=e.onClose,t=e.modalOpen,l=e.title,p=e.children,m=e.classes,h=e.wideLimit,x=void 0===h||h,v=e.modalSnackMessage,g=e.noContentPadding,j=e.setModalSnackMessage,C=e.titleIcon,k=void 0===C?null:C,N=(0,o.useState)(!1),y=(0,i.Z)(N,2),F=y[0],P=y[1];(0,o.useEffect)((function(){j("")}),[j]),(0,o.useEffect)((function(){if(v){if(""===v.message)return void P(!1);"error"!==v.type&&P(!0)}}),[v]);var S=x?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return v&&(w=v.detailedErrorMsg,(""===v.detailedErrorMsg||v.detailedErrorMsg.length<5)&&(w=v.message)),(0,Z.jsxs)(c.Z,(0,a.Z)((0,a.Z)({open:t,classes:m},S),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:m.root,children:[(0,Z.jsxs)(d.Z,{className:m.title,children:[(0,Z.jsxs)("div",{className:m.titleText,children:[k," ",l]}),(0,Z.jsx)("div",{className:m.closeContainer,children:(0,Z.jsx)(r.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,Z.jsx)(b.Z,{})})})]}),(0,Z.jsx)(f.Z,{isModal:!0}),(0,Z.jsx)(s.Z,{open:F,className:m.snackBarModal,onClose:function(){P(!1),j("")},message:w,ContentProps:{className:"".concat(m.snackBar," ").concat(v&&"error"===v.type?m.errorSnackBar:"")},autoHideDuration:v&&"error"===v.type?1e4:5e3}),(0,Z.jsx)(u.Z,{className:g?"":m.content,children:p})]}))})))}}]);
//# sourceMappingURL=1711.2657a246.chunk.js.map